(()=>{var a={};a.id=9980,a.ids=[9980],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21492:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["(protected)",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,78768)),"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/(protected)/booking/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,95555)),"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/(protected)/booking/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/(protected)/booking/page",pathname:"/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/(protected)/booking/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},21820:a=>{"use strict";a.exports=require("os")},22815:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]])},25345:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},38043:(a,b,c)=>{Promise.resolve().then(c.bind(c,60076))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},46148:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},60076:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>aX});var d=c(21124),e=c(38301),f=c(42378),g=c(85956),h=c(42830),i=c(47331),j=c(99042),k=c(19217),l=c(7629),m=c(60874),n=c(88285),o=c(75234),p=c(18310),q=c(69957),r=c(67454);function s({onAddressSelect:a}){let[b,c]=(0,e.useState)(""),[f,g]=(0,e.useState)(!1),[h,k]=(0,e.useState)([]),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(null),w=(0,e.useCallback)(a=>{let b,c,d,e,f=a.context||[],g=a.properties?.address||"",h=a.text||"",i=g?`${g} ${h}`.trim():h||a.place_name.split(",")[0]||"";for(let a of f)switch(a.id.split(".")[0]){case"place":case"locality":b=a.text;break;case"region":c=a.short_code?.split("-")[1]||a.text;break;case"postcode":d=a.text;break;case"country":e=a.short_code?.toUpperCase()||a.text}return{addressLine1:i,city:b,region:c,postalCode:d,countryCode:e}},[]),x=(0,e.useCallback)(async b=>{c(b.place_name),k([]),g(!1);let[d,e]=b.center,f=w(b);a(b.place_name,{lat:e,lng:d},f)},[a,w]);return(0,d.jsx)("div",{className:"relative w-full max-w-3xl mx-auto",children:(0,d.jsxs)(r.P.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 flex items-center gap-3",children:(0,d.jsx)(n.A,{className:"h-6 w-6 text-muted-foreground/60"})}),(0,d.jsx)(l.p,{value:b,onChange:a=>c(a.target.value),onFocus:()=>g(!0),onBlur:()=>{setTimeout(()=>g(!1),150)},placeholder:"Enter property address...",className:"h-16 pl-16 pr-6 text-lg rounded-2xl transition-all md:rounded-3xl",variant:"muted",disabled:!!u}),s?(0,d.jsx)(r.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-5 top-1/2 -translate-y-1/2",children:(0,d.jsx)(m.y,{className:"h-5 w-5 text-foreground"})}):b&&(0,d.jsx)(r.P.div,{initial:{scale:0},animate:{scale:1},className:"absolute right-5 top-1/2 -translate-y-1/2",children:(0,d.jsx)(o.A,{className:"h-5 w-5 text-foreground"})})]}),u&&(0,d.jsxs)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-lg flex items-start gap-2",children:[(0,d.jsx)(p.A,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.P,{className:"text-sm text-red-800",children:u}),(0,d.jsx)(j.P,{className:"text-xs text-destructive mt-1",children:"Add NEXT_PUBLIC_MAPBOX_TOKEN to your .env.local file"})]})]}),(0,d.jsx)(i.N,{children:f&&h.length>0&&(0,d.jsx)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full mt-2 w-full bg-card rounded-2xl border-2 border-border shadow-2xl overflow-hidden z-50",children:(0,d.jsx)("div",{className:"p-3",children:(0,d.jsx)("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:h.map((a,b)=>(0,d.jsx)(r.P.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*b},onClick:()=>x(a),className:"w-full text-left p-3 rounded-xl hover:bg-muted/50 transition-colors group",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-muted rounded-lg group-hover:bg-primary/5 transition-colors",children:(0,d.jsx)(q.A,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"text-sm text-foreground font-medium",children:a.text||a.place_name.split(",")[0]||""}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5 truncate",children:(a=>{let b=a.place_name.split(",");return b.length>1?b.slice(1).join(",").trim():""})(a)})]})]})},a.id))})})})}),f&&b.length>=3&&0===h.length&&!s&&!u&&(0,d.jsxs)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full mt-2 w-full bg-card rounded-2xl border-2 border-border shadow-2xl overflow-hidden z-50 p-6 text-center",children:[(0,d.jsx)(q.A,{className:"size-12 mx-auto mb-2 text-muted-foreground/40"}),(0,d.jsx)(j.P,{className:"text-sm text-muted-foreground",children:"No addresses found"}),(0,d.jsx)(j.P,{className:"text-xs text-muted-foreground/80 mt-1",children:"Try a different search term"})]}),f&&(0,d.jsx)("div",{className:"fixed inset-0 -z-10",onClick:()=>g(!1)})]})})}var t=c(28241),u=c(79944);function v({onAddressSelect:a,selectedProviderName:b,onBack:c}){return(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"896px"},children:[(0,d.jsxs)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-center space-y-3",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-muted rounded-full text-foreground/90 text-sm mb-2",children:[(0,d.jsx)(q.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:b?`Booking with ${b}`:"Property Location"})]}),(0,d.jsx)(j.H1,{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Where's the property?"}),(0,d.jsx)(j.P,{className:"text-lg text-muted-foreground",children:"Enter the address to get started with your photo shoot booking"})]}),(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:(0,d.jsx)(s,{onAddressSelect:a})}),c&&(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex justify-center",children:(0,d.jsxs)(k.$,{variant:"ghost",onClick:c,className:"text-muted-foreground",children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back"]})})]})},"address")}var w=c(53199),x=c(33847),y=c(69643),z=c(61010),A=c(22544),B=c(31115),C=c(59268),D=c(75535),E=c(78733),F=c(72567),G=c(15303),H=c(70045),I=c(81676),J=c(44560),K=c(67542),L=c(81947),M=c(79347),N=c(15514),O=c(55224),P=c(25345);function Q({selectedDate:a,selectedTime:b,onTimeSelect:c,technicianId:f,durationMins:g=60,className:h}){let[i,j]=(0,e.useState)([]),[l,m]=(0,e.useState)(!1),[n,o]=(0,e.useState)(null),[q,r]=(0,e.useState)(null),s=(0,e.useCallback)(async()=>{if(a){m(!0),o(null);try{let b=(0,K.o)(a),c=(0,L.f)(b,1),d=((await M.F.nylas.getAvailability({start:b.toISOString(),end:c.toISOString(),durationMins:g,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,technicianId:f})).allSlots||[]).map(a=>({start:new Date(a.start),end:new Date(a.end),available:a.available}));j(d),r(d.length>0)}catch(a){console.error("Failed to fetch availability:",a),o("Could not load availability"),r(!1)}finally{m(!1)}}},[a,f,g]);if(!f)return null;if(l)return(0,d.jsxs)("div",{className:(0,N.cn)("space-y-3",h),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(G.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Loading available times..."})]}),(0,d.jsx)("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:8}).map((a,b)=>(0,d.jsx)(O.E,{className:"h-10 w-full"},b))})]});if(n)return(0,d.jsx)("div",{className:(0,N.cn)("space-y-3",h),children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[(0,d.jsx)(p.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:n}),(0,d.jsxs)(k.$,{variant:"ghost",size:"sm",onClick:s,className:"ml-2 h-7 px-2",children:[(0,d.jsx)(P.A,{className:"h-3 w-3 mr-1"}),"Retry"]})]})});if(!a)return(0,d.jsx)("div",{className:(0,N.cn)("space-y-3",h),children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(F.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Select a date to see available times"})]})});if(0===i.length)return(0,d.jsxs)("div",{className:(0,N.cn)("space-y-3",h),children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(G.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"No availability data for this date"})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"The technician may not have connected their calendar or set work hours for this day."})]});let t=i.filter(a=>a.available),u=i.filter(a=>!a.available).length;return(0,d.jsxs)("div",{className:(0,N.cn)("space-y-3",h),children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)(G.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Available times for"}),(0,d.jsx)(A.E,{variant:"outline",className:"font-normal",children:(0,B.GP)(a,"EEE, MMM d")})]}),u>0&&(0,d.jsxs)("span",{className:"text-xs text-muted-foreground",children:[u," slots busy"]})]}),0===t.length?(0,d.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No available times on this date"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Try selecting a different day"})]}):(0,d.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:i.map((a,e)=>{let f=(0,B.GP)(a.start,"HH:mm"),g=(0,B.GP)(a.start,"h:mm a"),h=b===f;return(0,d.jsx)(k.$,{variant:h?"default":"outline",size:"sm",disabled:!a.available,onClick:()=>c(f),className:(0,N.cn)("relative",!a.available&&"opacity-50 cursor-not-allowed line-through",h&&"ring-2 ring-primary ring-offset-2"),children:g},e)})})]})}var R=c(79951);function S(a,b="usd"){return new Intl.NumberFormat("en-US",{style:"currency",currency:b.toUpperCase()}).format(a/100)}function T({selectedAddress:a,jobDetails:b,onJobDetailsChange:c,onBack:f,onNext:g,selectedProviderName:h,selectedPackage:i,selectedAddOns:l=[],totalPrice:m=0,technicianId:n,estimatedDuration:p=60,schedulingMode:q="scheduled",onSchedulingModeChange:s}){let v=!!h,K=!!i,[L,M]=(0,e.useState)(q),N=s?q:L,O=a=>{s?s(a):M(a),"requested"===a&&c({...b,scheduledDate:"",scheduledTime:""})},P=b.scheduledDate?(()=>{try{let a=new Date(b.scheduledDate+"T00:00:00");return isNaN(a.getTime())?null:a}catch{return null}})():null;return(0,d.jsx)(r.P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"container mx-auto p-6 h-full",children:(0,d.jsxs)("div",{className:"container mx-auto space-y-6",style:{maxWidth:"896px",marginLeft:"auto",marginRight:"auto"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[v&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Provider"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-1"}),(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Package"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-1"})]}),(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Address"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-1"}),(0,d.jsx)("span",{className:"text-primary font-medium",children:"Schedule"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-1"}),(0,d.jsx)("span",{className:"text-muted-foreground/60",children:v?"Confirm":"Find technician"})]}),(0,d.jsx)("div",{className:"bg-card rounded-2xl border-2 border-border p-6 shadow-sm",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,d.jsx)(E.A,{className:"h-6 w-6 text-emerald-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mb-1",children:"Property Location"}),(0,d.jsx)("div",{className:"text-lg text-foreground",children:a})]})]}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",onClick:f,children:"Change"})]})}),(0,d.jsxs)("div",{className:"bg-card rounded-2xl border-2 border-border p-8 shadow-sm space-y-6",children:[(0,d.jsx)(j.H2,{className:"text-2xl border-0",children:K?"Schedule your shoot":"Tell us about the shoot"}),v&&(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(w.J,{className:"text-sm",children:"How would you like to schedule?"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>O("scheduled"),className:`flex items-start gap-3 p-4 rounded-xl border-2 transition-all text-left ${"scheduled"===N?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${"scheduled"===N?"bg-primary":"bg-muted"}`,children:(0,d.jsx)(F.A,{className:`h-5 w-5 ${"scheduled"===N?"text-primary-foreground":"text-muted-foreground"}`})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"font-medium",children:"Pick a specific time"}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Choose your preferred date and time"})]}),"scheduled"===N&&(0,d.jsx)(C.A,{className:"h-5 w-5 text-primary flex-shrink-0"})]}),(0,d.jsxs)("button",{type:"button",onClick:()=>O("requested"),className:`flex items-start gap-3 p-4 rounded-xl border-2 transition-all text-left ${"requested"===N?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[(0,d.jsx)("div",{className:`p-2 rounded-lg ${"requested"===N?"bg-primary":"bg-muted"}`,children:(0,d.jsx)(G.A,{className:`h-5 w-5 ${"requested"===N?"text-primary-foreground":"text-muted-foreground"}`})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"font-medium",children:"Request scheduling"}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Let the provider contact you to schedule"})]}),"requested"===N&&(0,d.jsx)(C.A,{className:"h-5 w-5 text-primary flex-shrink-0"})]})]})]}),"scheduled"===N&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(w.J,{children:"Shoot Date *"}),(0,d.jsxs)(z.AM,{children:[(0,d.jsx)(z.Wv,{asChild:!0,children:(0,d.jsxs)(k.$,{variant:"outline",className:"relative w-full justify-start text-left font-normal h-12 pl-11",children:[(0,d.jsx)(F.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),b.scheduledDate?(()=>{try{let a=new Date(b.scheduledDate+"T00:00:00");if(!isNaN(a.getTime()))return(0,B.GP)(a,"PPP")}catch(a){}return b.scheduledDate})():(0,d.jsx)("span",{className:"text-muted-foreground",children:"Pick a date"})]})}),(0,d.jsx)(z.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(y.V,{mode:"single",selected:b.scheduledDate?(()=>{try{let a=new Date(b.scheduledDate+"T00:00:00");return isNaN(a.getTime())?void 0:a}catch{return}})():void 0,onSelect:a=>{a&&c({...b,scheduledDate:(0,B.GP)(a,"yyyy-MM-dd")})},disabled:a=>a<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(w.J,{children:"Start Time *"}),(0,d.jsxs)(z.AM,{children:[(0,d.jsx)(z.Wv,{asChild:!0,children:(0,d.jsxs)(k.$,{variant:"outline",className:"relative w-full justify-start text-left font-normal h-12 pl-11",children:[(0,d.jsx)(G.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),b.scheduledTime?(()=>{try{let[a,c]=b.scheduledTime.split(":"),d=parseInt(a,10);return`${0===d?12:d>12?d-12:d}:${c} ${d>=12?"PM":"AM"}`}catch{return b.scheduledTime}})():(0,d.jsx)("span",{className:"text-muted-foreground",children:"Pick a time"})]})}),(0,d.jsx)(z.hl,{className:"w-auto p-4",align:"start",children:(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsxs)(t.l6,{value:b.scheduledTime?(()=>{let[a]=b.scheduledTime.split(":"),c=parseInt(a,10);return(0===c?12:c>12?c-12:c).toString()})():"9",onValueChange:a=>{let d=b.scheduledTime&&b.scheduledTime.split(":")[1]||"00",e=(b.scheduledTime?parseInt(b.scheduledTime.split(":")[0],10):9)>=12,f="12"===a?12*!!e:e?parseInt(a,10)+12:parseInt(a,10);c({...b,scheduledTime:`${f.toString().padStart(2,"0")}:${d}`})},children:[(0,d.jsx)(t.bq,{className:"w-full",children:(0,d.jsx)(t.yv,{placeholder:"Hour"})}),(0,d.jsx)(t.gC,{children:Array.from({length:12},(a,b)=>(0,d.jsx)(t.eb,{value:(b+1).toString(),children:b+1},b+1))})]}),(0,d.jsxs)(t.l6,{value:b.scheduledTime&&b.scheduledTime.split(":")[1]||"00",onValueChange:a=>{let d=b.scheduledTime?parseInt(b.scheduledTime.split(":")[0],10):9;c({...b,scheduledTime:`${d.toString().padStart(2,"0")}:${a.padStart(2,"0")}`})},children:[(0,d.jsx)(t.bq,{className:"w-full",children:(0,d.jsx)(t.yv,{placeholder:"Minute"})}),(0,d.jsx)(t.gC,{children:[0,15,30,45].map(a=>(0,d.jsx)(t.eb,{value:a.toString().padStart(2,"0"),children:a.toString().padStart(2,"0")},a))})]}),(0,d.jsxs)(t.l6,{value:b.scheduledTime?(()=>{let[a]=b.scheduledTime.split(":");return parseInt(a,10)>=12?"PM":"AM"})():"AM",onValueChange:a=>{let d=b.scheduledTime&&b.scheduledTime.split(":")[1]||"00",e=b.scheduledTime?parseInt(b.scheduledTime.split(":")[0],10):9,f=0===e?12:e>12?e-12:e;c({...b,scheduledTime:`${("PM"===a?12===f?12:f+12:12===f?0:f).toString().padStart(2,"0")}:${d}`})},children:[(0,d.jsx)(t.bq,{className:"w-full",children:(0,d.jsx)(t.yv,{placeholder:"AM/PM"})}),(0,d.jsxs)(t.gC,{children:[(0,d.jsx)(t.eb,{value:"AM",children:"AM"}),(0,d.jsx)(t.eb,{value:"PM",children:"PM"})]})]})]})})})]})]})]}),!!n&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(w.J,{children:"Available Times"}),(0,d.jsx)(Q,{selectedDate:P,selectedTime:b.scheduledTime,onTimeSelect:a=>c({...b,scheduledTime:a}),technicianId:n,durationMins:p})]})]}),"requested"===N&&v&&(0,d.jsx)("div",{className:"bg-muted/50 rounded-xl p-4 border border-border",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:(0,d.jsx)(G.A,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:"Scheduling to be arranged"}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground mt-0.5",children:[h," will contact you to schedule the shoot at a mutually convenient time."]})]})]})}),K?(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(w.J,{className:"text-sm",children:"Selected Package"}),(0,d.jsxs)("div",{className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,d.jsx)(H.A,{className:"h-5 w-5 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:i.name}),i.description&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground mt-0.5",children:i.description}),(0,d.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-2",children:i.mediaTypes.map(a=>(0,d.jsx)(A.E,{variant:"secondary",className:"text-xs",children:a},a))})]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsx)("div",{className:"font-semibold",children:S(i.price,i.currency)})})]}),l.length>0&&(0,d.jsxs)("div",{className:"border-t border-border pt-3 space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(o.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Add-ons included:"})]}),l.map(({addOn:a,quantity:b})=>(0,d.jsxs)("div",{className:"flex justify-between text-sm pl-6",children:[(0,d.jsxs)("span",{children:[a.name,b>1&&(0,d.jsxs)("span",{className:"text-muted-foreground ml-1",children:["\xd7 ",b]})]}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:["+",S(a.price*b,a.currency)]})]},a.id))]}),(0,d.jsxs)("div",{className:"border-t border-border pt-3 flex justify-between items-center",children:[(0,d.jsx)("span",{className:"font-medium",children:"Total"}),(0,d.jsx)("span",{className:"text-lg font-bold text-primary",children:S(m,i.currency)})]})]})]}):(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(w.J,{className:"text-sm",children:"What media do you need? *"}),(0,d.jsx)(J.O,{type:"multiple",value:b.mediaTypes,onValueChange:a=>{c({...b,mediaTypes:a})},className:"grid grid-cols-2 gap-3 w-full",children:I.H.map(a=>{let b=a.icon;return(0,d.jsxs)(J.d,{value:a.id,className:"flex items-center gap-3 p-4 h-auto data-[state=on]:bg-accent data-[state=on]:border-primary",children:[(0,d.jsx)("div",{className:"p-2.5 rounded-lg bg-primary",children:(0,d.jsx)(b,{className:"h-5 w-5 text-primary-foreground"})}),(0,d.jsx)("div",{className:"flex-1 text-left",children:(0,d.jsx)("div",{className:"text-sm font-medium",children:a.label})})]},a.id)})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(w.J,{htmlFor:"requirements",children:"Special Instructions (Optional)"}),(0,d.jsx)(x.T,{id:"requirements",value:b.requirements,onChange:a=>c({...b,requirements:a.target.value}),placeholder:"Any special requests, access codes, or details...",rows:4,className:"resize-none"})]}),(0,d.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,d.jsxs)(k.$,{variant:"outline",onClick:f,className:"flex-1",children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsxs)(k.$,{onClick:g,className:"w-full bg-primary",children:[v?"Review Order":"Find Technician",(0,d.jsx)(D.A,{className:"h-4 w-4 ml-2"})]}),(0,d.jsx)(R.A,{size:40,duration:3,borderWidth:1.5})]})]})]})]})},"details")}var U=c(45119),V=c(45334),W=c(15982),X=c(78583),Y=c(80196);function Z({selectedProviderId:a,onProviderSelect:b,onBack:c}){let[f,g]=(0,e.useState)([]),[h,i]=(0,e.useState)(!0),[l,m]=(0,e.useState)(null);return h?(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"896px"},children:[(0,d.jsxs)("div",{className:"text-center space-y-3",children:[(0,d.jsx)(O.E,{className:"h-8 w-64 mx-auto"}),(0,d.jsx)(O.E,{className:"h-12 w-96 mx-auto"}),(0,d.jsx)(O.E,{className:"h-6 w-80 mx-auto"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(a=>(0,d.jsx)(O.E,{className:"h-40 rounded-2xl"},a))})]})},"provider-loading"):l?(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8 text-center",style:{maxWidth:"896px"},children:[(0,d.jsx)(p.A,{className:"h-16 w-16 text-destructive mx-auto"}),(0,d.jsx)(j.H2,{children:l}),(0,d.jsx)(k.$,{onClick:()=>window.location.reload(),children:"Try Again"})]})},"provider-error"):0===f.length?(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"896px"},children:[(0,d.jsxs)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-muted mb-4",children:(0,d.jsx)(V.A,{className:"h-10 w-10 text-muted-foreground"})}),(0,d.jsx)(j.H1,{className:"text-3xl md:text-4xl font-bold text-foreground",children:"No Service Providers Yet"}),(0,d.jsx)(j.P,{className:"text-lg text-muted-foreground max-w-md mx-auto",children:"You are not yet a customer of any media companies. You must be added as a customer by a company before you can place orders here."}),(0,d.jsx)("div",{className:"pt-4 border-t border-border mt-6",children:(0,d.jsxs)(j.QX,{className:"text-sm max-w-lg mx-auto",children:[(0,d.jsx)("span",{className:"font-medium text-foreground/80",children:"Coming Soon:"})," ","An open marketplace where you can place orders without needing to be part of a company organization. Providers will be automatically matched and assigned to fulfill your orders based on availability and location."]})})]}),(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex justify-center",children:c&&(0,d.jsxs)(k.$,{variant:"outline",onClick:c,children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Go Back"]})})]})},"provider-empty"):(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"896px"},children:[(0,d.jsxs)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-center space-y-3",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-muted rounded-full text-foreground/90 text-sm mb-2",children:[(0,d.jsx)(V.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Select Your Media Company"})]}),(0,d.jsx)(j.H1,{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Who should handle this shoot?"}),(0,d.jsx)(j.P,{className:"text-lg text-muted-foreground",children:"Choose a media company to fulfill your order"})]}),(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(c=>{let e=a===c.orgId,f=[c.city,c.region,c.countryCode].filter(Boolean).join(", ");return(0,d.jsx)(U.Zp,{className:(0,N.cn)("cursor-pointer transition-all duration-200 hover:shadow-md","border-2",e?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50"),onClick:()=>b(c),children:(0,d.jsxs)(U.Wu,{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:c.logoUrl?(0,d.jsx)("img",{src:c.logoUrl,alt:c.orgName,className:"w-14 h-14 rounded-xl object-cover"}):(0,d.jsx)("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center",children:(0,d.jsx)(V.A,{className:"h-7 w-7 text-primary"})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("h3",{className:"font-semibold text-lg truncate",children:c.orgName}),e&&(0,d.jsx)(C.A,{className:"h-5 w-5 text-primary flex-shrink-0"})]}),f&&(0,d.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-1",children:[(0,d.jsx)(q.A,{className:"h-3.5 w-3.5"}),(0,d.jsx)("span",{className:"truncate",children:f})]}),c.primaryEmail&&(0,d.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground mt-1",children:[(0,d.jsx)(W.A,{className:"h-3.5 w-3.5"}),(0,d.jsx)("span",{className:"truncate",children:c.primaryEmail})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[(0,d.jsxs)(k.$,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:a=>{var b;return b=c.orgId,void(a.stopPropagation(),window.open(`/organizations/${b}/public`,"_blank"))},children:[(0,d.jsx)(X.A,{className:"h-4 w-4 mr-1.5"}),"View Details"]}),c.websiteUrl&&(0,d.jsxs)("a",{href:c.websiteUrl,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),className:"text-sm text-muted-foreground hover:text-foreground flex items-center gap-1",children:[(0,d.jsx)(Y.A,{className:"h-3.5 w-3.5"}),"Website"]})]})]})},c.orgId)})}),(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"flex justify-center pt-4",children:c&&(0,d.jsxs)(k.$,{variant:"outline",onClick:c,children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]})},"provider")}var $=c(72966);function _(a){return"[object Object]"===Object.prototype.toString.call(a)||Array.isArray(a)}function aa(a,b){let c=Object.keys(a),d=Object.keys(b);return c.length===d.length&&JSON.stringify(Object.keys(a.breakpoints||{}))===JSON.stringify(Object.keys(b.breakpoints||{}))&&c.every(c=>{let d=a[c],e=b[c];return"function"==typeof d?`${d}`==`${e}`:_(d)&&_(e)?aa(d,e):d===e})}function ab(a){return a.concat().sort((a,b)=>a.name>b.name?1:-1).map(a=>a.options)}function ac(a){return"number"==typeof a}function ad(a){return"string"==typeof a}function ae(a){return"boolean"==typeof a}function af(a){return"[object Object]"===Object.prototype.toString.call(a)}function ag(a){return Math.abs(a)}function ah(a){return Math.sign(a)}function ai(a){return am(a).map(Number)}function aj(a){return a[ak(a)]}function ak(a){return Math.max(0,a.length-1)}function al(a,b=0){return Array.from(Array(a),(a,c)=>b+c)}function am(a){return Object.keys(a)}function an(a,b){return void 0!==b.MouseEvent&&a instanceof b.MouseEvent}function ao(){let a=[],b={add:function(c,d,e,f={passive:!0}){let g;return"addEventListener"in c?(c.addEventListener(d,e,f),g=()=>c.removeEventListener(d,e,f)):(c.addListener(e),g=()=>c.removeListener(e)),a.push(g),b},clear:function(){a=a.filter(a=>a())}};return b}function ap(a=0,b=0){let c=ag(a-b);function d(c){return c<a||c>b}return{length:c,max:b,min:a,constrain:function(c){return d(c)?c<a?a:b:c},reachedAny:d,reachedMax:function(a){return a>b},reachedMin:function(b){return b<a},removeOffset:function(a){return c?a-c*Math.ceil((a-b)/c):a}}}function aq(a){let b=a;function c(a){return ac(a)?a:a.get()}return{get:function(){return b},set:function(a){b=c(a)},add:function(a){b+=c(a)},subtract:function(a){b-=c(a)}}}function ar(a,b){let c="x"===a.scroll?function(a){return`translate3d(${a}px,0px,0px)`}:function(a){return`translate3d(0px,${a}px,0px)`},d=b.style,e=null,f=!1;return{clear:function(){!f&&(d.transform="",b.getAttribute("style")||b.removeAttribute("style"))},to:function(b){if(f)return;let g=Math.round(100*a.direction(b))/100;g!==e&&(d.transform=c(g),e=g)},toggleActive:function(a){f=!a}}}let as={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function at(a,b,c){let d,e,f,g,h,i=a.ownerDocument,j=i.defaultView,k=function(a){function b(a,b){return function a(b,c){return[b,c].reduce((b,c)=>(am(c).forEach(d=>{let e=b[d],f=c[d],g=af(e)&&af(f);b[d]=g?a(e,f):f}),b),{})}(a,b||{})}return{mergeOptions:b,optionsAtMedia:function(c){let d=c.breakpoints||{},e=am(d).filter(b=>a.matchMedia(b).matches).map(a=>d[a]).reduce((a,c)=>b(a,c),{});return b(c,e)},optionsMediaQueries:function(b){return b.map(a=>am(a.breakpoints||{})).reduce((a,b)=>a.concat(b),[]).map(a.matchMedia)}}}(j),l=(h=[],{init:function(a,b){return(h=b.filter(({options:a})=>!1!==k.optionsAtMedia(a).active)).forEach(b=>b.init(a,k)),b.reduce((a,b)=>Object.assign(a,{[b.name]:b}),{})},destroy:function(){h=h.filter(a=>a.destroy())}}),m=ao(),n=function(){let a,b={},c={init:function(b){a=b},emit:function(d){return(b[d]||[]).forEach(b=>b(a,d)),c},off:function(a,d){return b[a]=(b[a]||[]).filter(a=>a!==d),c},on:function(a,d){return b[a]=(b[a]||[]).concat([d]),c},clear:function(){b={}}};return c}(),{mergeOptions:o,optionsAtMedia:p,optionsMediaQueries:q}=k,{on:r,off:s,emit:t}=n,u=!1,v=o(as,at.globalOptions),w=o(v),x=[];function y(b,c){if(u)return;w=p(v=o(v,b)),x=c||x;let{container:h,slides:k}=w;f=(ad(h)?a.querySelector(h):h)||a.children[0];let r=ad(k)?f.querySelectorAll(k):k;g=[].slice.call(r||f.children),d=function b(c){let d=function(a,b,c,d,e,f,g){let h,i,{align:j,axis:k,direction:l,startIndex:m,loop:n,duration:o,dragFree:p,dragThreshold:q,inViewThreshold:r,slidesToScroll:s,skipSnaps:t,containScroll:u,watchResize:v,watchSlides:w,watchDrag:x,watchFocus:y}=f,z={measure:function(a){let{offsetTop:b,offsetLeft:c,offsetWidth:d,offsetHeight:e}=a;return{top:b,right:c+d,bottom:b+e,left:c,width:d,height:e}}},A=z.measure(b),B=c.map(z.measure),C=function(a,b){let c="rtl"===b,d="y"===a,e=!d&&c?-1:1;return{scroll:d?"y":"x",cross:d?"x":"y",startEdge:d?"top":c?"right":"left",endEdge:d?"bottom":c?"left":"right",measureSize:function(a){let{height:b,width:c}=a;return d?b:c},direction:function(a){return a*e}}}(k,l),D=C.measureSize(A),E={measure:function(a){return a/100*D}},F=function(a,b){let c={start:function(){return 0},center:function(a){return(b-a)/2},end:function(a){return b-a}};return{measure:function(d,e){return ad(a)?c[a](d):a(b,d,e)}}}(j,D),G=!n&&!!u,{slideSizes:H,slideSizesWithGaps:I,startGap:J,endGap:K}=function(a,b,c,d,e,f){let{measureSize:g,startEdge:h,endEdge:i}=a,j=c[0]&&e,k=function(){if(!j)return 0;let a=c[0];return ag(b[h]-a[h])}(),l=j?parseFloat(f.getComputedStyle(aj(d)).getPropertyValue(`margin-${i}`)):0,m=c.map(g),n=c.map((a,b,c)=>{let d=b===ak(c);return b?d?m[b]+l:c[b+1][h]-a[h]:m[b]+k}).map(ag);return{slideSizes:m,slideSizesWithGaps:n,startGap:k,endGap:l}}(C,A,B,c,n||!!u,e),L=function(a,b,c,d,e,f,g,h,i){let{startEdge:j,endEdge:k,direction:l}=a,m=ac(c);return{groupSlides:function(a){return m?ai(a).filter(a=>a%c==0).map(b=>a.slice(b,b+c)):a.length?ai(a).reduce((c,i,m)=>{let n=aj(c)||0,o=i===ak(a),p=e[j]-f[n][j],q=e[j]-f[i][k],r=d||0!==n?0:l(g),s=ag(q-(!d&&o?l(h):0)-(p+r));return m&&s>b+2&&c.push(i),o&&c.push(a.length),c},[]).map((b,c,d)=>{let e=Math.max(d[c-1]||0);return a.slice(e,b)}):[]}}}(C,D,s,n,A,B,J,K,0),{snaps:M,snapsAligned:N}=function(a,b,c,d,e){let{startEdge:f,endEdge:g}=a,{groupSlides:h}=e,i=h(d).map(a=>aj(a)[g]-a[0][f]).map(ag).map(b.measure),j=d.map(a=>c[f]-a[f]).map(a=>-ag(a)),k=h(j).map(a=>a[0]).map((a,b)=>a+i[b]);return{snaps:j,snapsAligned:k}}(C,F,A,B,L),O=-aj(M)+aj(I),{snapsContained:P,scrollContainLimit:Q}=function(a,b,c,d,e){let f=ap(-b+a,0),g=c.map((a,b)=>{let{min:d,max:e}=f,g=f.constrain(a),h=b===ak(c);return b?h||function(a,b){return 1>=ag(a-b)}(d,g)?d:function(a,b){return 1>=ag(a-b)}(e,g)?e:g:e}).map(a=>parseFloat(a.toFixed(3))),h=function(){let a=g[0],b=aj(g);return ap(g.lastIndexOf(a),g.indexOf(b)+1)}();return{snapsContained:function(){if(b<=a+2)return[f.max];if("keepSnaps"===d)return g;let{min:c,max:e}=h;return g.slice(c,e)}(),scrollContainLimit:h}}(D,O,N,u,0),R=G?P:N,{limit:S}=function(a,b,c){let d=b[0];return{limit:ap(c?d-a:aj(b),d)}}(O,R,n),T=function a(b,c,d){let{constrain:e}=ap(0,b),f=b+1,g=h(c);function h(a){return d?ag((f+a)%f):e(a)}function i(){return a(b,g,d)}let j={get:function(){return g},set:function(a){return g=h(a),j},add:function(a){return i().set(g+a)},clone:i};return j}(ak(R),m,n),U=T.clone(),V=ai(c),W=function(a,b,c,d){let e=ao(),f=1e3/60,g=null,h=0,i=0;function j(a){if(!i)return;g||(g=a,c(),c());let e=a-g;for(g=a,h+=e;h>=f;)c(),h-=f;d(h/f),i&&(i=b.requestAnimationFrame(j))}function k(){b.cancelAnimationFrame(i),g=null,h=0,i=0}return{init:function(){e.add(a,"visibilitychange",()=>{a.hidden&&(g=null,h=0)})},destroy:function(){k(),e.clear()},start:function(){i||(i=b.requestAnimationFrame(j))},stop:k,update:c,render:d}}(d,e,()=>(({dragHandler:a,scrollBody:b,scrollBounds:c,options:{loop:d}})=>{d||c.constrain(a.pointerDown()),b.seek()})(ax),a=>(({scrollBody:a,translate:b,location:c,offsetLocation:d,previousLocation:e,scrollLooper:f,slideLooper:g,dragHandler:h,animation:i,eventHandler:j,scrollBounds:k,options:{loop:l}},m)=>{let n=a.settled(),o=!k.shouldConstrain(),p=l?n:n&&o,q=p&&!h.pointerDown();q&&i.stop();let r=c.get()*m+e.get()*(1-m);d.set(r),l&&(f.loop(a.direction()),g.loop()),b.to(d.get()),q&&j.emit("settle"),p||j.emit("scroll")})(ax,a)),X=R[T.get()],Y=aq(X),Z=aq(X),$=aq(X),_=aq(X),aa=function(a,b,c,d,e,f){let g=0,h=0,i=e,j=.68,k=a.get(),l=0;function m(a){return i=a,o}function n(a){return j=a,o}let o={direction:function(){return h},duration:function(){return i},velocity:function(){return g},seek:function(){let b=d.get()-a.get(),e=0;return i?(c.set(a),g+=b/i,g*=j,k+=g,a.add(g),e=k-l):(g=0,c.set(d),a.set(d),e=b),h=ah(e),l=k,o},settled:function(){return .001>ag(d.get()-b.get())},useBaseFriction:function(){return n(.68)},useBaseDuration:function(){return m(e)},useFriction:n,useDuration:m};return o}(Y,$,Z,_,o,.68),ab=function(a,b,c,d,e){let{reachedAny:f,removeOffset:g,constrain:h}=d;function i(a){return a.concat().sort((a,b)=>ag(a)-ag(b))[0]}function j(b,d){let e=[b,b+c,b-c];if(!a)return b;if(!d)return i(e);let f=e.filter(a=>ah(a)===d);return f.length?i(f):aj(e)-c}return{byDistance:function(c,d){let i=e.get()+c,{index:k,distance:l}=function(c){let d=a?g(c):h(c),{index:e}=b.map((a,b)=>({diff:j(a-d,0),index:b})).sort((a,b)=>ag(a.diff)-ag(b.diff))[0];return{index:e,distance:d}}(i),m=!a&&f(i);if(!d||m)return{index:k,distance:c};let n=c+j(b[k]-l,0);return{index:k,distance:n}},byIndex:function(a,c){let d=j(b[a]-e.get(),c);return{index:a,distance:d}},shortcut:j}}(n,R,O,S,_),af=function(a,b,c,d,e,f,g){function h(e){let h=e.distance,i=e.index!==b.get();f.add(h),h&&(d.duration()?a.start():(a.update(),a.render(1),a.update())),i&&(c.set(b.get()),b.set(e.index),g.emit("select"))}return{distance:function(a,b){h(e.byDistance(a,b))},index:function(a,c){let d=b.clone().set(a);h(e.byIndex(d.get(),c))}}}(W,T,U,aa,ab,_,g),as=function(a){let{max:b,length:c}=a;return{get:function(a){return c?-((a-b)/c):0}}}(S),at=ao(),au=function(a,b,c,d){let e,f={},g=null,h=null,i=!1;return{init:function(){e=new IntersectionObserver(a=>{i||(a.forEach(a=>{f[b.indexOf(a.target)]=a}),g=null,h=null,c.emit("slidesInView"))},{root:a.parentElement,threshold:d}),b.forEach(a=>e.observe(a))},destroy:function(){e&&e.disconnect(),i=!0},get:function(a=!0){if(a&&g)return g;if(!a&&h)return h;let b=am(f).reduce((b,c)=>{let d=parseInt(c),{isIntersecting:e}=f[d];return(a&&e||!a&&!e)&&b.push(d),b},[]);return a&&(g=b),a||(h=b),b}}}(b,c,g,r),{slideRegistry:av}=function(a,b,c,d,e,f){let{groupSlides:g}=e,{min:h,max:i}=d;return{slideRegistry:function(){let d=g(f);return 1===c.length?[f]:a&&"keepSnaps"!==b?d.slice(h,i).map((a,b,c)=>{let d=b===ak(c);return b?d?al(ak(f)-aj(c)[0]+1,aj(c)[0]):a:al(aj(c[0])+1)}):d}()}}(G,u,R,Q,L,V),aw=function(a,b,c,d,e,f,g,h){let i={passive:!0,capture:!0},j=0;function k(a){"Tab"===a.code&&(j=new Date().getTime())}return{init:function(l){h&&(f.add(document,"keydown",k,!1),b.forEach((b,k)=>{f.add(b,"focus",b=>{(ae(h)||h(l,b))&&function(b){if(new Date().getTime()-j>10)return;g.emit("slideFocusStart"),a.scrollLeft=0;let f=c.findIndex(a=>a.includes(b));ac(f)&&(e.useDuration(0),d.index(f,0),g.emit("slideFocus"))}(k)},i)}))}}}(a,c,av,af,aa,at,g,y),ax={ownerDocument:d,ownerWindow:e,eventHandler:g,containerRect:A,slideRects:B,animation:W,axis:C,dragHandler:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){let{cross:t,direction:u}=a,v=["INPUT","SELECT","TEXTAREA"],w={passive:!1},x=ao(),y=ao(),z=ap(50,225).constrain(n.measure(20)),A={mouse:300,touch:400},B={mouse:500,touch:600},C=o?43:25,D=!1,E=0,F=0,G=!1,H=!1,I=!1,J=!1;function K(a){if(!an(a,d)&&a.touches.length>=2)return L(a);let b=f.readPoint(a),c=f.readPoint(a,t),g=ag(b-E),i=ag(c-F);if(!H&&!J&&(!a.cancelable||!(H=g>i)))return L(a);let k=f.pointerMove(a);g>p&&(I=!0),j.useFriction(.3).useDuration(.75),h.start(),e.add(u(k)),a.preventDefault()}function L(a){let b=k.byDistance(0,!1).index!==l.get(),c=f.pointerUp(a)*(o?B:A)[J?"mouse":"touch"],d=function(a,b){let c=l.add(-1*ah(a)),d=k.byDistance(a,!o).distance;return o||ag(a)<z?d:q&&b?.5*d:k.byIndex(c.get(),0).distance}(u(c),b),e=function(a,b){var c,d;if(0===a||0===b||ag(a)<=ag(b))return 0;let e=(c=ag(a),d=ag(b),ag(c-d));return ag(e/a)}(c,d);H=!1,G=!1,y.clear(),j.useDuration(C-10*e).useFriction(.68+e/50),i.distance(d,!o),J=!1,m.emit("pointerUp")}function M(a){I&&(a.stopPropagation(),a.preventDefault(),I=!1)}return{init:function(a){s&&x.add(b,"dragstart",a=>a.preventDefault(),w).add(b,"touchmove",()=>void 0,w).add(b,"touchend",()=>void 0).add(b,"touchstart",h).add(b,"mousedown",h).add(b,"touchcancel",L).add(b,"contextmenu",L).add(b,"click",M,!0);function h(h){(ae(s)||s(a,h))&&function(a){let h=an(a,d);if((J=h,I=o&&h&&!a.buttons&&D,D=ag(e.get()-g.get())>=2,!h||0===a.button)&&!function(a){let b=a.nodeName||"";return v.includes(b)}(a.target)){G=!0,f.pointerDown(a),j.useFriction(0).useDuration(0),e.set(g);let d=J?c:b;y.add(d,"touchmove",K,w).add(d,"touchend",L).add(d,"mousemove",K,w).add(d,"mouseup",L),E=f.readPoint(a),F=f.readPoint(a,t),m.emit("pointerDown")}}(h)}},destroy:function(){x.clear(),y.clear()},pointerDown:function(){return G}}}(C,a,d,e,_,function(a,b){let c,d;function e(a){return a.timeStamp}function f(c,d){let e=d||a.scroll,f=`client${"x"===e?"X":"Y"}`;return(an(c,b)?c:c.touches[0])[f]}return{pointerDown:function(a){return c=a,d=a,f(a)},pointerMove:function(a){let b=f(a)-f(d),g=e(a)-e(c)>170;return d=a,g&&(c=a),b},pointerUp:function(a){if(!c||!d)return 0;let b=f(d)-f(c),g=e(a)-e(c),h=e(a)-e(d)>170,i=b/g;return g&&!h&&ag(i)>.1?i:0},readPoint:f}}(C,e),Y,W,af,aa,ab,T,g,E,p,q,t,0,x),eventStore:at,percentOfView:E,index:T,indexPrevious:U,limit:S,location:Y,offsetLocation:$,previousLocation:Z,options:f,resizeHandler:function(a,b,c,d,e,f,g){let h,i,j=[a].concat(d),k=[],l=!1;function m(a){return e.measureSize(g.measure(a))}return{init:function(e){f&&(i=m(a),k=d.map(m),h=new ResizeObserver(c=>{(ae(f)||f(e,c))&&function(c){for(let f of c){if(l)return;let c=f.target===a,g=d.indexOf(f.target),h=c?i:k[g];if(ag(m(c?a:d[g])-h)>=.5){e.reInit(),b.emit("resize");break}}}(c)}),c.requestAnimationFrame(()=>{j.forEach(a=>h.observe(a))}))},destroy:function(){l=!0,h&&h.disconnect()}}}(b,g,e,c,C,v,z),scrollBody:aa,scrollBounds:function(a,b,c,d,e){let f=e.measure(10),g=e.measure(50),h=ap(.1,.99),i=!1;function j(){return!i&&!!a.reachedAny(c.get())&&!!a.reachedAny(b.get())}return{shouldConstrain:j,constrain:function(e){if(!j())return;let i=a.reachedMin(b.get())?"min":"max",k=ag(a[i]-b.get()),l=c.get()-b.get(),m=h.constrain(k/g);c.subtract(l*m),!e&&ag(l)<f&&(c.set(a.constrain(c.get())),d.useDuration(25).useBaseFriction())},toggleActive:function(a){i=!a}}}(S,$,_,aa,E),scrollLooper:function(a,b,c,d){let{reachedMin:e,reachedMax:f}=ap(b.min+.1,b.max+.1);return{loop:function(b){if(!(1===b?f(c.get()):-1===b&&e(c.get())))return;let g=-1*b*a;d.forEach(a=>a.add(g))}}}(O,S,$,[Y,$,Z,_]),scrollProgress:as,scrollSnapList:R.map(as.get),scrollSnaps:R,scrollTarget:ab,scrollTo:af,slideLooper:function(a,b,c,d,e,f,g,h,i){let j=ai(e),k=ai(e).reverse(),l=o(n(k,g[0]),c,!1).concat(o(n(j,b-g[0]-1),-c,!0));function m(a,b){return a.reduce((a,b)=>a-e[b],b)}function n(a,b){return a.reduce((a,c)=>m(a,b)>0?a.concat([c]):a,[])}function o(e,g,j){let k=f.map((a,c)=>({start:a-d[c]+.5+g,end:a+b-.5+g}));return e.map(b=>{let d=j?0:-c,e=j?c:0,f=k[b][j?"end":"start"];return{index:b,loopPoint:f,slideLocation:aq(-1),translate:ar(a,i[b]),target:()=>h.get()>f?d:e}})}return{canLoop:function(){return l.every(({index:a})=>.1>=m(j.filter(b=>b!==a),b))},clear:function(){l.forEach(a=>a.translate.clear())},loop:function(){l.forEach(a=>{let{target:b,translate:c,slideLocation:d}=a,e=b();e!==d.get()&&(c.to(e),d.set(e))})},loopPoints:l}}(C,D,O,H,I,M,R,$,c),slideFocus:aw,slidesHandler:(i=!1,{init:function(a){w&&(h=new MutationObserver(b=>{!i&&(ae(w)||w(a,b))&&function(b){for(let c of b)if("childList"===c.type){a.reInit(),g.emit("slidesChanged");break}}(b)})).observe(b,{childList:!0})},destroy:function(){h&&h.disconnect(),i=!0}}),slidesInView:au,slideIndexes:V,slideRegistry:av,slidesToScroll:L,target:_,translate:ar(C,b)};return ax}(a,f,g,i,j,c,n);return c.loop&&!d.slideLooper.canLoop()?b(Object.assign({},c,{loop:!1})):d}(w),q([v,...x.map(({options:a})=>a)]).forEach(a=>m.add(a,"change",z)),w.active&&(d.translate.to(d.location.get()),d.animation.init(),d.slidesInView.init(),d.slideFocus.init(D),d.eventHandler.init(D),d.resizeHandler.init(D),d.slidesHandler.init(D),d.options.loop&&d.slideLooper.loop(),f.offsetParent&&g.length&&d.dragHandler.init(D),e=l.init(D,x))}function z(a,b){let c=C();A(),y(o({startIndex:c},a),b),n.emit("reInit")}function A(){d.dragHandler.destroy(),d.eventStore.clear(),d.translate.clear(),d.slideLooper.clear(),d.resizeHandler.destroy(),d.slidesHandler.destroy(),d.slidesInView.destroy(),d.animation.destroy(),l.destroy(),m.clear()}function B(a,b,c){w.active&&!u&&(d.scrollBody.useBaseFriction().useDuration(!0===b?0:w.duration),d.scrollTo.index(a,c||0))}function C(){return d.index.get()}let D={canScrollNext:function(){return d.index.add(1).get()!==C()},canScrollPrev:function(){return d.index.add(-1).get()!==C()},containerNode:function(){return f},internalEngine:function(){return d},destroy:function(){u||(u=!0,m.clear(),A(),n.emit("destroy"),n.clear())},off:s,on:r,emit:t,plugins:function(){return e},previousScrollSnap:function(){return d.indexPrevious.get()},reInit:z,rootNode:function(){return a},scrollNext:function(a){B(d.index.add(1).get(),a,-1)},scrollPrev:function(a){B(d.index.add(-1).get(),a,1)},scrollProgress:function(){return d.scrollProgress.get(d.offsetLocation.get())},scrollSnapList:function(){return d.scrollSnapList},scrollTo:B,selectedScrollSnap:C,slideNodes:function(){return g},slidesInView:function(){return d.slidesInView.get()},slidesNotInView:function(){return d.slidesInView.get(!1)}};return y(b,c),setTimeout(()=>n.emit("init"),0),D}function au(a={},b=[]){let c=(0,e.useRef)(a),d=(0,e.useRef)(b),[f,g]=(0,e.useState)(),[h,i]=(0,e.useState)(),j=(0,e.useCallback)(()=>{f&&f.reInit(c.current,d.current)},[f]);return(0,e.useEffect)(()=>{aa(c.current,a)||(c.current=a,j())},[a,j]),(0,e.useEffect)(()=>{!function(a,b){if(a.length!==b.length)return!1;let c=ab(a),d=ab(b);return c.every((a,b)=>aa(a,d[b]))}(d.current,b)&&(d.current=b,j())},[b,j]),(0,e.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&h){at.globalOptions=au.globalOptions;let a=at(h,c.current,d.current);return g(a),()=>a.destroy()}g(void 0)},[h,g]),[i,f]}at.globalOptions=void 0,au.globalOptions=void 0;var av=c(67442);let aw=e.createContext(null);function ax(){let a=e.useContext(aw);if(!a)throw Error("useCarousel must be used within a <Carousel />");return a}function ay({orientation:a="horizontal",opts:b,setApi:c,plugins:f,className:g,children:h,...i}){let[j,k]=au({...b,axis:"horizontal"===a?"x":"y"},f),[l,m]=e.useState(!1),[n,o]=e.useState(!1),p=e.useCallback(a=>{a&&(m(a.canScrollPrev()),o(a.canScrollNext()))},[]),q=e.useCallback(()=>{k?.scrollPrev()},[k]),r=e.useCallback(()=>{k?.scrollNext()},[k]),s=e.useCallback(a=>{"ArrowLeft"===a.key?(a.preventDefault(),q()):"ArrowRight"===a.key&&(a.preventDefault(),r())},[q,r]);return e.useEffect(()=>{k&&c&&c(k)},[k,c]),e.useEffect(()=>{if(k)return p(k),k.on("reInit",p),k.on("select",p),()=>{k?.off("select",p)}},[k,p]),(0,d.jsx)(aw.Provider,{value:{carouselRef:j,api:k,opts:b,orientation:a||(b?.axis==="y"?"vertical":"horizontal"),scrollPrev:q,scrollNext:r,canScrollPrev:l,canScrollNext:n},children:(0,d.jsx)("div",{onKeyDownCapture:s,className:(0,av.cn)("relative",g),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...i,children:h})})}function az({className:a,...b}){let{carouselRef:c,orientation:e}=ax();return(0,d.jsx)("div",{ref:c,className:"overflow-hidden","data-slot":"carousel-content",children:(0,d.jsx)("div",{className:(0,av.cn)("flex","horizontal"===e?"-ml-4":"-mt-4 flex-col",a),...b})})}function aA({className:a,...b}){let{orientation:c}=ax();return(0,d.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,av.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===c?"pl-4":"pt-4",a),...b})}function aB({className:a,variant:b="outline",size:c="icon",...e}){let{orientation:f,scrollPrev:g,canScrollPrev:h}=ax();return(0,d.jsxs)(k.$,{"data-slot":"carousel-previous",variant:b,size:c,className:(0,av.cn)("absolute size-8 rounded-full","horizontal"===f?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!h,onClick:g,...e,children:[(0,d.jsx)(u.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}function aC({className:a,variant:b="outline",size:c="icon",...e}){let{orientation:f,scrollNext:g,canScrollNext:h}=ax();return(0,d.jsxs)(k.$,{"data-slot":"carousel-next",variant:b,size:c,className:(0,av.cn)("absolute size-8 rounded-full","horizontal"===f?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!h,onClick:g,...e,children:[(0,d.jsx)(D.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Next slide"})]})}var aD=c(36734),aE=c(87278),aF=c(46148);let aG=(0,c(23339).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var aH=c(8849),aI=c(97201),aJ=c(36736);function aK(a,b="usd"){return new Intl.NumberFormat("en-US",{style:"currency",currency:b.toUpperCase()}).format(a/100)}function aL({images:a}){let[b,c]=(0,e.useState)(),[f,g]=(0,e.useState)(0);return 0===a.length?(0,d.jsx)("div",{className:"aspect-video bg-muted rounded-t-lg flex items-center justify-center",children:(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[(0,d.jsx)(aF.A,{className:"size-8"}),(0,d.jsx)("span",{className:"text-xs",children:"No images"})]})}):(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)(ay,{setApi:c,className:"w-full",children:[(0,d.jsx)(az,{className:"ml-0",children:a.map((a,b)=>(0,d.jsx)(aA,{className:"pl-0",children:(0,d.jsx)("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:(0,d.jsx)("img",{src:a,alt:`Package image ${b+1}`,className:"w-full h-full object-cover",onError:a=>{a.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="225"%3E%3Crect fill="%23f0f0f0" width="400" height="225"/%3E%3Ctext x="200" y="112" text-anchor="middle" dy=".3em" fill="%23999"%3EImage unavailable%3C/text%3E%3C/svg%3E'}})})},b))}),a.length>1&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(aB,{className:"left-2 size-7 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,d.jsx)(aC,{className:"right-2 size-7 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.length>1&&(0,d.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5",children:a.map((a,c)=>(0,d.jsx)("button",{onClick:a=>{a.stopPropagation(),b?.scrollTo(c)},className:(0,N.cn)("size-1.5 rounded-full transition-all",f===c?"bg-white w-3":"bg-white/50 hover:bg-white/75")},c))})]})}function aM({providerOrgId:a,providerName:b,selectedPackageId:c,selectedAddOnQuantities:f={},onPackageSelect:g,onBack:h}){let[l,m]=(0,e.useState)([]),[n,q]=(0,e.useState)([]),[s,t]=(0,e.useState)(!0),[v,w]=(0,e.useState)(null),[x,y]=(0,e.useState)(null),[z,B]=(0,e.useState)(f),[E,F]=(0,e.useState)("package"),I=(a,b)=>{B(c=>{let d=Math.max(0,(c[a]||0)+b);if(0===d){let{[a]:b,...d}=c;return d}return{...c,[a]:d}})},J=()=>{if(!x)return 0;let a=n.reduce((a,b)=>{let c=z[b.id]||0;return a+b.price*c},0);return x.price+a},K=()=>{if(x)g(x,n.filter(a=>(z[a.id]||0)>0).map(a=>({addOn:a,quantity:z[a.id]})),J())};if(s)return(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"1024px"},children:[(0,d.jsxs)("div",{className:"text-center space-y-3",children:[(0,d.jsx)(O.E,{className:"h-8 w-64 mx-auto"}),(0,d.jsx)(O.E,{className:"h-12 w-96 mx-auto"}),(0,d.jsx)(O.E,{className:"h-6 w-80 mx-auto"})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,d.jsx)(O.E,{className:"h-64 rounded-2xl"},a))})]})},"package-loading");if(v)return(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8 text-center",style:{maxWidth:"896px"},children:[(0,d.jsx)(p.A,{className:"h-16 w-16 text-destructive mx-auto"}),(0,d.jsx)(j.H1,{className:"text-2xl",children:v}),(0,d.jsx)(k.$,{onClick:()=>window.location.reload(),children:"Try Again"})]})},"package-error");if(0===l.length)return(0,d.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center container mx-auto px-6 py-12 h-full",children:(0,d.jsxs)("div",{className:"w-full container mx-auto space-y-8",style:{maxWidth:"896px"},children:[(0,d.jsxs)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-muted mb-4",children:(0,d.jsx)(H.A,{className:"h-10 w-10 text-muted-foreground"})}),(0,d.jsx)(j.H1,{className:"text-3xl md:text-4xl font-bold text-foreground",children:"No Packages Available"}),(0,d.jsxs)(j.P,{className:"text-lg text-muted-foreground max-w-md mx-auto",children:[b," has not set up any service packages yet. Please contact them directly to book services."]})]}),(0,d.jsx)(r.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex justify-center",children:h&&(0,d.jsxs)(k.$,{variant:"outline",onClick:h,children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Choose Another Provider"]})})]})},"package-empty");let L=J();return(0,d.jsx)("div",{className:"flex flex-col h-full container mx-auto px-6 py-8",style:{maxWidth:"1024px"},children:(0,d.jsxs)(i.N,{mode:"wait",children:["package"===E&&(0,d.jsxs)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full",children:[(0,d.jsxs)("div",{className:"text-center space-y-3 shrink-0 pb-6",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-muted rounded-full text-foreground/90 text-sm mb-2",children:[(0,d.jsx)(H.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:b})]}),(0,d.jsx)(j.H1,{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Choose Your Package"}),(0,d.jsx)(j.P,{className:"text-lg text-muted-foreground",children:"Select a photography package for your property"})]}),(0,d.jsx)("div",{className:"flex-1 min-h-0",children:(0,d.jsx)($.F,{className:"h-full",children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pb-4",children:l.map(a=>{let b=x?.id===a.id;return(0,d.jsxs)(U.Zp,{className:(0,N.cn)("group cursor-pointer transition-all duration-200 hover:shadow-md relative overflow-hidden","border-2",b?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50"),onClick:()=>{y(a)},children:[a.images&&a.images.length>0&&(0,d.jsx)(aL,{images:a.images}),(0,d.jsxs)(U.Wu,{className:(0,N.cn)("p-6 space-y-4",a.images&&a.images.length>0&&"pt-4"),children:[b&&(0,d.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,d.jsx)("div",{className:"bg-primary text-primary-foreground rounded-full p-1 shadow-md",children:(0,d.jsx)(C.A,{className:"h-5 w-5"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold text-xl",children:a.name}),(0,d.jsx)("div",{className:"text-3xl font-bold text-primary mt-2",children:aK(a.price,a.currency)})]}),a.description&&(0,d.jsxs)(aJ.m_,{children:[(0,d.jsx)(aJ.k$,{asChild:!0,children:(0,d.jsx)(j.P,{className:"text-sm text-muted-foreground line-clamp-2 cursor-default",children:a.description})}),(0,d.jsx)(aJ.ZI,{side:"bottom",className:"max-w-xs",children:(0,d.jsx)("p",{children:a.description})})]}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:a.mediaTypes.map(a=>{let b=function(a){switch(a){case aI.zu.PHOTO:return aD.A;case aI.zu.VIDEO:return aE.A;default:return aD.A}}(a);return(0,d.jsxs)(A.E,{variant:"secondary",className:"gap-1",children:[(0,d.jsx)(b,{className:"h-3 w-3"}),a]},a)})}),(0,d.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,d.jsxs)("div",{className:"space-y-1.5",children:[a.turnaroundDays&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(G.A,{className:"size-4 shrink-0"}),(0,d.jsxs)("span",{children:[a.turnaroundDays," day turnaround"]})]}),a.photoCount&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(aD.A,{className:"size-4 shrink-0"}),(0,d.jsxs)("span",{children:["Up to ",a.photoCount," photos"]})]}),a.videoMinutes&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(aE.A,{className:"size-4 shrink-0"}),(0,d.jsxs)("span",{children:[a.videoMinutes," min video"]})]})]}),a.features.length>0&&(0,d.jsx)("div",{className:"mt-2 max-h-24 overflow-y-auto space-y-1.5",children:a.features.map((a,b)=>(0,d.jsxs)(aJ.m_,{children:[(0,d.jsx)(aJ.k$,{asChild:!0,children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground cursor-default",children:[(0,d.jsx)(o.A,{className:"size-4 shrink-0"}),(0,d.jsx)("span",{className:"truncate",children:a})]})}),(0,d.jsx)(aJ.ZI,{side:"bottom",className:"max-w-xs",children:(0,d.jsx)("p",{children:a})})]},b))})]})]})]},a.id)})})})}),(0,d.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-border shrink-0",children:[(0,d.jsx)("div",{children:h&&(0,d.jsxs)(k.$,{variant:"outline",onClick:h,children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back"]})}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[x&&(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)(j.P,{className:"text-sm text-muted-foreground",children:"Package Price"}),(0,d.jsx)("div",{className:"text-xl font-bold text-foreground",children:aK(x.price,x.currency)})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)(k.$,{size:"lg",onClick:()=>{x&&(n.length>0?F("addons"):K())},disabled:!x,children:[n.length>0?"Continue to Add-ons":"Continue",(0,d.jsx)(D.A,{className:"h-4 w-4 ml-2"})]}),x&&(0,d.jsx)(R.A,{size:40,duration:3,borderWidth:1.5})]})]})]})]},"package-step"),"addons"===E&&x&&(0,d.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex flex-col h-full",children:[(0,d.jsxs)("div",{className:"text-center space-y-3 shrink-0 pb-6",children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-muted rounded-full text-foreground/90 text-sm mb-2",children:[(0,d.jsx)(C.A,{className:"h-4 w-4 text-primary"}),(0,d.jsx)("span",{children:x.name}),(0,d.jsx)("span",{className:"text-muted-foreground",children:""}),(0,d.jsx)("span",{className:"font-medium",children:aK(x.price,x.currency)})]}),(0,d.jsx)(j.H1,{className:"text-4xl md:text-5xl font-bold text-foreground",children:"Enhance Your Package"}),(0,d.jsx)(j.P,{className:"text-lg text-muted-foreground",children:"Add optional services to your booking"})]}),(0,d.jsx)("div",{className:"flex-1 min-h-0",children:(0,d.jsx)($.F,{className:"h-full",children:(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pb-4",children:n.map(a=>{let b=z[a.id]||0,c=b>0;return(0,d.jsx)(U.Zp,{className:(0,N.cn)("transition-all duration-200","border",c?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:(0,d.jsx)(U.Wu,{className:"p-4",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium",children:a.name}),(0,d.jsxs)("span",{className:"font-semibold text-primary",children:["+",aK(a.price,a.currency)]})]}),(0,d.jsx)(A.E,{variant:"outline",className:"mt-1 text-xs",children:function(a){switch(a){case aI.xw.AERIAL:return"Aerial";case aI.xw.TWILIGHT:return"Twilight";case aI.xw.VIRTUAL_TOUR:return"3D Tour";case aI.xw.FLOORPLAN:return"Floor Plan";case aI.xw.RUSH:return"Rush";default:return"Add-on"}}(a.category)}),a.description&&(0,d.jsxs)(aJ.m_,{children:[(0,d.jsx)(aJ.k$,{asChild:!0,children:(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2 cursor-default",children:a.description})}),(0,d.jsx)(aJ.ZI,{side:"bottom",className:"max-w-xs",children:(0,d.jsx)("p",{children:a.description})})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"Quantity"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(k.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:b=>{b.stopPropagation(),I(a.id,-1)},disabled:0===b,children:(0,d.jsx)(aG,{className:"h-4 w-4"})}),(0,d.jsx)("span",{className:"w-8 text-center font-medium",children:b}),(0,d.jsx)(k.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:b=>{b.stopPropagation(),I(a.id,1)},children:(0,d.jsx)(aH.A,{className:"h-4 w-4"})})]})]}),c&&(0,d.jsxs)("div",{className:"text-right text-sm font-medium text-primary",children:["Subtotal: ",aK(a.price*b,a.currency)]})]})})},a.id)})})})}),(0,d.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-border shrink-0",children:[(0,d.jsxs)(k.$,{variant:"outline",onClick:()=>{F("package")},children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Change Package"]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)(j.P,{className:"text-sm text-muted-foreground",children:"Estimated Total"}),(0,d.jsx)("div",{className:"text-2xl font-bold text-foreground",children:aK(L,x.currency)})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)(k.$,{size:"lg",onClick:K,children:["Continue",(0,d.jsx)(D.A,{className:"h-4 w-4 ml-2"})]}),(0,d.jsx)(R.A,{size:40,duration:3,borderWidth:1.5})]})]})]})]},"addons-step")]})})}var aN=c(70581),aO=c(71563);function aP({selectedAddress:a,jobDetails:b,rankings:c,showProviderSearch:e,technicians:f,companies:g,preferredVendors:h,onToggleSearch:i,onTechnicianSelect:l,onBack:m,selectedProvider:p,schedulingMode:s="scheduled"}){let t=!!p;return(0,d.jsx)(r.P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"container mx-auto p-6 h-full",children:(0,d.jsxs)("div",{className:"container mx-auto space-y-6",style:{maxWidth:"896px"},children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Provider selected"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-2"})]}),(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Address selected"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-2"}),(0,d.jsx)(C.A,{className:"h-5 w-5 text-green-500"}),(0,d.jsx)("span",{children:"Job details"}),(0,d.jsx)(D.A,{className:"h-4 w-4 mx-2"}),(0,d.jsx)("span",{className:"text-primary font-medium",children:t?"Confirm order":"Choose technician"})]}),(0,d.jsxs)(U.Zp,{className:"bg-card rounded-2xl border-2 border-border p-6 shadow-sm gap-0",children:[(0,d.jsxs)(U.aR,{className:"flex items-start justify-between mb-4 p-0",children:[(0,d.jsx)("h2",{className:"text-xl",children:"Your Shoot Details"}),(0,d.jsx)(k.$,{variant:"ghost",size:"sm",onClick:m,children:"Edit"})]}),(0,d.jsxs)(U.Wu,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-0",children:[p&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(V.A,{className:"h-5 w-5 text-muted-foreground/60 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80",children:"Provider"}),(0,d.jsx)("div",{className:"text-sm text-foreground font-medium",children:p.orgName})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(q.A,{className:"h-5 w-5 text-muted-foreground/60 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80",children:"Location"}),(0,d.jsx)("div",{className:"text-sm text-foreground",children:a})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(F.A,{className:"h-5 w-5 text-muted-foreground/60 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80",children:"Date & Time"}),(0,d.jsx)("div",{className:"text-sm text-foreground",children:"requested"===s?(0,d.jsx)("span",{className:"text-amber-600 dark:text-amber-400",children:"To be scheduled by provider"}):(0,d.jsxs)(d.Fragment,{children:[b.scheduledDate," at ",b.scheduledTime]})})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(aD.A,{className:"h-5 w-5 text-muted-foreground/60 mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80",children:"Media Types"}),(0,d.jsx)("div",{className:"flex gap-1 mt-1 flex-wrap",children:b.mediaTypes.map(a=>(0,d.jsx)(A.E,{variant:"outline",children:a},a))})]})]})]})]}),t?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(U.Zp,{className:"bg-primary rounded-2xl p-6 text-primary-foreground gap-0",children:[(0,d.jsx)(U.aR,{className:"flex items-center justify-between mb-2 p-0",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(V.A,{className:"h-6 w-6"}),(0,d.jsx)("h3",{className:"text-xl",children:"Ready to Submit"})]})}),(0,d.jsx)(U.Wu,{className:"p-0",children:(0,d.jsxs)(j.P,{className:"text-primary-foreground/80",children:["Your order will be sent to ",(0,d.jsx)("strong",{children:p.orgName})," for fulfillment. They will assign a technician and confirm your booking."]})})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[(0,d.jsxs)(k.$,{variant:"outline",onClick:m,className:"min-w-[200px]",children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Details"]}),(0,d.jsxs)(k.$,{onClick:()=>l("confirm"),className:"min-w-[200px] bg-primary",size:"lg",children:[(0,d.jsx)(aO.A,{className:"h-4 w-4 mr-2"}),"Submit Order"]})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(U.Zp,{className:"bg-primary rounded-2xl p-6 text-primary-foreground gap-0",children:[(0,d.jsxs)(U.aR,{className:"flex items-center justify-between mb-2 p-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(o.A,{className:"h-6 w-6"}),(0,d.jsx)("h3",{className:"text-xl",children:"AI-Matched Technicians"})]}),(0,d.jsxs)(k.$,{variant:"secondary",size:"sm",onClick:i,className:"bg-card/20 hover:bg-card/30 text-primary-foreground border-white/30",children:[(0,d.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Search Specific"]})]}),(0,d.jsx)(U.Wu,{className:"p-0",children:(0,d.jsx)(j.P,{className:"text-primary-foreground/80",children:e?"Search for a specific technician or your preferred media company":"We've ranked technicians based on availability, proximity, reliability, and your preferred vendors"})})]}),e?(0,d.jsx)("div",{className:"bg-card rounded-2xl border-2 border-border p-6 shadow-sm",children:(0,d.jsx)(aN._Q,{technicians:f||[],companies:g,preferredVendors:h,onSelect:l})}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((a,b)=>{let c=a.provider||a.technician;return c?(0,d.jsx)(aN.I2,{technician:c,ranking:a.factors,score:a.score,recommended:a.recommended&&0===b,onAssign:()=>l(c.id)},c.id):null})}),(0,d.jsx)("div",{className:"flex justify-center pt-4",children:(0,d.jsxs)(k.$,{variant:"outline",onClick:m,className:"min-w-[200px]",children:[(0,d.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Details"]})})]})]})},"technician")}var aQ=c(33305),aR=c(22815),aS=c(74331);function aT({open:a,onClose:b,onLogin:c}){return(0,d.jsx)(aQ.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(aQ.Cf,{className:"sm:max-w-md",children:[(0,d.jsxs)(aQ.c7,{children:[(0,d.jsxs)(aQ.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(aR.A,{className:"h-5 w-5 text-primary"}),"Sign in to confirm booking"]}),(0,d.jsx)(aQ.rr,{children:"You've selected your technician! Sign in or create an account to confirm your booking and get started."})]}),(0,d.jsxs)("div",{className:"space-y-3 pt-4",children:[(0,d.jsxs)(k.$,{onClick:()=>{b(),c()},className:"w-full bg-primary ",children:[(0,d.jsx)(aR.A,{className:"h-4 w-4 mr-2"}),"Sign In"]}),(0,d.jsxs)(k.$,{variant:"outline",onClick:()=>{b(),c()},className:"w-full",children:[(0,d.jsx)(aS.A,{className:"h-4 w-4 mr-2"}),"Create Account"]}),(0,d.jsx)(k.$,{variant:"ghost",onClick:b,className:"w-full",children:"Go Back"})]})]})})}function aU({technicians:a,companies:b,preferredVendors:c,onJobCreate:f,isAuthenticated:g=!0,onLoginRequired:j,onCancel:k,initialAddress:l,initialLocation:m}){let n=a||[],[o,p]=(0,e.useState)("provider"),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(l||""),[u,w]=(0,e.useState)(m||null),[x,y]=(0,e.useState)({}),[z,A]=(0,e.useState)(null),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)([]),[F,G]=(0,e.useState)(0),[H,I]=(0,e.useState)({clientName:"",scheduledDate:"",scheduledTime:"",mediaTypes:[],priority:"standard",estimatedDuration:120,requirements:""}),[J,K]=(0,e.useState)("scheduled"),L={id:"temp",orderNumber:"TEMP",organizationId:z?.orgId||"",clientName:H.clientName||"Agent Booking",propertyAddress:s,location:u||{lat:0,lng:0},scheduledDate:H.scheduledDate,scheduledTime:H.scheduledTime,mediaType:H.mediaTypes,priority:H.priority,status:"pending",estimatedDuration:H.estimatedDuration,requirements:H.requirements,createdBy:"",createdAt:new Date},M="confirm"===o&&u?function(a,b,c=[]){return a.filter(a=>"active"===a.status).map(a=>{let d=function(a,b,c,d){let e=(c-a)*Math.PI/180,f=(d-b)*Math.PI/180,g=Math.sin(e/2)*Math.sin(e/2)+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(f/2)*Math.sin(f/2);return 2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))*6371}(a.homeLocation.lat,a.homeLocation.lng,b.location.lat,b.location.lng),e={availability:function(a,b){let c=a.availability.find(a=>a.date===b);return 100*!!c?.available}(a,b.scheduledDate),distance:d<=5?100:d<=15?75:d<=30?50:25*(d<=50),distanceKm:d,reliability:function(a){let{onTimeRate:b,noShows:c,totalJobs:d}=a.reliability;return 0===d?50:Math.max(0,Math.min(100,100*b-c/d*100))}(a),skillMatch:function(a,b){let c={photo:"residential",video:"video",aerial:"aerial",twilight:"twilight"},d=0,e=0;for(let f of b.mediaType){let b=c[f];b&&void 0!==a.skills[b]&&(d+=a.skills[b],e++)}return e>0?d/e*20:50}(a,b),preferredRelationship:function(a,b,c=[]){return a.companyId&&c.includes(a.companyId)||a.preferredClients.includes(b.organizationId)?100:0}(a,b,c)},f=.3*e.availability+.25*e.preferredRelationship+.2*e.reliability+.15*e.distance+.1*e.skillMatch;return{provider:a,technician:a,score:f,factors:e,recommended:f>=60&&100===e.availability}}).sort((a,b)=>b.score-a.score)}(n,L,c):[];return(0,d.jsxs)("div",{className:"bg-background size-full flex-1",children:[(0,d.jsxs)(i.N,{mode:"wait",children:["provider"===o&&(0,d.jsx)(Z,{selectedProviderId:z?.orgId,onProviderSelect:a=>{A(a),C(null),E([]),G(0),p("package")},onBack:k}),"package"===o&&z&&(0,d.jsx)(aM,{providerOrgId:z.orgId,providerName:z.orgName,selectedPackageId:B?.id,selectedAddOnQuantities:D.reduce((a,b)=>(a[b.addOn.id]=b.quantity,a),{}),onPackageSelect:(a,b,c)=>{C(a),E(b),G(c),l?p("details"):p("address")},onBack:()=>{p("provider")}}),"address"===o&&(0,d.jsx)(v,{onAddressSelect:(a,b,c)=>{t(a),w(b),c&&y(c),p("details")},selectedProviderName:z?.orgName,onBack:()=>{p("package")}}),"details"===o&&(0,d.jsx)(T,{selectedAddress:s,jobDetails:H,onJobDetailsChange:I,onBack:()=>{l&&k?k():p("address")},onNext:()=>"scheduled"!==J||H.scheduledDate&&H.scheduledTime?B||0!==H.mediaTypes.length?void p("confirm"):void h.oR.error("Please select at least one media type"):void h.oR.error("Please select a date and time"),selectedProviderName:z?.orgName,selectedPackage:B,selectedAddOns:D,totalPrice:F,schedulingMode:J,onSchedulingModeChange:K}),"confirm"===o&&(0,d.jsx)(aP,{selectedAddress:s,jobDetails:H,rankings:M,showProviderSearch:!1,technicians:n,companies:b,preferredVendors:c,onToggleSearch:()=>{},onTechnicianSelect:()=>{if(!g)return void r(!0);if(!z){h.oR.error("Please select a service provider"),p("provider");return}if(!B){h.oR.error("Please select a package"),p("package");return}let a=B?B.mediaTypes:H.mediaTypes,b=D.map(a=>a.addOn.id),c={};D.forEach(a=>{c[a.addOn.id]=a.quantity});let d={clientName:H.clientName||"Agent Booking",propertyAddress:s,location:u,scheduledDate:H.scheduledDate,scheduledTime:H.scheduledTime,mediaType:a,priority:H.priority,estimatedDuration:H.estimatedDuration,requirements:H.requirements,status:"pending",providerOrgId:z.orgId,providerName:z.orgName,addressLine1:x.addressLine1,city:x.city,region:x.region,postalCode:x.postalCode,countryCode:x.countryCode,packageId:B.id,packageName:B.name,addOnIds:b,addOnQuantities:c,totalPrice:F,schedulingMode:J};f(d),p("provider"),t(""),w(null),A(null),C(null),E([]),G(0),y({}),K("scheduled"),I({clientName:"",scheduledDate:"",scheduledTime:"",mediaTypes:[],priority:"standard",estimatedDuration:120,requirements:""})},onBack:()=>{p("details")},selectedProvider:z,schedulingMode:J})]}),(0,d.jsx)(aT,{open:q,onClose:()=>r(!1),onLogin:()=>{j&&j()}})]})}var aV=c(92172);function aW({data:a,onViewDashboard:b,onCreateAnother:c}){let e="scheduled"===a.schedulingMode;return(0,d.jsx)(r.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"min-h-screen flex items-center justify-center p-6",children:(0,d.jsxs)("div",{className:"w-full max-w-lg space-y-8",children:[(0,d.jsx)(r.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"flex justify-center",children:(0,d.jsx)("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:(0,d.jsx)(C.A,{className:"w-10 h-10 text-green-600 dark:text-green-400"})})}),(0,d.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center space-y-2",children:[(0,d.jsx)(j.H1,{className:"text-2xl md:text-3xl",children:"Order Submitted!"}),(0,d.jsxs)(j.P,{className:"text-muted-foreground",children:["Your order has been sent to ",(0,d.jsx)("strong",{children:a.providerName})]})]}),(0,d.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,d.jsxs)(U.Zp,{className:"border-2",children:[(0,d.jsx)(U.aR,{className:"pb-3",children:(0,d.jsx)(j.H2,{className:"text-base border-0",children:"Order Summary"})}),(0,d.jsxs)(U.Wu,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(V.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.QX,{className:"text-xs",children:"Provider"}),(0,d.jsx)(j.P,{className:"text-sm font-medium",children:a.providerName})]})]}),a.packageName&&(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(H.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.QX,{className:"text-xs",children:"Package"}),(0,d.jsx)(j.P,{className:"text-sm font-medium",children:a.packageName})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(q.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.QX,{className:"text-xs",children:"Location"}),(0,d.jsx)(j.P,{className:"text-sm font-medium",children:a.address})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(F.A,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(j.QX,{className:"text-xs",children:"Schedule"}),e?(0,d.jsxs)(j.P,{className:"text-sm font-medium",children:[a.scheduledDate," at ",a.scheduledTime]}):(0,d.jsx)(j.P,{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"To be scheduled by provider"})]})]})]})]})}),(0,d.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-muted/50 rounded-xl p-4 space-y-3",children:[(0,d.jsx)(j.H2,{className:"text-sm font-medium border-0",children:"What happens next?"}),(0,d.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),(0,d.jsxs)("span",{children:[a.providerName," will review your order"]})]}),!e&&(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(G.A,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"They will contact you to confirm the schedule"})]}),(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"A technician will be assigned to your shoot"})]}),(0,d.jsxs)("li",{className:"flex items-start gap-2",children:[(0,d.jsx)(D.A,{className:"h-4 w-4 mt-0.5 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"You will receive updates as the job progresses"})]})]})]}),(0,d.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-3",children:[(0,d.jsxs)(k.$,{variant:"outline",onClick:c,className:"flex-1",children:[(0,d.jsx)(aH.A,{className:"h-4 w-4 mr-2"}),"Create Another Order"]}),(0,d.jsxs)(k.$,{onClick:b,className:"flex-1",children:[(0,d.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"View Dashboard"]})]})]})})}function aX(){let a=(0,f.useRouter)(),{user:b,isLoading:c,organizationId:i,memberships:j}=(0,g.l)(["AGENT","COMPANY"]),[k,l]=(0,e.useState)([]),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)(!0),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(null);b?.accountType?.toUpperCase();let u=(0,e.useMemo)(()=>[],[]),v=async a=>{if(!b)return void h.oR.error("Unable to create order. Please try again.");if(!a.providerOrgId)return void h.oR.error("Please select a service provider.");if(!a.packageId)return void h.oR.error("Please select a package.");r(!0);try{let c="requested"===a.schedulingMode?new Date().toISOString():a.scheduledDate&&a.scheduledTime?new Date(`${a.scheduledDate}T${a.scheduledTime}`).toISOString():new Date().toISOString(),d=`${b.id}-${a.providerOrgId}-${a.addressLine1||a.propertyAddress}-${Date.now()}`,e=await M.F.orders.create({providerOrgId:a.providerOrgId,addressLine1:a.addressLine1||a.propertyAddress||"",city:a.city,region:a.region,postalCode:a.postalCode,countryCode:a.countryCode,lat:a.location?.lat,lng:a.location?.lng,scheduledTime:c,estimatedDuration:a.estimatedDuration||120,schedulingMode:a.schedulingMode||"scheduled",mediaTypes:a.mediaType||[],priority:a.priority||"standard",notes:a.requirements||"",idempotencyKey:d});t({project:e.project,providerName:a.providerName||"Provider",address:a.propertyAddress||a.addressLine1||"Address",scheduledDate:a.scheduledDate,scheduledTime:a.scheduledTime,packageName:a.packageName,schedulingMode:a.schedulingMode||"scheduled"}),h.oR.success("Order submitted successfully!")}catch(a){console.error("Failed to create order:",a),h.oR.error(a instanceof Error?a.message:"Failed to process order")}finally{r(!1)}};return c||o?(0,d.jsx)(aV.Eg,{}):b?s?(0,d.jsx)(aW,{data:s,onViewDashboard:()=>{a.push("/dashboard")},onCreateAnother:()=>{t(null)}}):(0,d.jsx)("div",{className:"size-full overflow-x-hidden",children:(0,d.jsx)(aU,{technicians:k,companies:m,preferredVendors:u,onJobCreate:v,isAuthenticated:!0,onCancel:()=>{a.push("/dashboard")}})}):null}c(61848)},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72387:(a,b,c)=>{Promise.resolve().then(c.bind(c,78768))},73024:a=>{"use strict";a.exports=require("node:fs")},74075:a=>{"use strict";a.exports=require("zlib")},75234:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},76760:a=>{"use strict";a.exports=require("node:path")},77598:a=>{"use strict";a.exports=require("node:crypto")},78768:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/(protected)/booking/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/(protected)/booking/page.tsx","default")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79951:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(21124),e=c(67454),f=c(15514);let g=({className:a,size:b=50,delay:c=0,duration:g=6,colorFrom:h="#ffaa40",colorTo:i="#9c40ff",transition:j,style:k,reverse:l=!1,initialOffset:m=0,borderWidth:n=1})=>(0,d.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit]",style:{border:`${n}px solid transparent`,maskImage:"linear-gradient(transparent, transparent), linear-gradient(#000, #000)",maskComposite:"intersect",WebkitMaskComposite:"source-in",maskClip:"padding-box, border-box"},children:(0,d.jsx)(e.P.div,{className:(0,f.cn)("absolute aspect-square","bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent",a),style:{width:b,offsetPath:`rect(0 auto auto 0 round ${b}px)`,"--color-from":h,"--color-to":i,...k},initial:{offsetDistance:`${m}%`},animate:{offsetDistance:l?[`${100-m}%`,`${-m}%`]:[`${m}%`,`${100+m}%`]},transition:{repeat:1/0,ease:"linear",duration:g,delay:-c,...j}})})},80196:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[5745,3236,3991,6355,517,7454,7848,3698,9912,8771,7203,2443,3277,2172,5923,1095,5090,8739,581],()=>b(b.s=21492));module.exports=c})();