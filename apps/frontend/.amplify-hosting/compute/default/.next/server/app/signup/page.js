(()=>{var a={};a.id=879,a.ids=[879],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3884:(a,b,c)=>{Promise.resolve().then(c.bind(c,73327))},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17036:(a,b,c)=>{Promise.resolve().then(c.bind(c,78797))},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:a=>{"use strict";a.exports=require("os")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33305:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>l,Es:()=>n,L3:()=>o,c7:()=>m,lG:()=>h,rr:()=>p,zM:()=>i});var d=c(21124);c(38301);var e=c(6843),f=c(47089),g=c(67442);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dialog",...a})}function i({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dialog-trigger",...a})}function j({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"dialog-portal",...a})}function k({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function l({className:a,children:b,...c}){return(0,d.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,d.jsx)(k,{}),(0,d.jsxs)(e.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border-none p-6 shadow-lg duration-200 sm:max-w-lg",a),...c,children:[b,(0,d.jsxs)(e.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(f.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function n({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-footer",className:(0,g.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function o({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",a),...b})}function p({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},33873:a=>{"use strict";a.exports=require("path")},34631:a=>{"use strict";a.exports=require("tls")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:a=>{"use strict";a.exports=require("node:fs")},73327:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>al});var d=c(21124),e=c(65346),f=c(3991),g=c.n(f),h=c(38301),i=c(79347);let j=(0,h.createContext)(void 0),k=["email","otp","name","marketplace","calendar","invite","usecases","password"],l={email:"",otpToken:"",name:"",accountType:null,calendarConnected:!1,inviteCode:"",inviteOrganization:void 0,useCases:[],password:"",pendingInvitations:[]};function m({children:a}){let[b,c]=(0,h.useState)("email"),[e,f]=(0,h.useState)(l),[g,i]=(0,h.useState)(!1),[m,n]=(0,h.useState)(null),o=(0,h.useCallback)(a=>{f(b=>({...b,...a}))},[e]),p=(0,h.useCallback)(a=>{c(a),n(null)},[]),q=(0,h.useCallback)(()=>{let a=k.indexOf(b)+1;"usecases"===k[a]&&"PROVIDER"!==e.accountType&&a++,a<k.length&&p(k[a])},[b,e.accountType,p]),r=(0,h.useCallback)(()=>{let a=k.indexOf(b)-1;"usecases"===k[a]&&"PROVIDER"!==e.accountType&&a--,a>=0&&p(k[a])},[b,e.accountType,p]),s=k.indexOf(b)>0;return(0,d.jsx)(j.Provider,{value:{currentStep:b,data:e,setStep:p,updateData:o,nextStep:q,prevStep:r,canGoBack:s,isLoading:g,setIsLoading:i,error:m,setError:n},children:a})}function n(){let a=(0,h.useContext)(j);if(void 0===a)throw Error("useOnboarding must be used within an OnboardingProvider");return a}var o=c(19217),p=c(7629),q=c(70637),r=c(79951);function s(){let{data:a,updateData:b,nextStep:c,setIsLoading:e,setError:f,isLoading:j}=n(),[k,l]=(0,h.useState)(a.email),m=async a=>{a.preventDefault(),f(null),e(!0);try{if((await i.F.otp.checkEmail(k)).registered){f("This email is already registered. Please sign in instead."),e(!1);return}await i.F.otp.send(k),b({email:k}),c()}catch(a){f(a.message||"Failed to send verification code")}finally{e(!1)}};return(0,d.jsx)("form",{onSubmit:m,children:(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome to VREM"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Enter your email to get started"})]}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)(q.dh,{htmlFor:"email",children:"Email address"}),(0,d.jsx)(p.p,{id:"email",type:"email",placeholder:"you@example.com",value:k,onChange:a=>l(a.target.value),required:!0,autoFocus:!0,disabled:j}),(0,d.jsx)(q.ry,{children:"We'll send you a verification code"})]}),(0,d.jsx)(q.D0,{children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.$,{type:"submit",className:"w-full",disabled:j||!k,children:j?"Sending code...":"Continue"}),k&&!j&&(0,d.jsx)(r.A,{size:40,duration:3,borderWidth:1.5})]})}),(0,d.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,d.jsx)(g(),{href:"/",className:"text-primary underline underline-offset-4",children:"Sign in"})]})]})})}var t=Object.defineProperty,u=Object.defineProperties,v=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,z=(a,b,c)=>b in a?t(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,A=h.createContext({}),B=h.forwardRef((a,b)=>{var c,d,e,f,g,{value:i,onChange:j,maxLength:k,textAlign:l="left",pattern:m,placeholder:n,inputMode:o="numeric",onComplete:p,pushPasswordManagerStrategy:q="increase-width",pasteTransformer:r,containerClassName:s,noScriptCSSFallback:t=D,render:B,children:E}=a,F=((a,b)=>{var c={};for(var d in a)x.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&w)for(var d of w(a))0>b.indexOf(d)&&y.call(a,d)&&(c[d]=a[d]);return c})(a,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]);let[G,H]=h.useState("string"==typeof F.defaultValue?F.defaultValue:""),I=null!=i?i:G,J=function(a){let b=h.useRef();return h.useEffect(()=>{b.current=a}),b.current}(I),K=h.useCallback(a=>{null==j||j(a),H(a)},[j]),L=h.useMemo(()=>m?"string"==typeof m?new RegExp(m):m:null,[m]),M=h.useRef(null),N=h.useRef(null),O=h.useRef({value:I,onChange:K,isIOS:"undefined"!=typeof window&&(null==(d=null==(c=null==window?void 0:window.CSS)?void 0:c.supports)?void 0:d.call(c,"-webkit-touch-callout","none"))}),P=h.useRef({prev:[null==(e=M.current)?void 0:e.selectionStart,null==(f=M.current)?void 0:f.selectionEnd,null==(g=M.current)?void 0:g.selectionDirection]});h.useImperativeHandle(b,()=>M.current,[]),h.useEffect(()=>{let a=M.current,b=N.current;if(!a||!b)return;function c(){if(document.activeElement!==a){V(null),X(null);return}let b=a.selectionStart,c=a.selectionEnd,d=a.selectionDirection,e=a.maxLength,f=a.value,g=P.current.prev,h=-1,i=-1,j;if(0!==f.length&&null!==b&&null!==c){let a=b===c,d=b===f.length&&f.length<e;if(a&&!d){if(0===b)h=0,i=1,j="forward";else if(b===e)h=b-1,i=b,j="backward";else if(e>1&&f.length>1){let a=0;if(null!==g[0]&&null!==g[1]){j=b<g[1]?"backward":"forward";let c=g[0]===g[1]&&g[0]<e;"backward"!==j||c||(a=-1)}h=a+b,i=a+b+1}}-1!==h&&-1!==i&&h!==i&&M.current.setSelectionRange(h,i,j)}let k=-1!==h?h:b,l=-1!==i?i:c,m=null!=j?j:d;V(k),X(l),P.current.prev=[k,l,m]}if(O.current.value!==a.value&&O.current.onChange(a.value),P.current.prev=[a.selectionStart,a.selectionEnd,a.selectionDirection],document.addEventListener("selectionchange",c,{capture:!0}),c(),document.activeElement===a&&T(!0),!document.getElementById("input-otp-style")){let a=document.createElement("style");if(a.id="input-otp-style",document.head.appendChild(a),a.sheet){let b="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";C(a.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),C(a.sheet,`[data-input-otp]:autofill { ${b} }`),C(a.sheet,`[data-input-otp]:-webkit-autofill { ${b} }`),C(a.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),C(a.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let d=()=>{b&&b.style.setProperty("--root-height",`${a.clientHeight}px`)};d();let e=new ResizeObserver(d);return e.observe(a),()=>{document.removeEventListener("selectionchange",c,{capture:!0}),e.disconnect()}},[]);let[Q,R]=h.useState(!1),[S,T]=h.useState(!1),[U,V]=h.useState(null),[W,X]=h.useState(null);h.useEffect(()=>{!function(a){setTimeout(a,0),setTimeout(a,10),setTimeout(a,50)}(()=>{var a,b,c,d;null==(a=M.current)||a.dispatchEvent(new Event("input"));let e=null==(b=M.current)?void 0:b.selectionStart,f=null==(c=M.current)?void 0:c.selectionEnd,g=null==(d=M.current)?void 0:d.selectionDirection;null!==e&&null!==f&&(V(e),X(f),P.current.prev=[e,f,g])})},[I,S]),h.useEffect(()=>{void 0!==J&&I!==J&&J.length<k&&I.length===k&&(null==p||p(I))},[k,p,J,I]);let Y=function({containerRef:a,inputRef:b,pushPasswordManagerStrategy:c,isFocused:d}){let[e,f]=h.useState(!1),[g,i]=h.useState(!1),[j,k]=h.useState(!1),l=h.useMemo(()=>"none"!==c&&("increase-width"===c||"experimental-no-flickering"===c)&&e&&g,[e,g,c]),m=h.useCallback(()=>{let d=a.current,e=b.current;if(!d||!e||j||"none"===c)return;let g=d.getBoundingClientRect().left+d.offsetWidth,h=d.getBoundingClientRect().top+d.offsetHeight/2;0===document.querySelectorAll('[data-lastpass-icon-root],com-1password-button,[data-dashlanecreated],[style$="2147483647 !important;"]').length&&document.elementFromPoint(g-18,h)===d||(f(!0),k(!0))},[a,b,j,c]);return h.useEffect(()=>{let b=a.current;if(!b||"none"===c)return;function d(){i(window.innerWidth-b.getBoundingClientRect().right>=40)}d();let e=setInterval(d,1e3);return()=>{clearInterval(e)}},[a,c]),h.useEffect(()=>{let a=d||document.activeElement===b.current;if("none"===c||!a)return;let e=setTimeout(m,0),f=setTimeout(m,2e3),g=setTimeout(m,5e3),h=setTimeout(()=>{k(!0)},6e3);return()=>{clearTimeout(e),clearTimeout(f),clearTimeout(g),clearTimeout(h)}},[b,d,c,m]),{hasPWMBadge:e,willPushPWMBadge:l,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:N,inputRef:M,pushPasswordManagerStrategy:q,isFocused:S}),Z=h.useCallback(a=>{let b=a.currentTarget.value.slice(0,k);if(b.length>0&&L&&!L.test(b))return void a.preventDefault();"string"==typeof J&&b.length<J.length&&document.dispatchEvent(new Event("selectionchange")),K(b)},[k,K,J,L]),$=h.useCallback(()=>{var a;if(M.current){let b=Math.min(M.current.value.length,k-1),c=M.current.value.length;null==(a=M.current)||a.setSelectionRange(b,c),V(b),X(c)}T(!0)},[k]),_=h.useCallback(a=>{var b,c;let d=M.current;if(!r&&(!O.current.isIOS||!a.clipboardData||!d))return;let e=a.clipboardData.getData("text/plain"),f=r?r(e):e;a.preventDefault();let g=null==(b=M.current)?void 0:b.selectionStart,h=null==(c=M.current)?void 0:c.selectionEnd,i=(g!==h?I.slice(0,g)+f+I.slice(h):I.slice(0,g)+f+I.slice(g)).slice(0,k);if(i.length>0&&L&&!L.test(i))return;d.value=i,K(i);let j=Math.min(i.length,k-1),l=i.length;d.setSelectionRange(j,l),V(j),X(l)},[k,K,L,I]),aa=h.useMemo(()=>({position:"relative",cursor:F.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[F.disabled]),ab=h.useMemo(()=>({position:"absolute",inset:0,width:Y.willPushPWMBadge?`calc(100% + ${Y.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Y.willPushPWMBadge?`inset(0 ${Y.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:l,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Y.PWM_BADGE_SPACE_WIDTH,Y.willPushPWMBadge,l]),ac=h.useMemo(()=>h.createElement("input",u(((a,b)=>{for(var c in b||(b={}))x.call(b,c)&&z(a,c,b[c]);if(w)for(var c of w(b))y.call(b,c)&&z(a,c,b[c]);return a})({autoComplete:F.autoComplete||"one-time-code"},F),v({"data-input-otp":!0,"data-input-otp-placeholder-shown":0===I.length||void 0,"data-input-otp-mss":U,"data-input-otp-mse":W,inputMode:o,pattern:null==L?void 0:L.source,"aria-placeholder":n,style:ab,maxLength:k,value:I,ref:M,onPaste:a=>{var b;_(a),null==(b=F.onPaste)||b.call(F,a)},onChange:Z,onMouseOver:a=>{var b;R(!0),null==(b=F.onMouseOver)||b.call(F,a)},onMouseLeave:a=>{var b;R(!1),null==(b=F.onMouseLeave)||b.call(F,a)},onFocus:a=>{var b;$(),null==(b=F.onFocus)||b.call(F,a)},onBlur:a=>{var b;T(!1),null==(b=F.onBlur)||b.call(F,a)}}))),[Z,$,_,o,ab,k,W,U,F,null==L?void 0:L.source,I]),ad=h.useMemo(()=>({slots:Array.from({length:k}).map((a,b)=>{var c;let d=S&&null!==U&&null!==W&&(U===W&&b===U||b>=U&&b<W),e=void 0!==I[b]?I[b]:null;return{char:e,placeholderChar:void 0!==I[0]?null:null!=(c=null==n?void 0:n[b])?c:null,isActive:d,hasFakeCaret:d&&null===e}}),isFocused:S,isHovering:!F.disabled&&Q}),[S,Q,k,W,U,F.disabled,I]),ae=h.useMemo(()=>B?B(ad):h.createElement(A.Provider,{value:ad},E),[E,ad,B]);return h.createElement(h.Fragment,null,null!==t&&h.createElement("noscript",null,h.createElement("style",null,t)),h.createElement("div",{ref:N,"data-input-otp-container":!0,style:aa,className:s},ae,h.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ac)))});function C(a,b){try{a.insertRule(b)}catch(a){console.error("input-otp could not insert CSS rule:",b)}}B.displayName="Input";var D=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,E=c(67442);function F({className:a,containerClassName:b,...c}){return(0,d.jsx)(B,{"data-slot":"input-otp",containerClassName:(0,E.cn)("flex items-center gap-2 has-disabled:opacity-50",b),className:(0,E.cn)("disabled:cursor-not-allowed",a),...c})}function G({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"input-otp-group",className:(0,E.cn)("flex items-center gap-1",a),...b})}function H({index:a,className:b,...c}){let e=h.useContext(A),{char:f,hasFakeCaret:g,isActive:i}=e?.slots[a]??{};return(0,d.jsxs)("div",{"data-slot":"input-otp-slot","data-active":i,className:(0,E.cn)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm bg-input-background transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",b),...c,children:[f,g&&(0,d.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,d.jsx)("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}var I=c(79944);function J(){let{data:a,updateData:b,nextStep:c,prevStep:e,setIsLoading:f,setError:g,isLoading:j}=n(),[k,l]=(0,h.useState)(""),[m,p]=(0,h.useState)(30),r=(0,h.useRef)(null),s=async()=>{if(6===k.length){g(null),f(!0);try{let d=await i.F.otp.verify(a.email,k),e=[];try{e=(await i.F.organizations.getPendingInvitationsByEmail(a.email)).invitations||[]}catch(a){console.error("Failed to check pending invitations:",a)}let f=e[0],g={otpToken:d.token,pendingInvitations:e};f&&!a.inviteCode&&(g.inviteCode=f.token,g.inviteOrganization={id:f.organization.id,name:f.organization.name,logoUrl:f.organization.logoUrl}),b(g),c()}catch(a){g(a.message||"Invalid verification code")}finally{f(!1)}}},t=async()=>{if(!(m>0)){g(null),p(30),r.current&&clearInterval(r.current),r.current=setInterval(()=>{p(a=>a<=1?(r.current&&clearInterval(r.current),0):a-1)},1e3);try{await i.F.otp.send(a.email)}catch(a){g(a.message||"Failed to resend code")}}};return(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Check your email"}),(0,d.jsxs)("p",{className:"text-muted-foreground text-sm text-balance",children:["We sent a 6-digit code to"," ",(0,d.jsx)("span",{className:"font-medium text-foreground",children:a.email})]})]}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(F,{maxLength:6,value:k,onChange:l,onComplete:s,disabled:j,children:(0,d.jsxs)(G,{children:[(0,d.jsx)(H,{index:0}),(0,d.jsx)(H,{index:1}),(0,d.jsx)(H,{index:2}),(0,d.jsx)(H,{index:3}),(0,d.jsx)(H,{index:4}),(0,d.jsx)(H,{index:5})]})})}),(0,d.jsx)(q.ry,{className:"text-center mt-4",children:"Enter the verification code from your email"})]}),(0,d.jsx)(q.D0,{children:(0,d.jsx)(o.$,{type:"button",className:"w-full",onClick:s,disabled:j||6!==k.length,children:j?"Verifying...":"Verify"})}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:j,children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,d.jsx)(o.$,{type:"button",variant:"link",size:"sm",onClick:t,disabled:m>0||j,children:m>0?`Resend in ${m}s`:"Resend code"})]})]})}function K(){let{data:a,updateData:b,nextStep:c,prevStep:e,isLoading:f}=n(),[g,i]=(0,h.useState)(a.name);return(0,d.jsx)("form",{onSubmit:a=>{a.preventDefault(),g.trim()&&(b({name:g.trim()}),c())},children:(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"What's your name?"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"This is how you'll appear to others"})]}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)(q.dh,{htmlFor:"name",children:"Full name"}),(0,d.jsx)(p.p,{id:"name",type:"text",placeholder:"John Doe",value:g,onChange:a=>i(a.target.value),required:!0,autoFocus:!0,disabled:f})]}),g.trim()&&(0,d.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-medium text-lg",children:g.trim().charAt(0).toUpperCase()}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:g.trim()}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Profile preview"})]})]}),(0,d.jsx)(q.D0,{children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.$,{type:"submit",className:"w-full",disabled:f||!g.trim(),children:"Continue"}),g.trim()&&!f&&(0,d.jsx)(r.A,{size:40,duration:3,borderWidth:1.5})]})}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:f,className:"self-start",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]})})}var L=c(65893),M=c(15514);let N=[{value:"AGENT",label:"I'm an Agent",description:"Book photoshoots for your property listings"},{value:"PROVIDER",label:"I'm a Provider",description:"Provide photography and media services"}],O={OWNER:"Owner",ADMIN:"Admin",PROJECT_MANAGER:"Project Manager",TECHNICIAN:"Technician",EDITOR:"Editor"};function P(){let{data:a,updateData:b,nextStep:c,prevStep:e,isLoading:f}=n(),[g,i]=(0,h.useState)(null),j=a.pendingInvitations?.[0],k=g||a.accountType,l=k?N.find(a=>a.value===k)?.description:"Hover over an option to learn more";return(0,d.jsxs)(q.M_,{children:[j&&(0,d.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-primary/10 border border-primary/20",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(L.A,{className:"w-4 h-4 text-primary"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("p",{className:"text-sm font-medium text-foreground",children:["You've been invited to join"," ",(0,d.jsx)("span",{className:"text-primary",children:j.organization.name})]}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["as ",O[j.role]||j.role]})]})]})}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"How will you use VREM?"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Select your role to customize your experience"})]}),(0,d.jsx)("div",{className:"flex w-full rounded-lg border border-border overflow-hidden",children:N.map((e,g)=>(0,d.jsx)("button",{type:"button",onClick:()=>{b({accountType:e.value}),c()},onMouseEnter:()=>i(e.value),onMouseLeave:()=>i(null),disabled:f,className:(0,M.cn)("flex-1 py-3.5 px-4 text-sm font-medium transition-colors","focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-inset",g>0&&"border-l border-border",a.accountType===e.value?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground"),children:e.label},e.value))}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-3 h-4",children:l}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:f,className:"self-start mt-4",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]})}var Q=c(33305),R=c(72567),S=c(71613),T=c(16945);function U(){let{data:a,updateData:b,nextStep:c,prevStep:e,isLoading:f}=n(),[g,i]=(0,h.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-2",children:(0,d.jsx)(R.A,{className:"w-8 h-8 text-primary"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Connect your calendar"})]}),(0,d.jsx)("ul",{className:"space-y-2 mb-2",children:"PROVIDER"===a.accountType?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Automatic availability sync"})]}),(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Prevent double-bookings"})]}),(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Client scheduling integration"})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Automatic shoot reminders"})]}),(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Calendar event creation"})]}),(0,d.jsxs)("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(S.A,{className:"w-4 h-4 text-primary flex-shrink-0"}),(0,d.jsx)("span",{children:"Schedule at a glance"})]})]})}),(0,d.jsxs)(o.$,{type:"button",className:"w-full",onClick:()=>{b({calendarConnected:!0}),c()},disabled:f,children:[(0,d.jsxs)("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,d.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,d.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,d.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Connect Google Calendar"]}),(0,d.jsx)(o.$,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{i(!0)},disabled:f,children:"Skip for now"}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:f,className:"self-start",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]}),(0,d.jsx)(Q.lG,{open:g,onOpenChange:i,children:(0,d.jsxs)(Q.Cf,{children:[(0,d.jsxs)(Q.c7,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:(0,d.jsx)(T.A,{className:"w-5 h-5 text-amber-600"})}),(0,d.jsx)(Q.L3,{children:"Skip calendar connection?"})]}),(0,d.jsx)(Q.rr,{className:"pt-2",children:"PROVIDER"===a.accountType?"Without calendar sync, you'll need to manually manage your availability. This may lead to double-bookings.":"Without calendar sync, you won't get automatic reminders for your scheduled shoots."})]}),(0,d.jsxs)(Q.Es,{children:[(0,d.jsx)(o.$,{variant:"outline",onClick:()=>i(!1),children:"Go back"}),(0,d.jsx)(o.$,{variant:"default",onClick:()=>{i(!1),b({calendarConnected:!1}),c()},children:"Skip anyway"})]})]})})]})}var V=c(59268),W=c(91292),X=c(45334),Y=c(71117);function Z(){let{data:a,updateData:b,nextStep:c,prevStep:e,isLoading:f,setIsLoading:g}=n(),[i,j]=(0,h.useState)(a.inviteCode),[k,l]=(0,h.useState)(!1),[m,s]=(0,h.useState)(null);(0,h.useRef)(!1);let t=a.pendingInvitations.length>0&&a.inviteCode;return(0,d.jsx)("form",{onSubmit:a=>{a.preventDefault(),c()},children:(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Got an invite code?"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"If someone invited you to join their organization, enter the code here"})]}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)(q.dh,{htmlFor:"invite-code",children:"Invite code (optional)"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(p.p,{id:"invite-code",type:"text",placeholder:"Enter invite code",value:i,onChange:a=>j(a.target.value),disabled:f,className:(0,M.cn)(m?.valid===!0&&"border-green-500",m?.valid===!1&&i&&"border-destructive")}),k&&(0,d.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),!k&&m?.valid&&(0,d.jsx)(V.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-green-500"}),!k&&m?.valid===!1&&i&&(0,d.jsx)(W.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-destructive"})]}),(0,d.jsx)(q.ry,{children:"Leave empty if you don't have one"})]}),m?.valid&&m.organization&&(0,d.jsxs)("div",{className:"p-4 rounded-lg border bg-muted/50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[m.organization.logoUrl?(0,d.jsx)("img",{src:m.organization.logoUrl,alt:"",className:"w-10 h-10 rounded-lg object-cover"}):(0,d.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,d.jsx)(X.A,{className:"w-5 h-5 text-primary"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:m.organization.name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"You'll join this organization"})]})]}),t&&(0,d.jsxs)("div",{className:"mt-3 pt-3 border-t flex items-start gap-2 text-xs text-muted-foreground",children:[(0,d.jsx)(Y.A,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),(0,d.jsx)("span",{children:"This invitation was detected from your email. You can change or remove it if needed."})]})]}),m?.valid===!1&&i&&(0,d.jsx)("p",{className:"text-sm text-destructive text-center",children:"This invite code is invalid or has expired"}),(0,d.jsx)(q.D0,{children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.$,{type:"submit",className:"w-full",disabled:f||!!(i&&!m?.valid),children:m?.valid?"Continue":"Continue without code"}),!f&&!(i&&!m?.valid)&&(0,d.jsx)(r.A,{size:40,duration:3,borderWidth:1.5})]})}),i&&!m?.valid&&(0,d.jsx)(o.$,{type:"button",variant:"ghost",className:"w-full",onClick:()=>{b({inviteCode:"",inviteOrganization:void 0}),c()},disabled:f,children:"Skip this step"}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:f,className:"self-start",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]})})}let $=[{value:"PHOTOGRAPHY",label:"Photography",icon:"\uD83D\uDCF7"},{value:"VIDEOGRAPHY",label:"Videography",icon:"\uD83C\uDFAC"},{value:"DRONE_AERIAL",label:"Drone/Aerial",icon:"\uD83D\uDE81"},{value:"VIRTUAL_TOURS",label:"Virtual Tours",icon:"\uD83C\uDFE0"},{value:"FLOOR_PLANS",label:"Floor Plans",icon:"\uD83D\uDCD0"},{value:"EDITING",label:"Editing",icon:"\uD83D\uDDBC️"},{value:"STAGING",label:"Virtual Staging",icon:"\uD83D\uDECB️"},{value:"MEASUREMENTS",label:"Measurements",icon:"\uD83D\uDCCF"}];function _(){let{data:a,updateData:b,nextStep:c,prevStep:e,isLoading:f,setError:g}=n();return(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"What services do you offer?"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Select all the services you provide"})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-3",children:$.map(c=>{let e=a.useCases.includes(c.value);return(0,d.jsxs)("button",{type:"button",onClick:()=>(c=>{let d=a.useCases;b({useCases:d.includes(c)?d.filter(a=>a!==c):[...d,c]})})(c.value),disabled:f,className:(0,M.cn)("relative p-4 rounded-xl border-2 text-center transition-all","hover:border-primary hover:bg-primary/5","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",e?"border-primary bg-primary/10":"border-border"),children:[e&&(0,d.jsx)("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:(0,d.jsx)(S.A,{className:"w-3 h-3 text-primary-foreground"})}),(0,d.jsx)("div",{className:"text-2xl mb-2",children:c.icon}),(0,d.jsx)("div",{className:"text-sm font-medium",children:c.label})]},c.value)})}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:[a.useCases.length," service",1!==a.useCases.length?"s":""," ","selected"]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.$,{type:"button",className:"w-full",onClick:()=>{if(0===a.useCases.length)return void g("Please select at least one service you provide");c()},disabled:f||0===a.useCases.length,children:"Continue"}),a.useCases.length>0&&!f&&(0,d.jsx)(r.A,{size:40,duration:3,borderWidth:1.5})]}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:e,disabled:f,className:"self-start",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]})}var aa=c(61605);let ab=(0,c(23339).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var ac=c(3368),ad=c(47089),ae=c(42378);function af(){let{signUp:a,setActive:b}=(0,aa.yC)(),c=(0,ae.useRouter)(),{data:e,prevStep:f,setIsLoading:g,setError:j,isLoading:k}=n(),[l,m]=(0,h.useState)(""),[r,s]=(0,h.useState)(""),[t,u]=(0,h.useState)(!1),[v,w]=(0,h.useState)(!1),x=[{label:"At least 8 characters",met:l.length>=8},{label:"Contains a number",met:/\d/.test(l)},{label:"Contains uppercase & lowercase",met:/[a-z]/.test(l)&&/[A-Z]/.test(l)}],y=x.every(a=>a.met),z=l===r&&l.length>0,A=async d=>{if(d.preventDefault(),!a||!b)return void j("Authentication not initialized. Please refresh the page.");if(!y)return void j("Please meet all password requirements");if(!z)return void j("Passwords do not match");j(null),g(!0);try{let d=e.accountType||"AGENT",f=e.name.trim().split(" "),g=f[0]||"",h=f.slice(1).join(" ")||"",k=await a.create({emailAddress:e.email,password:l,firstName:g,lastName:h,unsafeMetadata:{accountType:d,inviteCode:e.inviteCode||void 0,useCases:"PROVIDER"===d?e.useCases:void 0}});if("complete"===k.status){if(await b({session:k.createdSessionId}),sessionStorage.removeItem("onboarding_data"),sessionStorage.removeItem("onboarding_return"),e.calendarConnected)try{let{url:a}=await i.F.nylas.startOAuth("google","dashboard");window.location.href=a;return}catch(a){console.error("Failed to start calendar OAuth:",a)}c.push("/dashboard")}else"missing_requirements"===k.status?(console.log("Sign-up missing requirements:",{status:k.status,missingFields:k.missingFields,unverifiedFields:k.unverifiedFields,verifications:k.verifications}),k.unverifiedFields?.includes("email_address")?j("Email verification required. Please disable 'Verify at sign-up' for Email in Clerk dashboard."):k.missingFields?.length?j(`Missing required fields: ${k.missingFields.join(", ")}`):j(`Registration incomplete. Check Clerk dashboard settings. Missing: ${JSON.stringify(k.unverifiedFields||k.missingFields||"unknown")}`)):(console.log("Sign-up status:",k.status,k),j(`Registration incomplete: ${k.status}`))}catch(a){if(console.error("Registration failed:",a),a.errors){let b=a.errors[0];b?.code==="form_identifier_exists"?j("An account with this email already exists. Please log in instead."):j(b?.message||"Registration failed. Please try again.")}else j(a.message||"Registration failed. Please try again.")}finally{g(!1)}};return(0,d.jsxs)("form",{onSubmit:A,children:[(0,d.jsx)("div",{id:"clerk-captcha"}),(0,d.jsxs)(q.M_,{children:[(0,d.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center mb-6",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Create your password"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Choose a strong password to secure your account"})]}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)(q.dh,{htmlFor:"password",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(p.p,{id:"password",type:t?"text":"password",value:l,onChange:a=>m(a.target.value),required:!0,autoFocus:!0,disabled:k,className:"pr-10"}),(0,d.jsx)("button",{type:"button",onClick:()=>u(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:t?(0,d.jsx)(ab,{className:"w-4 h-4"}):(0,d.jsx)(ac.A,{className:"w-4 h-4"})})]})]}),(0,d.jsx)("div",{className:"space-y-2",children:x.map(a=>(0,d.jsxs)("div",{className:`flex items-center gap-2 text-sm ${a.met?"text-green-600":"text-muted-foreground"}`,children:[a.met?(0,d.jsx)(S.A,{className:"w-4 h-4"}):(0,d.jsx)(ad.A,{className:"w-4 h-4"}),a.label]},a.label))}),(0,d.jsxs)(q.D0,{children:[(0,d.jsx)(q.dh,{htmlFor:"confirm-password",children:"Confirm password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(p.p,{id:"confirm-password",type:v?"text":"password",value:r,onChange:a=>s(a.target.value),required:!0,disabled:k,className:"pr-10"}),(0,d.jsx)("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",tabIndex:-1,children:v?(0,d.jsx)(ab,{className:"w-4 h-4"}):(0,d.jsx)(ac.A,{className:"w-4 h-4"})})]}),r&&!z&&(0,d.jsx)(q.ry,{className:"text-destructive",children:"Passwords do not match"})]}),(0,d.jsx)(q.D0,{children:(0,d.jsx)(o.$,{type:"submit",className:"w-full",disabled:k||!y||!z,children:k?"Creating account...":"Create account"})}),(0,d.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:f,disabled:k,className:"self-start",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"Back"]})]})]})}var ag=c(47331),ah=c(67454);function ai(){let{currentStep:a,error:b}=n();return(0,d.jsx)("div",{className:"w-full",children:(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)(aj,{}),b&&(0,d.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 text-destructive text-sm text-center",children:b}),(0,d.jsx)(ag.N,{mode:"wait",children:(0,d.jsx)(ah.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:(()=>{switch(a){case"email":default:return(0,d.jsx)(s,{});case"otp":return(0,d.jsx)(J,{});case"name":return(0,d.jsx)(K,{});case"marketplace":return(0,d.jsx)(P,{});case"calendar":return(0,d.jsx)(U,{});case"invite":return(0,d.jsx)(Z,{});case"usecases":return(0,d.jsx)(_,{});case"password":return(0,d.jsx)(af,{})}})()},a)})]})})}function aj(){let{currentStep:a,data:b}=n(),c=["email","otp","name","marketplace","calendar","invite",..."PROVIDER"===b.accountType?["usecases"]:[],"password"],e=c.findIndex(b=>b===a),f=c.length;return(0,d.jsx)("div",{className:"mb-6 text-center",children:(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e+1,"/",f]})})}var ak=c(65843);function al(){return(0,d.jsx)(m,{children:(0,d.jsxs)("div",{className:"grid min-h-svh lg:grid-cols-2",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[(0,d.jsx)("div",{className:"flex justify-center gap-2 md:justify-start",children:(0,d.jsxs)(g(),{href:"/",className:"flex items-center gap-2 font-medium",children:[(0,d.jsx)("div",{className:"bg-primary text-primary-foreground flex size-6 items-center justify-center rounded-md",children:(0,d.jsx)(e.A,{className:"size-4"})}),"VX Media"]})}),(0,d.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,d.jsx)("div",{className:"w-full max-w-md",children:(0,d.jsx)(ai,{})})})]}),(0,d.jsx)("div",{className:"bg-muted relative hidden lg:block",children:(0,d.jsx)(ak.LoginMapView,{})})]})})}},74075:a=>{"use strict";a.exports=require("zlib")},76760:a=>{"use strict";a.exports=require("node:path")},77598:a=>{"use strict";a.exports=require("node:crypto")},78797:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/signup/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/signup/page.tsx","default")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},79646:a=>{"use strict";a.exports=require("child_process")},79951:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(21124),e=c(67454),f=c(15514);let g=({className:a,size:b=50,delay:c=0,duration:g=6,colorFrom:h="#ffaa40",colorTo:i="#9c40ff",transition:j,style:k,reverse:l=!1,initialOffset:m=0,borderWidth:n=1})=>(0,d.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-[inherit]",style:{border:`${n}px solid transparent`,maskImage:"linear-gradient(transparent, transparent), linear-gradient(#000, #000)",maskComposite:"intersect",WebkitMaskComposite:"source-in",maskClip:"padding-box, border-box"},children:(0,d.jsx)(e.P.div,{className:(0,f.cn)("absolute aspect-square","bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent",a),style:{width:b,offsetPath:`rect(0 auto auto 0 round ${b}px)`,"--color-from":h,"--color-to":i,...k},initial:{offsetDistance:`${m}%`},animate:{offsetDistance:l?[`${100-m}%`,`${-m}%`]:[`${m}%`,`${100+m}%`]},transition:{repeat:1/0,ease:"linear",duration:g,delay:-c,...j}})})},81630:a=>{"use strict";a.exports=require("http")},83997:a=>{"use strict";a.exports=require("tty")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},91168:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,78797)),"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/signup/page.tsx"]}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/duro/Documents/Confidential/VREM/vrem/apps/frontend/app/signup/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/signup/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},91292:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},91645:a=>{"use strict";a.exports=require("net")},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[5745,3236,3991,6355,517,7454,7848,9912,2443,5112],()=>b(b.s=91168));module.exports=c})();