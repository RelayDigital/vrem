"use strict";exports.id=5090,exports.ids=[5090],exports.modules={24091:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},78460:(a,b,c)=>{c.d(b,{A:()=>d});let d=(0,c(23339).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},85090:(a,b,c)=>{c.d(b,{I:()=>v});var d=c(21124),e=c(38301),f=c(17677),g=c(674),h=c(88285),i=c(86773),j=c(15982),k=c(11489),l=c(78460);let m=(0,c(23339).A)("door-open",[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]]);var n=c(24091),o=c(7629),p=c(28241),q=c(55224),r=c(19217),s=c(36736),t=c(92500),u=c(21017);function v({customers:a=[],onRowClick:b,isLoading:c=!1,onEdit:v,onDelete:w,deletingId:x,isDeleting:y=!1,selectedIds:z=[],onToggleSelect:A,onToggleSelectAll:B}){let[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)("name-asc"),[G,H]=(0,e.useState)(1),[I,J]=(0,e.useState)(10),K=(0,e.useMemo)(()=>{let b=[...a];if(C){let a=C.toLowerCase();b=b.filter(b=>{let c=b.name.toLowerCase(),d=(b.email||"").toLowerCase(),e=(b.notes||"").toLowerCase(),f=(b.phone||"").toLowerCase();return c.includes(a)||d.includes(a)||e.includes(a)||f.includes(a)})}return b.sort((a,b)=>{switch(E){case"name-asc":return a.name.localeCompare(b.name);case"name-desc":return b.name.localeCompare(a.name);case"notes-asc":return(a.notes||"").localeCompare(b.notes||"");case"notes-desc":return(b.notes||"").localeCompare(a.notes||"");case"jobs-asc":return(a.totalJobs||0)-(b.totalJobs||0);case"jobs-desc":return(b.totalJobs||0)-(a.totalJobs||0);default:return 0}}),b},[a,C,E]),L=Math.max(1,Math.ceil(K.length/I)),M=(G-1)*I,N=M+I,O=K.slice(M,N),P=O.length>0&&O.every(a=>z.includes(a.id));O.some(a=>z.includes(a.id));let Q=a=>{H(Math.min(Math.max(a,1),L))};return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("div",{className:"relative flex-1 min-w-0",children:[(0,d.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)(o.p,{type:"text",variant:"muted",placeholder:"Search by name, email, or brokerage...",value:C,onChange:a=>D(a.target.value),className:"pl-10"})]}),(0,d.jsxs)(p.l6,{value:E,onValueChange:F,children:[(0,d.jsxs)(p.bq,{variant:"muted",className:"w-10 md:w-[180px] shrink-0 [&>svg:last-child]:hidden md:[&>svg:last-child]:block",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 md:mr-2"}),(0,d.jsx)(p.yv,{placeholder:"Sort by",className:"hidden md:inline"})]}),(0,d.jsxs)(p.gC,{children:[(0,d.jsx)(p.eb,{value:"name-asc",children:"Name (A-Z)"}),(0,d.jsx)(p.eb,{value:"name-desc",children:"Name (Z-A)"}),(0,d.jsx)(p.eb,{value:"notes-asc",children:"Notes (A-Z)"}),(0,d.jsx)(p.eb,{value:"notes-desc",children:"Notes (Z-A)"}),(0,d.jsx)(p.eb,{value:"jobs-desc",children:"Jobs (Most)"}),(0,d.jsx)(p.eb,{value:"jobs-asc",children:"Jobs (Least)"})]})]})]}),K.length>0&&(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",K.length," of ",a.length," customers"]}),(0,d.jsxs)(f.XI,{children:[(0,d.jsx)(f.A0,{children:(0,d.jsxs)(f.Hj,{children:[(0,d.jsx)(f.nd,{className:"w-10",children:(0,d.jsx)(t.S,{"aria-label":"Select all",checked:P,onCheckedChange:a=>B?.(K.map(a=>a.id),!!a),disabled:0===K.length})}),(0,d.jsx)(f.nd,{children:"Customer"}),(0,d.jsx)(f.nd,{children:"Email"}),(0,d.jsx)(f.nd,{children:"Phone"}),(0,d.jsx)(f.nd,{children:"Jobs"}),(0,d.jsx)(f.nd,{children:"Last Job"}),(0,d.jsx)(f.nd,{children:"Created"}),(0,d.jsx)(f.nd,{className:"text-right",children:"Actions"})]})}),(0,d.jsx)(f.BF,{children:c?Array.from({length:5}).map((a,b)=>(0,d.jsxs)(f.Hj,{children:[(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-4"})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(g.eu,{className:"size-10 border-2 border-border",children:[(0,d.jsx)(g.BK,{}),(0,d.jsx)(g.q5,{className:"bg-muted"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(q.E,{className:"h-4 w-32"}),(0,d.jsx)(q.E,{className:"h-3 w-24"})]})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-32"})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-24"})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-12"})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-20"})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-24"})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(q.E,{className:"h-4 w-16 ml-auto"})})]},`customer-skeleton-${b}`)):0===K.length?(0,d.jsx)(f.Hj,{children:(0,d.jsx)(f.nA,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:"No customers found"})}):O.map(a=>(0,d.jsxs)(f.Hj,{className:b?"cursor-pointer hover:bg-muted/50":"",onClick:()=>b?.(a),children:[(0,d.jsx)(f.nA,{onClick:a=>a.stopPropagation(),children:(0,d.jsx)(t.S,{"aria-label":`Select ${a.name}`,checked:z.includes(a.id),onCheckedChange:b=>A?.(a.id,!!b)})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(g.eu,{className:"size-10 border-2 border-border",children:[(0,d.jsx)(g.BK,{src:a.avatar}),(0,d.jsx)(g.q5,{className:"bg-primary text-primary-foreground text-xs",children:a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.name}),a.lastJob&&(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Last job: ",new Date(a.lastJob).toLocaleDateString()]})]})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:a.email||"—"})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:a.phone||"—"})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(k.A,{className:"h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)("span",{children:a.totalJobs??0})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:a.lastJob?new Date(a.lastJob).toLocaleDateString():"—"})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)(s.m_,{children:[(0,d.jsx)(s.k$,{asChild:!0,children:(0,d.jsx)("span",{className:"text-sm text-muted-foreground cursor-default",children:(a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b.getTime())?"—":b.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})(a.createdAt)})}),(0,d.jsx)(s.ZI,{children:a.createdAt?new Date(a.createdAt).toISOString():"Unknown"})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(r.$,{variant:"ghost",size:"icon-sm",onClick:b=>{b.stopPropagation(),a.userId||v?.(a)},disabled:!!a.userId||!v,children:(0,d.jsx)(l.A,{className:"h-4 w-4"})}),(0,d.jsxs)(s.m_,{children:[(0,d.jsx)(s.k$,{asChild:!0,children:(0,d.jsx)(r.$,{variant:"ghost",size:"icon-sm",onClick:b=>{b.stopPropagation(),w?.(a)},disabled:!w||x===a.id||"bulk"===x||y,children:a.userId?(0,d.jsx)(m,{className:"h-4 w-4 text-destructive"}):(0,d.jsx)(n.A,{className:"h-4 w-4 text-destructive"})})}),(0,d.jsx)(s.ZI,{children:a.userId?"Remove from organization":"Delete customer"})]})]})})]},a.id))})]}),!c&&K.length>0&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",M+1,"-",Math.min(N,K.length)," of ",K.length]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(p.l6,{value:I.toString(),onValueChange:a=>{J(Number(a)),H(1)},children:[(0,d.jsx)(p.bq,{className:"w-[140px]",children:(0,d.jsx)(p.yv,{placeholder:"Per page"})}),(0,d.jsxs)(p.gC,{children:[(0,d.jsx)(p.eb,{value:"10",children:"10 per page"}),(0,d.jsx)(p.eb,{value:"25",children:"25 per page"}),(0,d.jsx)(p.eb,{value:"50",children:"50 per page"}),(0,d.jsx)(p.eb,{value:"100",children:"100 per page"})]})]}),L>1&&(0,d.jsx)(u.dK,{children:(0,d.jsxs)(u.Iu,{children:[(0,d.jsx)(u.cU,{children:(0,d.jsx)(u.Eb,{onClick:()=>Q(G-1),className:1===G?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{let a=[];if(L<=5)for(let b=1;b<=L;b++)a.push(b);else{a.push(1),G>3&&a.push("ellipsis");let b=Math.max(2,G-1),c=Math.min(L-1,G+1);for(let d=b;d<=c;d++)a.push(d);G<L-2&&a.push("ellipsis"),a.push(L)}return a})().map((a,b)=>(0,d.jsx)(u.cU,{children:"ellipsis"===a?(0,d.jsx)(u.M_,{}):(0,d.jsx)(u.n$,{onClick:()=>Q(a),isActive:G===a,className:"cursor-pointer",children:a})},`${a}-${b}`)),(0,d.jsx)(u.cU,{children:(0,d.jsx)(u.WA,{onClick:()=>Q(G+1),className:G===L?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]})}},92500:(a,b,c)=>{c.d(b,{S:()=>E});var d=c(21124),e=c(38301),f=c(92808),g=c(2332),h=c(87868),i=c(11720),j=c(10350),k=c(96386),l=c(29988),m=c(99978),n="Checkbox",[o,p]=(0,g.A)(n),[q,r]=o(n);function s(a){let{__scopeCheckbox:b,checked:c,children:f,defaultChecked:g,disabled:h,form:j,name:k,onCheckedChange:l,required:m,value:o="on",internal_do_not_use_render:p}=a,[r,s]=(0,i.i)({prop:c,defaultProp:g??!1,onChange:l,caller:n}),[t,u]=e.useState(null),[v,w]=e.useState(null),x=e.useRef(!1),y=!t||!!j||!!t.closest("form"),z={checked:r,disabled:h,setChecked:s,control:t,setControl:u,name:k,form:j,value:o,hasConsumerStoppedPropagationRef:x,required:m,defaultChecked:!A(g)&&g,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,d.jsx)(q,{scope:b,...z,children:"function"==typeof p?p(z):f})}var t="CheckboxTrigger",u=e.forwardRef(({__scopeCheckbox:a,onKeyDown:b,onClick:c,...g},i)=>{let{control:j,value:k,disabled:l,checked:n,required:o,setControl:p,setChecked:q,hasConsumerStoppedPropagationRef:s,isFormControl:u,bubbleInput:v}=r(t,a),w=(0,f.s)(i,p),x=e.useRef(n);return e.useEffect(()=>{let a=j?.form;if(a){let b=()=>q(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,q]),(0,d.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":A(n)?"mixed":n,"aria-required":o,"data-state":B(n),"data-disabled":l?"":void 0,disabled:l,value:k,...g,ref:w,onKeyDown:(0,h.mK)(b,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,h.mK)(c,a=>{q(a=>!!A(a)||!a),v&&u&&(s.current=a.isPropagationStopped(),s.current||a.stopPropagation())})})});u.displayName=t;var v=e.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,d.jsx)(s,{__scopeCheckbox:c,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{...m,ref:b,__scopeCheckbox:c}),a&&(0,d.jsx)(z,{__scopeCheckbox:c})]})})});v.displayName=n;var w="CheckboxIndicator",x=e.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:e,...f}=a,g=r(w,c);return(0,d.jsx)(l.C,{present:e||A(g.checked)||!0===g.checked,children:(0,d.jsx)(m.sG.span,{"data-state":B(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:b,style:{pointerEvents:"none",...a.style}})})});x.displayName=w;var y="CheckboxBubbleInput",z=e.forwardRef(({__scopeCheckbox:a,...b},c)=>{let{control:g,hasConsumerStoppedPropagationRef:h,checked:i,defaultChecked:l,required:n,disabled:o,name:p,value:q,form:s,bubbleInput:t,setBubbleInput:u}=r(y,a),v=(0,f.s)(c,u),w=(0,j.Z)(i),x=(0,k.X)(g);e.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!h.current;if(w!==i&&a){let c=new Event("click",{bubbles:b});t.indeterminate=A(i),a.call(t,!A(i)&&i),t.dispatchEvent(c)}},[t,w,i,h]);let z=e.useRef(!A(i)&&i);return(0,d.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??z.current,required:n,disabled:o,name:p,value:q,form:s,...b,tabIndex:-1,ref:v,style:{...b.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(a){return"indeterminate"===a}function B(a){return A(a)?"indeterminate":a?"checked":"unchecked"}z.displayName=y;var C=c(71613),D=c(15514);function E({className:a,...b}){return(0,d.jsx)(v,{"data-slot":"checkbox",className:(0,D.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,d.jsx)(x,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,d.jsx)(C.A,{className:"size-3.5"})})})}}};