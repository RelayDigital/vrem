"use strict";exports.id=1095,exports.ids=[1095],exports.modules={36326:(a,b,c)=>{c.d(b,{Y:()=>n});var d=c(21124),e=c(61010),f=c(19217),g=c(22544),h=c(70693),i=c(15303),j=c(10578),k=c(69957),l=c(78583),m=c(99042);function n({event:a,technician:b,technicianColor:c,children:n,onOpenJob:o,onAssignTechnician:p}){let q="Unscheduled"===a.type,r="External"===a.type;return(0,d.jsxs)(e.AM,{children:[(0,d.jsx)(e.Wv,{asChild:!0,children:n}),(0,d.jsx)(e.hl,{className:"w-80",align:"start",children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-semibold text-sm",children:a.title}),a.orderNumber&&(0,d.jsxs)(m.P,{className:"text-xs text-muted-foreground font-mono mt-1",children:["Order #",a.orderNumber]}),a.description&&(0,d.jsx)(m.P,{className:"text-xs text-muted-foreground mt-1",children:a.description})]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[!a.allDay&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,d.jsx)(i.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:(0,h.sH)(a.start,a.end,!0)})]}),b&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{children:b.name}),c&&(0,d.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c}})]}),a.territory&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,d.jsx)(k.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:a.territory})]}),r&&a.externalSource&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,d.jsx)(l.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:a.externalSource})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(g.E,{variant:"External"===a.type?"outline":"default",children:a.type}),a.hasConflict&&(0,d.jsx)(g.E,{variant:"destructive",children:"Conflict"})]}),!r&&(0,d.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[q&&p&&(0,d.jsx)(f.$,{size:"sm",variant:"outline",onClick:p,className:"flex-1",children:"Assign Technician"}),o&&(0,d.jsx)(f.$,{size:"sm",onClick:o,className:q&&p?"flex-1":"w-full",children:"Open Job"})]})]})})]})}},58207:(a,b,c)=>{c.d(b,{q:()=>d});function d(a){let b=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];return a.map((a,c)=>({technicianId:a.id,color:b[c%b.length]}))}},69545:(a,b,c)=>{c.d(b,{c:()=>s});var d=c(21124),e=c(38301),f=c(67442);function g({event:a,technicianColor:b,onClick:c,className:e}){let g=b||("External"===a.type?"#8b5cf6":"#6b7280");return(0,d.jsxs)("div",{onClick:c,className:(0,f.cn)("flex items-center gap-1.5 px-2 py-1 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity truncate",e),style:{backgroundColor:`${g}20`,color:g},children:[(0,d.jsx)("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:g}}),(0,d.jsx)("span",{className:"truncate",children:a.title})]})}var h=c(36326),i=c(23374),j=c(45861),k=c(26710),l=c(7019),m=c(33110),n=c(39383),o=c(89131),p=c(31115),q=c(70693),r=c(19217);function s({currentDate:a,events:b,technicians:c,technicianColors:s,onEventClick:t,onDayClick:u,compact:v=!1}){let w=(0,e.useMemo)(()=>(0,i.w)(a),[a]),x=(0,e.useMemo)(()=>(0,j.p)(a),[a]),y=(0,e.useMemo)(()=>(0,k.k)(w,{weekStartsOn:0}),[w]),z=(0,e.useMemo)(()=>(0,l.$)(x,{weekStartsOn:0}),[x]),A=(0,e.useMemo)(()=>(0,m.k)({start:y,end:z}),[y,z]);return(0,d.jsxs)("div",{className:(0,f.cn)("flex-1 flex flex-col",v?"h-auto":"h-full overflow-hidden"),children:[(0,d.jsx)("div",{className:(0,f.cn)("grid grid-cols-7 border-b bg-muted",v&&"text-xs"),children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>(0,d.jsx)("div",{className:(0,f.cn)("text-center font-semibold border-r last:border-r-0",v?"p-3 text-sm":"p-2 text-sm"),children:a},a))}),(0,d.jsx)("div",{className:(0,f.cn)("grid grid-cols-7",v?"":"flex-1 auto-rows-fr"),children:A.map((e,i)=>{let j=(0,q.Jm)(b,e).sort((a,b)=>new Date(a.start).getTime()-new Date(b.start).getTime()),k=j.slice(0,3),l=j.length-3,m=(0,n.t)(e,a),w=(0,o.r)(e,new Date),x=i%7==6;return(0,d.jsxs)("div",{className:(0,f.cn)("border-b flex flex-col",!x&&"border-r",!m&&"bg-muted/20",w&&"bg-muted/50 ring-1 ring-primary ring-inset",v?"p-1 min-h-[90px]":"p-2 min-h-[120px]"),children:[(0,d.jsx)(r.$,{variant:"ghost",size:"sm",className:(0,f.cn)("p-0 font-semibold mb-1 self-start",v?"h-5 w-5 text-xs":"h-6 w-6",w&&"bg-primary text-primary-foreground"),onClick:()=>u(e),children:(0,p.GP)(e,"d")}),(0,d.jsxs)("div",{className:(0,f.cn)("flex-1 space-y-0.5 overflow-hidden",v&&"space-y-0"),children:[k.map(a=>{let b=(a=>{if(a)return c.find(b=>b.id===a)})(a.technicianId),e=(a=>{if(a)return s.find(b=>b.technicianId===a)?.color})(a.technicianId);return"External"===a.type||"Unscheduled"===a.type?(0,d.jsx)(h.Y,{event:a,technician:b,technicianColor:e,onOpenJob:()=>a.jobId&&t(a),onAssignTechnician:()=>a.jobId&&t(a),children:(0,d.jsx)("div",{children:(0,d.jsx)(g,{event:a,technicianColor:e,onClick:()=>t(a),className:v?"text-[10px] px-1 py-0.5":void 0})})},a.id):(0,d.jsx)(g,{event:a,technicianColor:e,onClick:()=>t(a),className:v?"text-[10px] px-1 py-0.5":void 0},a.id)}),l>0&&(0,d.jsxs)(r.$,{variant:"ghost",size:"sm",className:(0,f.cn)("text-muted-foreground hover:text-foreground",v?"h-4 text-[10px]":"h-6 text-xs"),onClick:()=>u(e),children:["+",l," more"]})]})]},i)})})]})}},70693:(a,b,c)=>{c.d(b,{A1:()=>o,Jm:()=>m,Ve:()=>l,WA:()=>n,XE:()=>q,sH:()=>p});var d=c(31115),e=c(67542),f=c(96635),g=c(26710),h=c(7019),i=c(23374),j=c(45861);function k(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0"),e=String(a.getHours()).padStart(2,"0"),f=String(a.getMinutes()).padStart(2,"0"),g=String(a.getSeconds()).padStart(2,"0"),h=-a.getTimezoneOffset(),i=String(Math.floor(Math.abs(h)/60)).padStart(2,"0"),j=String(Math.abs(h)%60).padStart(2,"0");return`${b}-${c}-${d}T${e}:${f}:${g}${h>=0?"+":"-"}${i}:${j}`}function l(a){let[b,c,e]=(a.scheduledDate||(0,d.GP)(new Date,"yyyy-MM-dd")).split("-").map(Number);if(!a.scheduledTime){let d=new Date(b,c-1,e,0,0,0,0),f=new Date(b,c-1,e+1,0,0,0,0);return{id:a.id,title:a.propertyAddress||a.clientName,start:k(d),end:k(f),jobId:a.id,orderNumber:a.orderNumber,technicianId:a.assignedTechnicianId,type:"Unscheduled",allDay:!0,description:`${a.clientName} - ${a.propertyAddress}`}}let[f,g]=a.scheduledTime.split(":").map(Number),h=new Date(b,c-1,e,f||0,g||0,0,0),i=a.estimatedDuration||60,j=new Date(h.getTime()+60*i*1e3);return{id:a.id,title:a.propertyAddress||a.clientName,start:k(h),end:k(j),jobId:a.id,orderNumber:a.orderNumber,technicianId:a.assignedTechnicianId,type:"Scheduled",allDay:!1,description:`${a.clientName} - ${a.propertyAddress}`}}function m(a,b){let c=(0,e.o)(b),d=c.getFullYear(),g=c.getMonth(),h=c.getDate();return a.filter(a=>{let b=(0,f.H)(a.start),c=(0,f.H)(a.end),e=b.getFullYear(),i=b.getMonth(),j=b.getDate(),k=c.getFullYear(),l=c.getMonth(),m=c.getDate(),n=new Date(e,i,j),o=new Date(k,l,m),p=new Date(d,g,h);return e===d&&i===g&&j===h||k===d&&l===g&&m===h||n<=p&&o>=p})}function n(a){return{start:(0,g.k)(a,{weekStartsOn:0}),end:(0,h.$)(a,{weekStartsOn:0})}}function o(a){return{start:(0,i.w)(a),end:(0,j.p)(a)}}function p(a,b,c=!1){let e=(0,f.H)(a),g=(0,f.H)(b),h=`${(0,d.GP)(e,"h:mm a")} - ${(0,d.GP)(g,"h:mm a")}`;if(c){let a=new Date().toLocaleTimeString("en-US",{timeZoneName:"short"}).split(" ").pop()||"";return`${h} ${a}`}return h}function q(a){let b=new Map,c=[...a].sort((a,b)=>{let c=(0,f.H)(a.start).getTime()-(0,f.H)(b.start).getTime();return 0!==c?c:(0,f.H)(b.end).getTime()-(0,f.H)(a.end).getTime()}),d=[],e=[],g=0;return c.forEach(a=>{let b=(0,f.H)(a.start).getTime(),c=(0,f.H)(a.end).getTime();0===e.length?(e.push(a),g=c):b<g?(e.push(a),g=Math.max(g,c)):(d.push(e),e=[a],g=c)}),e.length>0&&d.push(e),d.forEach(a=>{let c=[];a.forEach(a=>{let b=!1;for(let d=0;d<c.length;d++){let e=c[d],g=e[e.length-1];if((0,f.H)(a.start).getTime()>=(0,f.H)(g.end).getTime()){e.push(a),b=!0;break}}b||c.push([a])});let d=100/c.length;c.forEach((a,c)=>{a.forEach(a=>{b.set(a.id,{left:c*d,width:d})})})}),b}}};