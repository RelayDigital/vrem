"use strict";exports.id=581,exports.ids=[581],exports.modules={70581:(a,b,c)=>{c.d(b,{I2:()=>R,ZJ:()=>A,_Q:()=>T}),c(48101);var d=c(21124),e=c(38301),f=c(17677),g=c(674),h=c(22544),i=c(88285),j=c(81925);let k=(0,c(23339).A)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var l=c(86773),m=c(69957),n=c(30733),o=c(11489),p=c(24091),q=c(15514),r=c(7629),s=c(28241),t=c(19217),u=c(36736),v=c(21017);function w({technicians:a,onRowClick:b,onRemove:c,onRoleChange:w,updatingRoleId:x,currentUserId:y,currentUserMemberId:z,currentUserRole:A}){let B=a||a||[],[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)("name-asc"),[G,H]=(0,e.useState)("all"),[I,J]=(0,e.useState)("all"),[K,L]=(0,e.useState)(1),[M,N]=(0,e.useState)(10),O=(A||"").toUpperCase(),P="PROJECT_MANAGER"===O||"EDITOR"===O,Q=(0,e.useMemo)(()=>{let a=[...B];if(C){let b=C.toLowerCase();a=a.filter(a=>{let c=a.name.toLowerCase(),d=a.email.toLowerCase(),e=(0,q.w)(a.homeLocation.address,!0).toLowerCase();return c.includes(b)||d.includes(b)||e.includes(b)})}return"all"!==G&&(a=a.filter(a=>a.status===G)),"all"!==I&&("company"===I?a=a.filter(a=>!a.isIndependent):"independent"===I&&(a=a.filter(a=>a.isIndependent))),a.sort((a,b)=>{switch(E){case"name-asc":return a.name.localeCompare(b.name);case"name-desc":return b.name.localeCompare(a.name);case"rating-asc":return a.rating.overall-b.rating.overall;case"rating-desc":return b.rating.overall-a.rating.overall;case"jobs-asc":return a.reliability.totalJobs-b.reliability.totalJobs;case"jobs-desc":return b.reliability.totalJobs-a.reliability.totalJobs;case"onTime-asc":return a.reliability.onTimeRate-b.reliability.onTimeRate;case"onTime-desc":return b.reliability.onTimeRate-a.reliability.onTimeRate;case"status-asc":return a.status.localeCompare(b.status);case"status-desc":return b.status.localeCompare(a.status);default:return 0}}),a},[B,C,E,G,I]),R=Math.max(1,Math.ceil(Q.length/M)),S=(K-1)*M,T=S+M,U=Q.slice(S,T),V=a=>{L(Math.min(Math.max(a,1),R))};return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsxs)("div",{className:"relative flex-1 min-w-0",children:[(0,d.jsx)(i.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)(r.p,{type:"text",variant:"muted",placeholder:"Search by name, email, or location...",value:C,onChange:a=>D(a.target.value),className:"pl-10"})]}),(0,d.jsxs)(s.l6,{value:G,onValueChange:H,children:[(0,d.jsxs)(s.bq,{variant:"muted",className:"w-10 md:w-[140px] shrink-0 [&>svg:last-child]:hidden md:[&>svg:last-child]:block",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 md:mr-2"}),(0,d.jsx)(s.yv,{placeholder:"Status",className:"hidden md:inline"})]}),(0,d.jsxs)(s.gC,{children:[(0,d.jsx)(s.eb,{value:"all",children:"All Status"}),(0,d.jsx)(s.eb,{value:"active",children:"Active"}),(0,d.jsx)(s.eb,{value:"inactive",children:"Inactive"})]})]}),(0,d.jsxs)(s.l6,{value:I,onValueChange:J,children:[(0,d.jsxs)(s.bq,{variant:"muted",className:"w-10 md:w-[140px] shrink-0 [&>svg:last-child]:hidden md:[&>svg:last-child]:block",children:[(0,d.jsx)(k,{className:"h-4 w-4 md:mr-2"}),(0,d.jsx)(s.yv,{placeholder:"Type",className:"hidden md:inline"})]}),(0,d.jsxs)(s.gC,{children:[(0,d.jsx)(s.eb,{value:"all",children:"All Types"}),(0,d.jsx)(s.eb,{value:"company",children:"Company"}),(0,d.jsx)(s.eb,{value:"independent",children:"Independent"})]})]}),(0,d.jsxs)(s.l6,{value:E,onValueChange:F,children:[(0,d.jsxs)(s.bq,{variant:"muted",className:"w-10 md:w-[180px] shrink-0 [&>svg:last-child]:hidden md:[&>svg:last-child]:block",children:[(0,d.jsx)(l.A,{className:"h-4 w-4 md:mr-2"}),(0,d.jsx)(s.yv,{placeholder:"Sort by",className:"hidden md:inline"})]}),(0,d.jsxs)(s.gC,{children:[(0,d.jsx)(s.eb,{value:"name-asc",children:"Name (A-Z)"}),(0,d.jsx)(s.eb,{value:"name-desc",children:"Name (Z-A)"}),(0,d.jsx)(s.eb,{value:"rating-desc",children:"Rating (High-Low)"}),(0,d.jsx)(s.eb,{value:"rating-asc",children:"Rating (Low-High)"}),(0,d.jsx)(s.eb,{value:"jobs-desc",children:"Jobs (Most)"}),(0,d.jsx)(s.eb,{value:"jobs-asc",children:"Jobs (Least)"}),(0,d.jsx)(s.eb,{value:"onTime-desc",children:"On-Time (High-Low)"}),(0,d.jsx)(s.eb,{value:"onTime-asc",children:"On-Time (Low-High)"}),(0,d.jsx)(s.eb,{value:"status-asc",children:"Status (A-Z)"}),(0,d.jsx)(s.eb,{value:"status-desc",children:"Status (Z-A)"})]})]})]}),Q.length>0&&(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",Q.length," of ",B.length," technicians"]}),(0,d.jsxs)(f.XI,{children:[(0,d.jsx)(f.A0,{children:(0,d.jsxs)(f.Hj,{children:[(0,d.jsx)(f.nd,{children:"Team Member"}),(0,d.jsx)(f.nd,{children:"Location"}),(0,d.jsx)(f.nd,{children:"Rating"}),(0,d.jsx)(f.nd,{children:"Jobs"}),(0,d.jsx)(f.nd,{children:"On-Time"}),(0,d.jsx)(f.nd,{children:"Status"}),(0,d.jsx)(f.nd,{children:"Joined"}),(0,d.jsx)(f.nd,{children:"Role"}),(0,d.jsx)(f.nd,{className:"text-right",children:"Actions"})]})}),(0,d.jsx)(f.BF,{children:0===Q.length?(0,d.jsx)(f.Hj,{children:(0,d.jsx)(f.nA,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:"No team members found"})}):U.map(a=>(0,d.jsxs)(f.Hj,{className:b?"cursor-pointer hover:bg-muted/50":"",onClick:()=>b?.(a),children:[(0,d.jsx)(f.nA,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(g.eu,{className:"size-10 border-2 border-border",children:[(0,d.jsx)(g.BK,{src:a.avatar}),(0,d.jsx)(g.q5,{className:"bg-primary text-primary-foreground text-xs",children:a.name.split(" ").map(a=>a[0]).join("")})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.name}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:a.email})]})]})}),(0,d.jsx)(f.nA,{children:a.role&&"TECHNICIAN"!==a.role?(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"N/A"}):(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,d.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:(0,q.w)(a.homeLocation.address,!0)})]})}),(0,d.jsx)(f.nA,{children:["OWNER","ADMIN"].includes(a.role||"")?(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"N/A"}):(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(n.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{children:a.rating.overall}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",a.rating.count,")"]})]})}),(0,d.jsx)(f.nA,{children:["OWNER","ADMIN"].includes(a.role||"")?(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"N/A"}):(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground/60"}),(0,d.jsx)("span",{children:a.reliability.totalJobs})]})}),(0,d.jsx)(f.nA,{children:["OWNER","ADMIN"].includes(a.role||"")?(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"N/A"}):(0,d.jsxs)(h.E,{variant:"outline",children:[(100*a.reliability.onTimeRate).toFixed(0),"%"]})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)(h.E,{variant:"active"===a.status?"default":"secondary",children:a.status})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)(u.m_,{children:[(0,d.jsx)(u.k$,{asChild:!0,children:(0,d.jsx)("span",{className:"text-sm text-muted-foreground cursor-default",children:(a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b.getTime())?"—":b.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})(a.createdAt)})}),(0,d.jsx)(u.ZI,{children:a.createdAt?new Date(a.createdAt).toISOString():"Unknown"})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsxs)(s.l6,{value:a.role||"TECHNICIAN",onValueChange:b=>{P||"OWNER"!==a.role&&w?.(a,b)},disabled:!w||x===a.id||!!y&&a.id===y||"OWNER"===a.role||P,children:[(0,d.jsx)(s.bq,{className:"w-[150px]",children:(0,d.jsx)(s.yv,{})}),(0,d.jsxs)(s.gC,{children:[(0,d.jsx)(s.eb,{value:"OWNER",children:"Owner"}),(0,d.jsx)(s.eb,{value:"ADMIN",children:"Admin"}),(0,d.jsx)(s.eb,{value:"TECHNICIAN",children:"Technician"}),(0,d.jsx)(s.eb,{value:"PROJECT_MANAGER",children:"Project Manager"}),(0,d.jsx)(s.eb,{value:"EDITOR",children:"Editor"})]})]})}),(0,d.jsx)(f.nA,{children:(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(t.$,{variant:"ghost",size:"icon-sm",onClick:b=>{b.stopPropagation(),P||c?.(a)},disabled:!c||P||y&&a.id===y||z&&a.memberId===z||"OWNER"===a.role||"ADMIN"===a.role&&"OWNER"!==A,children:(0,d.jsx)(p.A,{className:"h-4 w-4 text-destructive"})})})})]},a.id))})]}),Q.length?(0,d.jsxs)("div",{className:"flex items-center justify-between gap-4 mt-3",children:[(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",S+1,"-",Math.min(T,Q.length)," of ",Q.length]}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)(s.l6,{value:M.toString(),onValueChange:a=>{N(Number(a)),L(1)},children:[(0,d.jsx)(s.bq,{className:"w-[140px]",children:(0,d.jsx)(s.yv,{placeholder:"Per page"})}),(0,d.jsxs)(s.gC,{children:[(0,d.jsx)(s.eb,{value:"10",children:"10 per page"}),(0,d.jsx)(s.eb,{value:"25",children:"25 per page"}),(0,d.jsx)(s.eb,{value:"50",children:"50 per page"}),(0,d.jsx)(s.eb,{value:"100",children:"100 per page"})]})]}),R>1&&(0,d.jsx)(v.dK,{children:(0,d.jsxs)(v.Iu,{children:[(0,d.jsx)(v.cU,{children:(0,d.jsx)(v.Eb,{onClick:()=>V(K-1),className:1===K?"pointer-events-none opacity-50":"cursor-pointer"})}),(()=>{let a=[];if(R<=5)for(let b=1;b<=R;b++)a.push(b);else{a.push(1),K>3&&a.push("ellipsis");let b=Math.max(2,K-1),c=Math.min(R-1,K+1);for(let d=b;d<=c;d++)a.push(d);K<R-2&&a.push("ellipsis"),a.push(R)}return a})().map((a,b)=>(0,d.jsx)(v.cU,{children:"ellipsis"===a?(0,d.jsx)(v.M_,{}):(0,d.jsx)(v.n$,{onClick:()=>V(a),isActive:K===a,className:"cursor-pointer",children:a})},`${a}-${b}`)),(0,d.jsx)(v.cU,{children:(0,d.jsx)(v.WA,{onClick:()=>V(K+1),className:K===R?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]}):null]})}c(85090);var x=c(65893),y=c(67748),z=c(88716);function A({technicians:a,onRemove:b,onRoleChange:c,updatingRoleId:e,currentUserId:f,currentUserMemberId:g,currentUserRole:h}){let i=a.filter(a=>"active"===a.status&&"TECHNICIAN"===a.role),j=new Set(["TECHNICIAN","PROJECT_MANAGER","EDITOR"]),k=a.filter(a=>j.has(a.role)),l=k.length>0?k.reduce((a,b)=>a+b.rating.overall,0)/k.length:0,m=k.length>0?k.reduce((a,b)=>a+b.reliability.onTimeRate,0)/k.length:0;return(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsx)(z.CN,{icon:x.A,value:i.length,label:"Active Technicians",iconBgColor:"bg-accent",iconColor:"text-primary"}),(0,d.jsx)(z.CN,{icon:n.A,value:l.toFixed(1),label:"Average Rating",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600"}),(0,d.jsx)(z.CN,{icon:y.A,value:(100*m).toFixed(0),label:"Avg On-Time Rate",valueSuffix:"%",iconBgColor:"bg-emerald-100",iconColor:"text-emerald-600"}),(0,d.jsx)("div",{className:"@container md:col-span-3 mt-md",children:(0,d.jsx)("div",{className:"",children:(0,d.jsx)(w,{technicians:a,onRemove:b,onRoleChange:c,updatingRoleId:e,currentUserId:f,currentUserMemberId:g,currentUserRole:h})})})]})}var B=c(45119),C=c(88020),D=c(30429),E=c(69596),F=c(45334),G=c(23673),H=c(71117),I=c(67454),J=c(31196),K=c(70599),L=c(11227),M=c(85904),N=c(77254),O=c(8044),P=c(99042);let Q={score:{label:"Score"}};function R({technician:a,ranking:b,score:c,recommended:e,onAssign:f,onClick:i,showFullAddress:j=!1,allowOverride:k=!1}){let l=!b||100===b.availability,p=(0,q.w)(a.homeLocation.address,j),r=void 0!==c?[{name:"score",value:c,fill:c>=80?"hsl(142, 76%, 36%)":c>=60?"hsl(38, 92%, 50%)":"hsl(0, 84%, 60%)"}]:[];return(0,d.jsx)(I.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"h-full",children:(0,d.jsxs)(B.Zp,{className:`relative h-full flex flex-col overflow-hidden transition-all duration-200 hover:shadow-xl cursor-pointer border-2 gap-0 ${e?"border-green-500 shadow-lg shadow-green-100":"border-transparent hover:border-border"}`,onClick:i,children:[(0,d.jsx)(B.aR,{className:"pb-4 w-full",children:(0,d.jsxs)("div",{className:"relative flex items-start gap-4 w-full min-w-0 overflow-hidden",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)(g.eu,{className:"size-16",children:[(0,d.jsx)(g.BK,{src:a.avatar,alt:a.name}),(0,d.jsx)(g.q5,{className:"bg-primary text-primary-foreground",children:a.name.split(" ").map(a=>a[0]).join("")})]}),(0,d.jsx)("div",{className:`absolute bottom-0 right-0 size-4 rounded-full border-2 border-white ${l?"bg-emerald-500":"bg-gray-400"}`})]}),(0,d.jsx)("div",{className:"relative flex-1 min-w-0 overflow-hidden",children:(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2 min-w-0",children:[(0,d.jsxs)("div",{className:"relative flex flex-col min-w-0 flex-1 overflow-hidden",children:[(0,d.jsxs)(B.ZB,{className:"flex items-center gap-2 mb-1 min-w-0",children:[(0,d.jsx)("span",{className:"truncate min-w-0",children:a.name}),e&&(0,d.jsx)(E.A,{className:"h-4 w-4 text-emerald-600 shrink-0"})]}),!a.isIndependent&&a.companyName&&(0,d.jsxs)("div",{className:"flex items-center gap-1 mt-1.5",children:[(0,d.jsx)(F.A,{className:"h-3 w-3 text-primary"}),(0,d.jsx)("span",{className:"text-xs text-primary",children:a.companyName})]}),a.isIndependent&&(0,d.jsx)(h.E,{variant:"outline",className:"text-xs mt-1.5 h-5 w-fit",children:"Independent"}),b&&b.preferredRelationship>0&&(0,d.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,d.jsx)(G.A,{className:"h-3 w-3 fill-red-500 text-red-500"}),(0,d.jsx)("span",{className:"text-xs text-destructive",children:"Preferred Vendor"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground/80 min-w-0 w-full overflow-hidden",children:[(0,d.jsx)(m.A,{className:"h-3 w-3 shrink-0"}),j?(0,d.jsxs)(u.m_,{children:[(0,d.jsx)(u.k$,{asChild:!0,children:(0,d.jsx)("span",{className:"truncate block min-w-0",children:p})}),(0,d.jsx)(u.ZI,{side:"top",className:"max-w-xs",children:(0,d.jsx)(P.P,{className:"wrap-break-word",children:(0,q.w)(a.homeLocation.address,!0)})})]}):(0,d.jsx)("span",{className:"truncate block min-w-0",children:p})]})]}),void 0!==c&&(0,d.jsx)("div",{className:"flex flex-col items-end gap-1 shrink-0",children:(0,d.jsxs)(u.m_,{children:[(0,d.jsx)(u.k$,{asChild:!0,children:(0,d.jsx)("div",{children:(0,d.jsx)(D.at,{config:Q,className:"size-16 cursor-help",children:(0,d.jsxs)(J.D,{data:r,startAngle:90,endAngle:90-c/100*360,innerRadius:25,outerRadius:30,children:[(0,d.jsx)(K.z,{gridType:"circle",radialLines:!1,stroke:"none",className:"first:fill-muted last:fill-background",polarRadius:[24,30]}),(0,d.jsx)(L.ZB,{dataKey:"value",background:!0,cornerRadius:10,fill:r[0]?.fill}),(0,d.jsx)(M.E,{tick:!1,tickLine:!1,axisLine:!1,children:(0,d.jsx)(N.JU,{content:({viewBox:a})=>{if(a&&"cx"in a&&"cy"in a)return(0,d.jsx)("text",{x:a.cx,y:a.cy,textAnchor:"middle",dominantBaseline:"middle",children:(0,d.jsx)("tspan",{x:a.cx,y:a.cy,className:"fill-foreground text-lg font-semibold",children:c.toFixed(0)})})}})})]})})})}),(0,d.jsx)(u.ZI,{children:(0,d.jsx)(P.P,{className:"max-w-xs",children:"Overall match score calculated from availability, distance, skill match, and reliability. Higher scores indicate better fit for the job."})})]})})]})})]})}),(0,d.jsxs)(B.Wu,{className:"flex-1 flex flex-col space-y-4 justify-end",children:[b&&(0,d.jsxs)("div",{className:"space-y-2.5",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Distance"}),(0,d.jsxs)("span",{className:"text-foreground",children:[b.distanceKm.toFixed(1),"km"]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Reliability"}),(0,d.jsxs)("span",{className:"text-foreground",children:[(100*a.reliability.onTimeRate).toFixed(0),"%"]})]})]}),(0,d.jsxs)("div",{className:"space-y-1.5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,d.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Skill Match"}),(0,d.jsxs)(u.m_,{children:[(0,d.jsx)(u.k$,{asChild:!0,children:(0,d.jsx)(H.A,{className:"h-3 w-3 text-muted-foreground/60 hover:text-muted-foreground cursor-help"})}),(0,d.jsx)(u.ZI,{side:"top",className:"max-w-xs",children:(0,d.jsx)(P.P,{className:"text-xs",children:"Calculated by averaging the technician's skill ratings (1-5 scale) for each media type required by the job. The average is converted to a percentage (multiplied by 20)."})})]})]}),(0,d.jsxs)("span",{className:"text-foreground",children:[b.skillMatch.toFixed(0),"%"]})]}),(0,d.jsx)(C.k,{value:b.skillMatch,className:"h-1.5"})]})]}),(0,d.jsxs)("div",{className:"flex w-full",children:[(0,d.jsxs)("div",{className:"text-center py-2 border-r border-border flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,d.jsx)(n.A,{className:"h-3.5 w-3.5 fill-muted-foreground/60 text-muted-foreground/60"}),(0,d.jsx)("span",{className:"text-sm font-semibold text-foreground",children:a.rating.overall})]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:"Rating"})]}),(0,d.jsx)(O.w,{orientation:"vertical",className:"h-1/2 self-center"}),(0,d.jsxs)("div",{className:"text-center py-2 border-r border-border flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,d.jsx)(o.A,{className:"h-3.5 w-3.5 fill-muted-foreground/60 text-muted-foreground/60"}),(0,d.jsx)("span",{className:"text-sm font-semibold text-foreground",children:a.reliability.totalJobs})]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:"jobs"})]}),(0,d.jsx)(O.w,{orientation:"vertical",className:"h-1/2 self-center"}),(0,d.jsxs)("div",{className:"text-center py-2 flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,d.jsx)(y.A,{className:"h-3.5 w-3.5 fill-muted-foreground/60 text-muted-foreground/60"}),(0,d.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:[a.reliability.averageDeliveryTime,"h"]})]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:"avg delivery"})]})]})]}),(0,d.jsx)(B.wL,{className:"flex flex-col gap-3 p-6",children:f&&(0,d.jsxs)(u.m_,{children:[(0,d.jsx)(u.k$,{asChild:!0,children:(0,d.jsx)("span",{className:"w-full",children:(0,d.jsxs)(t.$,{onClick:a=>{a.stopPropagation(),f()},disabled:!l&&!k,className:`w-full ${e?"bg-emerald-600 ":"bg-primary "} shadow-md disabled:opacity-50 disabled:cursor-not-allowed`,children:[e&&(0,d.jsx)(E.A,{className:"h-4 w-4 mr-2"}),e?"Assign (Recommended)":"Assign Technician"]})})}),!l&&!k&&(0,d.jsx)(u.ZI,{children:(0,d.jsx)(P.P,{children:"This technician is not available for assignment"})})]})})]})})}var S=c(10578);function T({technicians:a,companies:b,onSelect:c,preferredVendors:f=[]}){let[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)("technician"),o="technician"===l?a.filter(a=>a.name.toLowerCase().includes(j.toLowerCase())):[],p="company"===l?b.filter(a=>"COMPANY"===a.type&&a.name.toLowerCase().includes(j.toLowerCase())):[];return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[(0,d.jsx)("button",{onClick:()=>m("technician"),className:`flex-1 px-4 py-2 rounded-lg text-sm transition-all ${"technician"===l?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(S.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Search Technicians"})]})}),(0,d.jsx)("button",{onClick:()=>m("company"),className:`flex-1 px-4 py-2 rounded-lg text-sm transition-all ${"company"===l?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(F.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Search Companies"})]})})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(i.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground/60"}),(0,d.jsx)(r.p,{value:j,onChange:a=>k(a.target.value),placeholder:"technician"===l?"Search technicians by name...":"Search media companies...",className:"pl-12 h-12"})]}),(0,d.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:["technician"===l&&o.map(a=>{let b=f.includes(a.companyId||a.id);return(0,d.jsx)(I.P.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>c(a.id),className:"w-full p-4 border-2 border-border rounded-xl hover:border-indigo-300 transition-all text-left",children:(0,d.jsxs)("div",{className:"flex items-start gap-4",children:[(0,d.jsxs)(g.eu,{className:"size-14 border-2 border-white shadow-md",children:[(0,d.jsx)(g.BK,{src:a.avatar}),(0,d.jsx)(g.q5,{className:"bg-primary text-primary-foreground",children:a.name.split(" ").map(a=>a[0]).join("")})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("h4",{className:"text-sm truncate",children:a.name}),b&&(0,d.jsx)(G.A,{className:"h-4 w-4 fill-red-500 text-red-500 flex-shrink-0"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[(0,d.jsx)(n.A,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{children:a.rating.overall}),(0,d.jsx)("span",{className:"text-muted-foreground/60",children:"•"}),a.isIndependent?(0,d.jsx)(h.E,{variant:"outline",className:"text-xs h-5",children:"Independent"}):(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(F.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:a.companyName})]})]}),a.bio&&(0,d.jsx)(P.P,{className:"text-xs text-muted-foreground/80 line-clamp-2",children:a.bio})]})]})},a.id)}),"company"===l&&p.map(b=>{let e=f.includes(b.id),i=a.filter(a=>a.companyId===b.id);return(0,d.jsxs)(I.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border-2 border-border rounded-xl",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,d.jsxs)(g.eu,{className:"size-14 border-2 border-white shadow-md",children:[(0,d.jsx)(g.BK,{src:b.avatar}),(0,d.jsx)(g.q5,{children:b.name.split(" ").map(a=>a[0]).join("")})]}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("h4",{className:"text-sm",children:b.name}),e&&(0,d.jsxs)(h.E,{className:"bg-gradient-to-r from-red-500 to-pink-500 text-xs h-5",children:[(0,d.jsx)(G.A,{className:"h-3 w-3 mr-1"}),"Preferred"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[b.rating&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{children:b.rating}),(0,d.jsx)("span",{className:"text-muted-foreground/60",children:"•"})]}),(0,d.jsxs)("span",{children:[b.technicianCount," technicians"]})]}),(0,d.jsx)(P.P,{className:"text-xs text-muted-foreground/80",children:b.description})]})]}),(0,d.jsxs)("div",{className:"space-y-2 pl-4 border-l-2 border-border",children:[(0,d.jsx)("div",{className:"text-xs text-muted-foreground/80 mb-2",children:"Available technicians:"}),i.slice(0,3).map(a=>(0,d.jsxs)("button",{onClick:()=>c(a.id),className:"w-full flex items-center gap-3 p-2 hover:bg-accent rounded-lg transition-colors text-left",children:[(0,d.jsxs)(g.eu,{className:"h-8 w-8",children:[(0,d.jsx)(g.BK,{src:a.avatar}),(0,d.jsx)(g.q5,{className:"text-xs",children:a.name.split(" ").map(a=>a[0]).join("")})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"text-xs text-foreground truncate",children:a.name}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground/80",children:[(0,d.jsx)(n.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{children:a.rating.overall})]})]})]},a.id))]})]},b.id)}),j&&("technician"===l&&0===o.length||"company"===l&&0===p.length)&&(0,d.jsxs)("div",{className:"text-center py-8 text-muted-foreground/80",children:[(0,d.jsx)(i.A,{className:"size-12 mx-auto mb-2 text-muted-foreground/40"}),(0,d.jsx)(P.P,{className:"text-sm",children:"No results found"})]}),!j&&(0,d.jsxs)("div",{className:"text-center py-8 text-muted-foreground/80",children:[(0,d.jsx)(i.A,{className:"size-12 mx-auto mb-2 text-muted-foreground/40"}),(0,d.jsx)(P.P,{className:"text-sm",children:"technician"===l?"Search for a specific technician":"Search for a media company"})]})]})]})}}};