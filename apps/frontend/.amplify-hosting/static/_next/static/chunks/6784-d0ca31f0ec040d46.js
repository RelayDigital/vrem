"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6784],{36838:(e,t,r)=>{r.d(t,{y:()=>i});var a=r(95155),n=r(35299),s=r(25016);function i(e){let{className:t,...r}=e;return(0,a.jsx)(n.A,{role:"status","aria-label":"Loading",className:(0,s.cn)("size-4 animate-spin",t),...r})}},51089:(e,t,r)=>{r.d(t,{II:()=>m,Nt:()=>x,at:()=>u});var a=r(95155),n=r(12115),s=r(26265),i=r(33420),l=r(37665),o=r(64936);let d={light:"",dark:".dark"},c=n.createContext(null);function u(e){let{id:t,className:r,children:i,config:l,...d}=e,u=n.useId(),m="chart-".concat(t||u.replace(/:/g,""));return(0,a.jsx)(c.Provider,{value:{config:l},children:(0,a.jsxs)("div",{"data-slot":"chart","data-chart":m,className:(0,o.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",r),...d,children:[(0,a.jsx)(p,{id:m,config:l}),(0,a.jsx)(s.u,{children:i})]})})}let p=e=>{let{id:t,config:r}=e,n=Object.entries(r).filter(e=>{let[,t]=e;return t.theme||t.color});return n.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(e=>{let[r,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(n.map(e=>{var t;let[a,n]=e,s=(null==(t=n.theme)?void 0:t[r])||n.color;return s?"  --color-".concat(a,": ").concat(s,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},m=i.m;function x(e){let{active:t,payload:r,className:s,indicator:i="dot",hideLabel:l=!1,hideIndicator:d=!1,label:u,labelFormatter:p,labelClassName:m,formatter:x,color:g,nameKey:f,labelKey:v}=e,{config:b}=function(){let e=n.useContext(c);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),y=n.useMemo(()=>{var e;if(l||!(null==r?void 0:r.length))return null;let[t]=r,n="".concat(v||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),s=h(b,t,n),i=v||"string"!=typeof u?null==s?void 0:s.label:(null==(e=b[u])?void 0:e.label)||u;return p?(0,a.jsx)("div",{className:(0,o.cn)("font-medium",m),children:p(i,r)}):i?(0,a.jsx)("div",{className:(0,o.cn)("font-medium",m),children:i}):null},[u,p,r,l,m,b,v]);if(!t||!(null==r?void 0:r.length))return null;let w=1===r.length&&"dot"!==i;return(0,a.jsxs)("div",{className:(0,o.cn)("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",s),children:[w?null:y,(0,a.jsx)("div",{className:"grid gap-1.5",children:r.map((e,t)=>{let r="".concat(f||e.name||e.dataKey||"value"),n=h(b,e,r),s=g||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,o.cn)("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===i&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==n?void 0:n.icon)?(0,a.jsx)(n.icon,{}):!d&&(0,a.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":w&&"dashed"===i}),style:{"--color-bg":s,"--color-border":s}}),(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[w?y:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==n?void 0:n.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function h(e,t,r){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,n=r;return r in t&&"string"==typeof t[r]?n=t[r]:a&&r in a&&"string"==typeof a[r]&&(n=a[r]),n in e?e[n]:e[r]}l.s},55850:(e,t,r)=>{r.d(t,{k:()=>l});var a=r(95155),n=r(12115),s=r(77450),i=r(25016);let l=n.forwardRef((e,t)=>{let{className:r,value:n,indicatorClassName:l,...o}=e;return(0,a.jsx)(s.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...o,children:(0,a.jsx)(s.C1,{className:(0,i.cn)("h-full w-full flex-1 bg-primary transition-all",l),style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});l.displayName=s.bL.displayName},84993:(e,t,r)=>{r.d(t,{Bx:()=>g,Cn:()=>y,Cp:()=>L,FX:()=>N,Fg:()=>C,GB:()=>h,Uj:()=>A,Yv:()=>b,cL:()=>x,q9:()=>z,rQ:()=>w,sF:()=>v,wZ:()=>j,x2:()=>f});var a=r(95155),n=r(12115),s=r(32467),i=r(83101),l=r(77931),o=r(30275),d=r(64936),c=r(97003);r(33789),r(54664);var u=r(31856);r(68122);var p=r(82180);let m=n.createContext(null);function x(){let e=n.useContext(m);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function h(e){let{defaultOpen:t=!0,open:r,onOpenChange:s,className:i,style:l,children:c,...u}=e,x=(0,o.a)(),[h,g]=n.useState(!1),[f,v]=n.useState(t),b=null!=r?r:f,y=n.useCallback(e=>{let t="function"==typeof e?e(b):e;s?s(t):v(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[s,b]),w=n.useCallback(()=>x?g(e=>!e):y(e=>!e),[x,y,g]);n.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),w())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[w]);let j=b?"expanded":"collapsed",N=n.useMemo(()=>({state:j,open:b,setOpen:y,isMobile:x,openMobile:h,setOpenMobile:g,toggleSidebar:w}),[j,b,y,x,h,g,w]);return(0,a.jsx)(m.Provider,{value:N,children:(0,a.jsx)(p.Bc,{delayDuration:0,children:(0,a.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3.438rem",...l},className:(0,d.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...u,children:c})})})}function g(e){let{side:t="left",variant:r="sidebar",collapsible:n="offcanvas",className:s,children:i,...l}=e,{isMobile:o,state:c,openMobile:p,setOpenMobile:m}=x();return"none"===n?(0,a.jsx)("div",{"data-slot":"sidebar",className:(0,d.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...l,children:i}):o?(0,a.jsx)(u.cj,{open:p,onOpenChange:m,...l,children:(0,a.jsxs)(u.h,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,a.jsxs)(u.Fm,{className:"sr-only",children:[(0,a.jsx)(u.qp,{children:"Sidebar"}),(0,a.jsx)(u.Qs,{children:"Displays the mobile sidebar."})]}),(0,a.jsx)("div",{className:"flex size-full flex-col",children:i})]})}):(0,a.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":"collapsed"===c?n:"","data-variant":r,"data-side":t,"data-slot":"sidebar",children:[(0,a.jsx)("div",{"data-slot":"sidebar-gap",className:(0,d.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===r||"inset"===r?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,a.jsx)("div",{"data-slot":"sidebar-container",className:(0,d.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===r||"inset"===r?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...l,children:(0,a.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex size-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function f(e){let{className:t,onClick:r,...n}=e,{toggleSidebar:s}=x();return(0,a.jsxs)(c.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,d.cn)("size-7",t),onClick:e=>{null==r||r(e),s()},...n,children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function v(e){let{className:t,...r}=e;return(0,a.jsx)("main",{"data-slot":"sidebar-inset",className:(0,d.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...r})}function b(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,d.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r})}function y(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,d.cn)("relative flex w-full min-w-0 flex-col p-2",t),...r})}function w(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,d.cn)("w-full text-sm",t),...r})}function j(e){let{className:t,...r}=e;return(0,a.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,d.cn)("flex w-full min-w-0 flex-col gap-1",t),...r})}function N(e){let{className:t,...r}=e;return(0,a.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,d.cn)("group/menu-item relative",t),...r})}let k=(0,i.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent/50 data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 cursor-pointer",{variants:{variant:{default:"hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function A(e){let{asChild:t=!1,isActive:r=!1,variant:n="default",size:i="default",tooltip:l,className:o,...c}=e,u=t?s.DX:"button",{isMobile:m,state:h}=x(),g=(0,a.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":r,className:(0,d.cn)(k({variant:n,size:i}),o),...c});return l?("string"==typeof l&&(l={children:l}),(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:g}),(0,a.jsx)(p.ZI,{side:"right",align:"center",hidden:"collapsed"!==h||m,...l})]})):g}function z(e){let{className:t,...r}=e;return(0,a.jsx)("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:(0,d.cn)("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-1","group-data-[collapsible=icon]:hidden",t),...r})}function C(e){let{className:t,...r}=e;return(0,a.jsx)("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:(0,d.cn)("group/menu-sub-item relative",t),...r})}function L(e){let{asChild:t=!1,size:r="md",isActive:n=!1,className:i,...l}=e,o=t?s.DX:"a";return(0,a.jsx)(o,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":r,"data-active":n,className:(0,d.cn)("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===r&&"text-xs","md"===r&&"text-sm","group-data-[collapsible=icon]:hidden",i),...l})}},86784:(e,t,r)=>{r.d(t,{n:()=>eo});var a=r(95155),n=r(12115),s=r(26497),i=r(81130),l=r(30275),o=r(87856),d=r.n(o);r(33383);var c=r(65993),u=r(20508),p=r(6132),m=r(73344),x=r(83209),h=r(36838),g=r(25016),f=r(84993),v=r(5379);function b(e){let t,{jobs:r,technicians:s,selectedJob:i,selectedTechnician:l,disablePopovers:o=!1}=e,x=s||[],b=l||null,y=(0,n.useRef)(null),w=(0,n.useRef)(null),j=(0,n.useRef)([]),N=(0,n.useRef)([]),k=(0,n.useRef)(new Map),A=(0,n.useRef)(new Map),z=(0,n.useRef)(new Map),C=(0,n.useRef)(null),L=(0,n.useRef)(null),[E,S]=(0,n.useState)(!1),[M,T]=(0,n.useState)(null),_=(0,n.useRef)(null),{resolvedTheme:I}=(0,v.D)();try{t=(0,f.cL)().state}catch(e){}(0,n.useEffect)(()=>{let e=document.createElement("style");return e.textContent="\n      .mapboxgl-ctrl-logo {\n        display: none !important;\n      }\n      .mapboxgl-ctrl-attrib {\n        display: none !important;\n      }\n      \n      /* Override Mapbox popup styles for theme support */\n      .mapboxgl-popup-content {\n        background-color: var(--popover) !important;\n        color: var(--popover-foreground) !important;\n        border: 1px solid var(--border);\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;\n        padding: 0 !important; /* Remove default padding to let our content control it */\n        max-width: none !important; /* Allow our custom width */\n      }\n      \n      .mapboxgl-popup {\n        max-width: none !important; /* Allow wider popups */\n      }\n      \n      .mapboxgl-popup-tip {\n        border-top-color: var(--border) !important;\n        border-bottom-color: var(--border) !important;\n      }\n      \n      /* Adjust tip color based on position (Mapbox adds classes like mapboxgl-popup-anchor-bottom) */\n      .mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\n        border-top-color: var(--popover) !important;\n      }\n      .mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\n        border-bottom-color: var(--popover) !important;\n      }\n      .mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n        border-right-color: var(--popover) !important;\n      }\n      .mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n        border-left-color: var(--popover) !important;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),(0,n.useEffect)(()=>{if(!y.current||w.current)return;let e="pk.eyJ1IjoiZHVyb2RwIiwiYSI6ImNtaHplcW53cDA4dHQycnB6dnhqeGtveXgifQ.6GR-s3V7vfGRsoVlhSTFhg";if(!e){T("Mapbox token not configured"),console.warn("Please add NEXT_PUBLIC_MAPBOX_TOKEN to your .env.local file");return}let t=y.current,r=0,a=()=>{if(0===t.offsetWidth||0===t.offsetHeight){if(!(++r>=50))return void requestAnimationFrame(a);console.error("Map container never got dimensions, initializing anyway")}d().accessToken=e;try{let e=new(d()).Map({container:t,style:"mapbox://styles/mapbox/streets-v12",attributionControl:!1});e.on("load",()=>{console.log("Mapbox map loaded successfully"),S(!0),T(null),setTimeout(()=>{if(w.current&&w.current===e)try{e.resize()}catch(e){console.warn("Error resizing map:",e)}},100)}),e.on("error",e=>{var t;console.error("Mapbox error:",e);let r=(null==(t=e.error)?void 0:t.message)||e.message||"Unknown error";T("Failed to load map: ".concat(r)),S(!1)}),e.on("style.load",()=>{console.log("Mapbox style loaded"),S(e=>!e||e),T(null),setTimeout(()=>{if(w.current&&w.current===e)try{e.resize()}catch(e){console.warn("Error resizing map:",e)}},100)}),w.current=e}catch(e){console.error("Error creating Mapbox map:",e),T("Failed to initialize map: ".concat(e.message||"Unknown error"))}};return a(),()=>{w.current&&(w.current.remove(),w.current=null)}},[]),(0,n.useEffect)(()=>{if(w.current){S(!1);try{w.current.setStyle("dark"===I?"mapbox://styles/mapbox/dark-v11":"mapbox://styles/mapbox/streets-v12")}catch(e){console.error("Error setting map style:",e),S(!0)}}},[I]),(0,n.useEffect)(()=>{if(!w.current||!E||!y.current)return;let e=()=>{w.current&&w.current.resize()},t=setTimeout(()=>{e()},250),r=new ResizeObserver(()=>{e()});return r.observe(y.current),window.addEventListener("resize",e),()=>{clearTimeout(t),r.disconnect(),window.removeEventListener("resize",e)}},[t,E]);let R=e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),P=e=>{let t=e.replace("_","-");return({pending:R("--status-pending")||"#ef4444",assigned:R("--status-assigned")||"#3b82f6","in-progress":R("--status-in-progress")||"#3b82f6",in_progress:R("--status-in-progress")||"#3b82f6",editing:R("--status-editing")||"#f59e0b",delivered:R("--status-delivered")||"#22c55e",cancelled:R("--status-cancelled")||"#9ca3af"})[e]||R("--status-".concat(t))||R("--status-cancelled")||"#9ca3af"},F=()=>R("--foreground")||"#1f2937",O=()=>R("--muted-foreground")||"#6b7280",D=()=>R("--muted")||"#f3f4f6",B=(e,t)=>{if(!e)return"";if(e.startsWith("oklch("))return e.replace(/\)$/," / ".concat(t,")"));if(e.startsWith("#")){let r=parseInt(e.slice(1,3),16),a=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return"rgba(".concat(r,", ").concat(a,", ").concat(n,", ").concat(t,")")}return"color-mix(in srgb, ".concat(e," ").concat(100*t,"%, transparent)")},H=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,a=document.createElement("div");a.style.width="".concat(r,"px"),a.style.height="".concat(r,"px"),a.style.borderRadius="50%",a.style.backgroundColor=t,a.style.border="2.5px solid white",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)",a.style.cursor="pointer";let n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("width","".concat(.5*r)),n.setAttribute("height","".concat(.5*r)),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("fill","none"),n.setAttribute("stroke","white"),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-linejoin","round"),e===c.A){let e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d","m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"),e.setAttribute("fill","white"),e.setAttribute("fill-opacity","0.9"),n.appendChild(e);let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M9 22V12h6v10"),n.appendChild(t)}else if(e===u.A){let e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"),n.appendChild(e);let t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx","12"),t.setAttribute("cy","7"),t.setAttribute("r","4"),n.appendChild(t)}return a.appendChild(n),a},W=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:36,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white",n=document.createElement("div");if(n.style.width="".concat(r,"px"),n.style.height="".concat(r,"px"),n.style.borderRadius="50%",n.style.border="2.5px solid ".concat(a),n.style.boxShadow="0 2px 6px rgba(0,0,0,0.25)",n.style.cursor="pointer",n.style.overflow="hidden",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",e){let a=document.createElement("img");a.src=e,a.alt=t,a.style.width="100%",a.style.height="100%",a.style.objectFit="cover",a.onerror=()=>{a.remove();let e=t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);n.style.backgroundColor=R("--muted-foreground")||"#6b7280",n.style.color="white",n.style.fontSize="".concat(.4*r,"px"),n.style.fontWeight="600",n.textContent=e},n.appendChild(a)}else{let e=t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);n.style.backgroundColor=R("--muted-foreground")||"#6b7280",n.style.color="white",n.style.fontSize="".concat(.4*r,"px"),n.style.fontWeight="600",n.textContent=e}return n};return((0,n.useEffect)(()=>{if(!w.current||!E)return;let e=w.current;j.current.forEach(e=>e.remove()),N.current.forEach(e=>e.remove()),j.current=[],N.current=[],k.current.clear(),A.current.clear(),z.current.clear();let t=new(d()).LngLatBounds,a=r.filter(e=>"pending"===e.status),n=r.filter(e=>"assigned"===e.status||"in_progress"===e.status),s=r.filter(e=>!["pending","assigned","in_progress"].includes(e.status)),l=(e,t,r,a)=>{var n;let s=(n=e.priority,({urgent:R("--priority-urgent")||"#ef4444",rush:R("--priority-rush")||"#f59e0b",standard:R("--priority-standard")||"#6b7280"})[n]||R("--priority-standard")||"#6b7280"),i=R("--priority-".concat(e.priority)),l={urgent:i?B(i,.2):"#fee2e2",rush:i?B(i,.2):"#fef3c7",standard:D()}[e.priority]||D(),o=!!(e.propertyImage&&""!==e.propertyImage.trim()&&"delivered"===e.status);return'\n        <div style="display: flex; align-items: stretch; min-width: 280px; max-width: 340px; border-radius: 8px; overflow: hidden;">\n          '.concat(o?"\n            <div style=\"width: 80px; min-width: 80px; background-image: url('".concat(e.propertyImage,"'); background-size: cover; background-position: center;\"></div>\n          "):"",'\n          <div style="padding: 10px; flex: 1; display: flex; flex-direction: column; justify-content: center;">\n            <div style="font-size: 13px; font-weight: 600; color: ').concat(F(),'; margin-bottom: 5px; line-height: 1.2;">\n              ').concat(e.propertyAddress,'\n            </div>\n            <div style="display: flex; gap: 4px; flex-wrap: wrap; margin-bottom: 6px;">\n              <span style="padding: 1px 5px; background: ').concat(r,"; color: ").concat(a,'; border-radius: 3px; font-size: 9px; font-weight: 500;">\n                ').concat(t,'\n              </span>\n              <span style="padding: 1px 5px; background: ').concat(l,"; color: ").concat(s,'; border-radius: 3px; font-size: 9px; font-weight: 500; text-transform: capitalize;">\n                ').concat(e.priority,'\n              </span>\n            </div>\n            <div style="font-size: 10px; color: ').concat(O(),'; margin-bottom: 3px;">\n              <span style="font-weight: 500;">Customer:</span> ').concat(e.clientName,'\n            </div>\n            <div style="font-size: 10px; color: ').concat(O(),'; margin-bottom: 6px;">\n              <span style="font-weight: 500;">Schedule:</span> ').concat(e.scheduledDate," • ").concat(e.scheduledTime,'\n            </div>\n            <div style="display: flex; gap: 3px; flex-wrap: wrap;">\n              ').concat(e.mediaType.slice(0,3).map(e=>'\n                <span style="padding: 1px 5px; background: '.concat(D(),"; border-radius: 3px; font-size: 9px; color: ").concat(F(),'; text-transform: capitalize;">\n                  ').concat(e,"\n                </span>\n              ")).join(""),"\n              ").concat(e.mediaType.length>3?'\n                <span style="padding: 1px 5px; background: '.concat(D(),"; border-radius: 3px; font-size: 9px; color: ").concat(F(),';">\n                  +').concat(e.mediaType.length-3,"\n                </span>\n              "):"","\n            </div>\n            ").concat(e.estimatedDuration?'\n              <div style="font-size: 9px; color: '.concat(O(),"; margin-top: 5px; padding-top: 5px; border-top: 1px solid ").concat(R("--border")||"#e5e7eb",';">\n                Duration: ').concat(e.estimatedDuration," min\n              </div>\n            "):"","\n          </div>\n        </div>\n      ")};if(a.forEach(r=>{let a=[r.location.lng,r.location.lat];t.extend(a);let n=P("pending"),s=R("--status-pending"),u=s?B(s,.2):"#fee2e2",p=R("--status-pending-foreground")||F(),m=H(c.A,n,32);(null==i?void 0:i.id)===r.id&&(m.style.animation="bounce 0.6s ease-in-out",setTimeout(()=>{m.style.animation=""},2e3));let x=new(d()).Marker({element:m}).setLngLat(a).addTo(e),h=new(d()).Popup({offset:25,closeButton:!1,closeOnClick:!0}).setLngLat(a).setHTML(l(r,"Pending",u,p)).setMaxWidth("280px");o||x.getElement().addEventListener("click",t=>{t.stopPropagation(),_.current===h?(h.remove(),_.current=null):(_.current&&_.current.remove(),h.addTo(e),_.current=h)}),j.current.push(x),N.current.push(h),A.current.set(r.id,x),z.current.set(r.id,h)}),n.forEach(r=>{let a=[r.location.lng,r.location.lat];t.extend(a);let n=P("assigned"===r.status?"assigned":"in_progress"),s=H(c.A,n,32);(null==i?void 0:i.id)===r.id&&(s.style.animation="bounce 0.6s ease-in-out",setTimeout(()=>{s.style.animation=""},2e3));let u=r.assignedTechnicianId||r.assignedTechnicianId,p=u?x.find(e=>e.id===u):void 0,m="in_progress"===r.status?"In Progress":"Assigned",h="assigned"===r.status?"assigned":"in-progress",g=R("--status-".concat(h)),f=l(r,m,g?B(g,.2):"#dbeafe",n||F()),v=p?f.replace('<div style="font-size: 13px; color: '.concat(O(),'; margin-bottom: 8px;">'),'<div style="font-size: 13px; color: '.concat(O(),'; margin-bottom: 8px;">\n              <strong>Technician:</strong> ').concat(p.name,'\n            </div>\n            <div style="font-size: 13px; color: ').concat(O(),'; margin-bottom: 8px;">')):f,b=new(d()).Marker({element:s}).setLngLat(a).addTo(e),y=new(d()).Popup({offset:25,closeButton:!1,closeOnClick:!0}).setLngLat(a).setHTML(v).setMaxWidth("280px");o||b.getElement().addEventListener("click",t=>{t.stopPropagation(),_.current===y?(y.remove(),_.current=null):(_.current&&_.current.remove(),y.addTo(e),_.current=y)}),j.current.push(b),N.current.push(y),A.current.set(r.id,b),z.current.set(r.id,y)}),s.forEach(r=>{let a=[r.location.lng,r.location.lat];t.extend(a);let n=P(r.status),s=H(c.A,n,32),i=(e=>{P(e);let t=e.replace("_","-"),r=R("--status-".concat(t));return{bg:r?B(r,.2):D(),color:R("--status-".concat(t,"-foreground"))||F()}})(r.status)||{bg:D(),color:F()},u=new(d()).Marker({element:s}).setLngLat(a).addTo(e),p=new(d()).Popup({offset:25,closeButton:!1,closeOnClick:!0}).setLngLat(a).setHTML(l(r,r.status,i.bg,i.color)).setMaxWidth("280px");o||u.getElement().addEventListener("click",t=>{t.stopPropagation(),_.current===p?(p.remove(),_.current=null):(_.current&&_.current.remove(),p.addTo(e),_.current=p)}),j.current.push(u),N.current.push(p),A.current.set(r.id,u),z.current.set(r.id,p)}),x.forEach(r=>{var a;let n=[r.homeLocation.lng,r.homeLocation.lat];t.extend(n);let s=new Date().toISOString().split("T")[0],i=(null==(a=r.availability.find(e=>e.date===s))?void 0:a.available)||!1,l=i?P("delivered"):P("cancelled"),c=P("delivered"),u=R("--status-delivered"),p=u?B(u,.2):"#d1fae5",m=c||F(),x=P("cancelled"),h=R("--status-cancelled"),f=h?B(h,.2):D(),v=x||O(),b=R("--priority-rush"),y=b?B(b,.2):"#fef3c7",w='\n          <div style="display: flex; align-items: stretch; min-width: 280px; max-width: 340px; border-radius: 8px; overflow: hidden;">\n            <div style="width: 64px; min-width: 64px; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 12px; background: '.concat(D(),';">\n              ').concat(r.avatar?'\n                <img src="'.concat(r.avatar,'" alt="').concat(r.name,'" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid ').concat(l,';" />\n              '):'\n                <div style="width: 40px; height: 40px; border-radius: 50%; background: '.concat(i?p:f,"; display: flex; align-items: center; justify-content: center; border: 2px solid ").concat(l,"; color: ").concat(i?m:v,'; font-weight: 600; font-size: 16px;">\n                  ').concat(r.name.split(" ").map(e=>e[0]).join(""),"\n                </div>\n              "),'\n              <div style="margin-top: 6px; display: flex; flex-direction: column; align-items: center; gap: 3px;">\n                <span style="padding: 1px 5px; background: ').concat(i?p:f,"; color: ").concat(i?m:v,'; border-radius: 3px; font-size: 8px; font-weight: 500;">\n                  ').concat(i?"Available":"Unavailable","\n                </span>\n                ").concat(r.rating.overall?'\n                  <span style="padding: 1px 5px; background: '.concat(y,"; color: ").concat(b||"#92400e",'; border-radius: 3px; font-size: 8px; font-weight: 500;">\n                    ⭐ ').concat(r.rating.overall,"\n                  </span>\n                "):"",'\n              </div>\n            </div>\n            \n            <div style="padding: 10px; flex: 1; display: flex; flex-direction: column; justify-content: center;">\n              <div style="font-size: 13px; font-weight: 600; color: ').concat(F(),'; margin-bottom: 3px; line-height: 1.2;">\n                ').concat(r.name,'\n              </div>\n              \n              <div style="font-size: 10px; color: ').concat(O(),'; margin-bottom: 3px;">\n                <span style="font-weight: 500;">Location:</span> ').concat((0,g.w)(r.homeLocation.address,!0),"\n              </div>\n              \n              ").concat(r.companyName?'\n                <div style="font-size: 10px; color: '.concat(O(),'; margin-bottom: 3px;">\n                  <span style="font-weight: 500;">Company:</span> ').concat(r.companyName,"\n                </div>\n              "):r.isIndependent?'\n                <div style="font-size: 10px; color: '.concat(O(),'; margin-bottom: 3px;">\n                  <span style="font-weight: 500;">Status:</span> Independent\n                </div>\n              '):"",'\n              \n              <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 3px; margin-top: 6px; padding-top: 6px; border-top: 1px solid ').concat(R("--border")||"#e5e7eb",';">\n                <div style="text-align: center;">\n                  <div style="font-size: 12px; font-weight: 600; color: ').concat(F(),';">').concat(r.reliability.totalJobs,'</div>\n                  <div style="font-size: 8px; color: ').concat(O(),';">Jobs</div>\n                </div>\n                <div style="text-align: center;">\n                  <div style="font-size: 12px; font-weight: 600; color: ').concat(F(),';">').concat((100*r.reliability.onTimeRate).toFixed(0),'%</div>\n                  <div style="font-size: 8px; color: ').concat(O(),';">On-Time</div>\n                </div>\n                <div style="text-align: center;">\n                  <div style="font-size: 12px; font-weight: 600; color: ').concat(F(),';">').concat(r.rating.overall,'</div>\n                  <div style="font-size: 8px; color: ').concat(O(),';">Rating</div>\n                </div>\n              </div>\n              \n              ').concat(r.bio?'\n                <div style="font-size: 9px; color: '.concat(O(),"; margin-top: 6px; padding-top: 6px; border-top: 1px solid ").concat(R("--border")||"#e5e7eb",'; line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">\n                  ').concat(r.bio,"\n                </div>\n              "):"","\n            </div>\n          </div>\n        "),A=W(r.avatar,r.name,36,"white"),z=new(d()).Marker({element:A}).setLngLat(n).addTo(e),C=new(d()).Popup({offset:25,closeButton:!1,closeOnClick:!0}).setLngLat(n).setHTML(w).setMaxWidth("280px");o||z.getElement().addEventListener("click",t=>{t.stopPropagation(),_.current===C?(C.remove(),_.current=null):(_.current&&_.current.remove(),C.addTo(e),_.current=C)}),j.current.push(z),N.current.push(C),k.current.set(r.id,C)}),j.current.length>0){let r=t.getNorthEast(),a=t.getSouthWest();if(r.lat!==a.lat||r.lng!==a.lng)e.fitBounds(t,{padding:{top:50,right:50,bottom:50,left:50}});else{let t=j.current[0].getLngLat();e.setCenter(t),e.setZoom(15)}}},[w.current,E,r,s,i]),(0,n.useEffect)(()=>{if(!w.current||!E)return;let e=w.current;if(!i){if(_.current&&(_.current.remove(),_.current=null),j.current.length>0){let t=new(d()).LngLatBounds;j.current.forEach(e=>{let r=e.getLngLat();t.extend([r.lng,r.lat])});let r=t.getNorthEast(),a=t.getSouthWest();(r.lat!==a.lat||r.lng!==a.lng)&&e.fitBounds(t,{padding:{top:50,right:50,bottom:50,left:50}})}return}let t=A.current.get(i.id),r=z.current.get(i.id);if(t&&r){let a=t.getElement();a.style.animation="bounce 0.6s ease-in-out",setTimeout(()=>{a.style.animation=""},2e3),_.current&&_.current!==r&&_.current.remove();let n=[i.location.lng,i.location.lat];o||(r.setLngLat(n),r.addTo(e),_.current=r),e.flyTo({center:n,zoom:15,duration:1e3})}},[w.current,E,null==i?void 0:i.id]),(0,n.useEffect)(()=>{if(!w.current||!E||!b||!i){if(C.current&&(clearInterval(C.current),C.current=null),w.current){let e=w.current;try{e.getLayer("route-flow")&&e.removeLayer("route-flow"),e.getLayer("route")&&e.removeLayer("route"),e.getSource("route")&&e.removeSource("route")}catch(e){console.warn("Error cleaning up route:",e)}}return}w.current;let e=[b.homeLocation.lng,b.homeLocation.lat],t=[i.location.lng,i.location.lat],r="https://api.mapbox.com/directions/v5/mapbox/driving/".concat(e[0],",").concat(e[1],";").concat(t[0],",").concat(t[1],"?geometries=geojson&access_token=").concat(d().accessToken),a=!1;return fetch(r).then(e=>e.json()).then(e=>{if(a||!w.current)return;let t=w.current;if("Ok"===e.code&&e.routes&&e.routes[0]){let r=e.routes[0].geometry;try{t.getLayer("route-flow")&&t.removeLayer("route-flow"),t.getLayer("route")&&t.removeLayer("route"),t.getSource("route")&&t.removeSource("route")}catch(e){console.warn("Error removing existing route:",e)}try{t.addSource("route",{type:"geojson",lineMetrics:!0,data:{type:"Feature",properties:{},geometry:r}}),t.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3b82f6","line-width":5,"line-opacity":.8}}),t.addLayer({id:"route-flow",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":5,"line-opacity":1,"line-gradient":["interpolate",["linear"],["line-progress"],0,"rgba(59, 130, 246, 0)",1,"rgba(59, 130, 246, 0)"]}});let e=Date.now(),a=()=>{let r=(Date.now()-e)%3e3/3e3*2-.5,n=r-.4,s=r+.1,i=e=>e<n||e>s?0:e<r?(e-n)/.4:1-(e-r)/.1,l=[];l.push([0,"rgba(255, 255, 255, ".concat(i(0),")")]),n>.001&&n<.999&&l.push([n,"rgba(255, 255, 255, 0)"]),r>.001&&r<.999&&l.push([r,"rgba(255, 255, 255, 1)"]),s>.001&&s<.999&&l.push([s,"rgba(255, 255, 255, 0)"]),l.push([1,"rgba(255, 255, 255, ".concat(i(1),")")]);let o=new Map;l.forEach(e=>{let[t,r]=e,a=Math.round(1e3*t)/1e3;o.set(a,r)});let d=Array.from(o.entries()).sort((e,t)=>e[0]-t[0]),c=["interpolate",["linear"],["line-progress"]];d.forEach(e=>{let[t,r]=e;c.push(t),c.push(r)}),t.getLayer("route-flow")&&t.setPaintProperty("route-flow","line-gradient",c),L.current=requestAnimationFrame(a)};a();let n=new(d()).LngLatBounds;r.coordinates.forEach(e=>{n.extend(e)}),t.fitBounds(n,{padding:{top:50,right:50,bottom:50,left:50}})}catch(e){console.warn("Error adding route to map:",e)}}else console.error("Directions request failed:",e)}).catch(e=>{a||console.error("Error fetching directions:",e)}),()=>{if(a=!0,w.current)try{let e=w.current;e.getLayer("route-flow")&&e.removeLayer("route-flow"),e.getLayer("route")&&e.removeLayer("route"),e.getSource("route")&&e.removeSource("route")}catch(e){console.warn("Error cleaning up route:",e)}C.current&&(clearInterval(C.current),C.current=null),L.current&&(cancelAnimationFrame(L.current),L.current=null)}},[w.current,E,null==b?void 0:b.id,null==i?void 0:i.id,x]),M)?(0,a.jsx)("div",{className:"flex items-center justify-center h-full bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)(p.A,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),(0,a.jsx)(m.QX,{children:M})]})}):(0,a.jsxs)("div",{className:"relative size-full md:min-h-[400px]",children:[(0,a.jsx)("div",{ref:y,className:"size-full min-h-[400px]"}),!E&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 rounded-lg z-10",children:(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)(h.y,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),(0,a.jsx)(m.QX,{children:"Loading map..."})]})}),!1]})}var y=r(33884),w=r(67812),j=r(55850),N=r(97003),k=r(82180),A=r(52472),z=r(39347),C=r(12108),L=r(24033),E=r(19408),S=r(83457),M=r(21873),T=r(23327),_=r(29633),I=r(1524),R=r(51089),P=r(49518),F=r(26411),O=r(69242),D=r(88230),B=r(63296),H=r(54664);let W={score:{label:"Score"}};function K(e){var t;let{technician:r,ranking:l,score:o,recommended:d,onClick:c,onAssign:u,selected:p,isAssigning:h=!1,onCollapse:f,allowOverride:v=!1}=e,b=null!=p&&p,K=(0,n.useRef)(b),X=!l||100===l.availability;(0,n.useEffect)(()=>{K.current&&!b&&f&&f(),K.current=b},[b,f]);let q=(0,g.w)(r.homeLocation.address,!0),Z=void 0!==o?[{name:"score",value:o,fill:o>=80?"hsl(142, 76%, 36%)":o>=60?"hsl(38, 92%, 50%)":"hsl(0, 84%, 60%)"}]:[];return(0,a.jsxs)("div",{className:"relative rounded-lg border transition-all overflow-hidden w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{b&&f?f():c&&c()},children:[(0,a.jsxs)("div",{className:"relative shrink-0",children:[(0,a.jsxs)(y.eu,{className:"size-12 border-2 border-background",children:[(0,a.jsx)(y.BK,{src:r.avatar,alt:r.name}),(0,a.jsx)(y.q5,{className:"bg-primary text-primary-foreground text-sm",children:r.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-background ".concat(X?"bg-emerald-500":"bg-gray-400")})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm truncate",children:r.name}),d&&(0,a.jsx)(A.A,{className:"h-3.5 w-3.5 text-emerald-600 shrink-0"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,a.jsx)(z.A,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,a.jsx)("span",{className:"text-xs text-foreground",children:r.rating.overall})]}),l&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[l.distanceKm.toFixed(1),"km"]}),void 0!==o&&(0,a.jsx)(w.E,{variant:"outline",className:"text-xs h-5 px-1.5",children:o.toFixed(0)})]})]}),(0,a.jsx)("div",{className:"shrink-0",children:b?(0,a.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"}):(0,a.jsx)(L.A,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,a.jsx)(s.N,{children:b&&(0,a.jsx)(i.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,a.jsxs)(x.Zp,{className:"px-3 pb-3 space-y-4 border-t border-border pt-3 gap-0 rounded-none shadow-none border-x-0 border-b-0 min-w-0",children:[(0,a.jsxs)(x.aR,{className:"space-y-3 min-w-0 w-full p-0 gap-0",children:[!r.isIndependent&&r.companyName&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(E.A,{className:"h-3.5 w-3.5 text-primary"}),(0,a.jsx)("span",{className:"text-xs text-primary",children:r.companyName})]}),r.isIndependent&&(0,a.jsx)(w.E,{variant:"outline",className:"text-xs h-5 w-fit",children:"Independent"}),l&&l.preferredRelationship>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(S.A,{className:"h-3.5 w-3.5 fill-red-500 text-red-500"}),(0,a.jsx)("span",{className:"text-xs text-destructive",children:"Preferred Vendor"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground min-w-0 w-full overflow-hidden",children:[(0,a.jsx)(M.A,{className:"h-3.5 w-3.5 shrink-0"}),(0,a.jsx)("div",{className:"min-w-0 flex-1 overflow-hidden",children:(0,a.jsx)("span",{className:"truncate block w-full",children:q})})]})]}),(0,a.jsxs)(x.Wu,{className:"space-y-2.5 p-0 gap-0 ",children:[l&&(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Distance"}),(0,a.jsxs)("span",{className:"text-foreground",children:[l.distanceKm.toFixed(1),"km"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Reliability"}),(0,a.jsxs)("span",{className:"text-foreground",children:[(100*r.reliability.onTimeRate).toFixed(0),"%"]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Skill Match"}),(0,a.jsxs)(k.m_,{children:[(0,a.jsx)(k.k$,{asChild:!0,children:(0,a.jsx)(T.A,{className:"h-3 w-3 text-muted-foreground/60 hover:text-muted-foreground cursor-help"})}),(0,a.jsx)(k.ZI,{side:"top",className:"max-w-xs",children:(0,a.jsx)(m.P,{className:"text-xs",children:"Calculated by averaging the technician's skill ratings (1-5 scale) for each media type required by the job. The average is converted to a percentage (multiplied by 20)."})})]})]}),(0,a.jsxs)("span",{className:"text-foreground",children:[l.skillMatch.toFixed(0),"%"]})]}),(0,a.jsx)(j.k,{value:l.skillMatch,className:"h-1.5"})]})]}),(0,a.jsxs)("div",{className:"relative flex size-full items-center",children:[void 0!==o&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"text-center flex-1",children:(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)(k.m_,{children:[(0,a.jsx)(k.k$,{asChild:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(R.at,{config:W,className:"size-16 cursor-help",children:(0,a.jsxs)(P.D,{data:Z,startAngle:90,endAngle:90-o/100*360,innerRadius:25,outerRadius:30,children:[(0,a.jsx)(F.z,{gridType:"circle",radialLines:!1,stroke:"none",className:"first:fill-muted last:fill-background",polarRadius:[24,30]}),(0,a.jsx)(O.ZB,{dataKey:"value",background:!0,cornerRadius:10,fill:null==(t=Z[0])?void 0:t.fill}),(0,a.jsx)(D.E,{tick:!1,tickLine:!1,axisLine:!1,children:(0,a.jsx)(B.JU,{content:e=>{let{viewBox:t}=e;if(t&&"cx"in t&&"cy"in t)return(0,a.jsx)("text",{x:t.cx,y:t.cy,textAnchor:"middle",dominantBaseline:"middle",children:(0,a.jsx)("tspan",{x:t.cx,y:t.cy,className:"fill-foreground text-lg font-semibold",children:o.toFixed(0)})})}})})]})})})}),(0,a.jsx)(k.ZI,{children:(0,a.jsx)(m.P,{className:"max-w-xs",children:"Overall match score calculated from availability, distance, skill match, and reliability. Higher scores indicate better fit for the job."})})]})})})}),(0,a.jsx)(H.w,{orientation:"vertical",className:""}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(_.A,{className:"h-3.5 w-3.5 fill-muted-foreground/60 text-muted-foreground/60"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-foreground",children:r.reliability.totalJobs})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:"jobs"})]}),(0,a.jsx)(H.w,{orientation:"vertical",className:""}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(I.A,{className:"h-3.5 w-3.5 fill-muted-foreground/60 text-muted-foreground/60"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:[r.reliability.averageDeliveryTime,"h"]})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:"avg delivery"})]})]})]}),(0,a.jsx)(x.wL,{className:"p-0 gap-0",children:u&&(0,a.jsxs)(k.m_,{children:[(0,a.jsx)(k.k$,{asChild:!0,children:(0,a.jsx)("span",{className:"w-full",children:(0,a.jsxs)(N.$,{onClick:e=>{e.stopPropagation(),u()},disabled:!X&&!v||h,className:"w-full ".concat(d?"bg-emerald-600 hover:bg-emerald-700":"bg-primary"," shadow-md disabled:opacity-50 disabled:cursor-not-allowed"),children:[d&&(0,a.jsx)(A.A,{className:"h-4 w-4 mr-2"}),d?"Assign (Recommended)":"Assign Technician"]})})}),!X&&!v&&(0,a.jsx)(k.ZI,{children:(0,a.jsx)(m.P,{children:"This technician is not available for assignment"})})]})})]})})}),h&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 rounded-lg z-10",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sm text-foreground",children:"Assigning..."})]})})]})}var X=r(25890),q=r(27346),Z=r(64936),Q=r(61362),U=r(35626),$=r(6191),V=r(65229),J=r(57828),G=r(97515),Y=r(36369),ee=r(33789),et=r(86651),er=r(90908),ea=r(47507),en=r(20120),es=r(75701),ei=r(65939);let el=e=>"TECHNICIAN"===e.role;function eo(e){let{jobs:t,providers:r,selectedJob:o,onSelectJob:d,onNavigateToJobInProjectManagement:c,onJobAssign:u,className:p,fullScreen:h=!1,initialSidebarView:g="pending",initialJobForRankings:f=null,onGoBack:v,isDispatcherView:y=!0}=e,[w,j]=(0,n.useState)(g),[k,A]=(0,n.useState)(f),[z,C]=(0,n.useState)(""),[L,E]=(0,n.useState)(!1),[S,T]=(0,n.useState)(["availability","distance","score"]),[_,R]=(0,n.useState)(null),[P,F]=(0,n.useState)(!1),O=(0,n.useMemo)(()=>r.filter(el),[r]),[D,B]=(0,n.useState)(null),[H,W]=(0,n.useState)(null),{memberships:eo,activeOrganizationId:ed}=(0,ei.A)(),ec=(0,es.in)(eo,ed),eu="OWNER"===ec||"ADMIN"===ec,ep=t.filter(e=>"pending"===e.status),em=ep.filter(e=>{if(!z)return!0;let t=z.toLowerCase();return e.propertyAddress.toLowerCase().includes(t)||e.clientName.toLowerCase().includes(t)||e.scheduledDate.toLowerCase().includes(t)}),ex=()=>{v?v():(B(null),j("pending"),A(null))},eh=(0,n.useMemo)(()=>k?[...O.filter(e=>"active"===e.status).map(e=>{let t=function(e,t,r,a){let n=(r-e)*Math.PI/180,s=(a-t)*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}(e.homeLocation.lat,e.homeLocation.lng,k.location.lat,k.location.lng),r=e.availability.find(e=>e.date===k.scheduledDate),a=(null==r?void 0:r.available)||!1,n=0;t<=5?n=100:t<=15?n=75:t<=30?n=50:t<=50&&(n=25);let{onTimeRate:s,noShows:i,totalJobs:l}=e.reliability,o=50;l>0&&(o=Math.max(0,Math.min(100,100*s-i/l*100)));let d={photo:"residential",video:"video",aerial:"aerial",twilight:"twilight"},c=0,u=0;for(let t of k.mediaType){let r=d[t];r&&void 0!==e.skills[r]&&(c+=e.skills[r],u++)}let p=u>0?c/u*20:50,m=0;e.preferredClients.includes(k.organizationId)&&(m=100);let x=100*!!a*.3+.25*m+.2*o+.15*n+.1*p;return{provider:e,isAvailable:a,distanceKm:t,distanceScore:n,reliabilityScore:o,skillScore:p,preferredScore:m,overallScore:x}})].sort((e,t)=>{for(let r of S){let a=0;if("availability"===r)a=!!t.isAvailable-!!e.isAvailable;else if("distance"===r)a=Math.round(10*e.distanceKm)/10-Math.round(10*t.distanceKm)/10;else if("score"===r){let r=Math.round(e.overallScore);a=Math.round(t.overallScore)-r}if(0!==a)return a}return 0}).map((e,t)=>({provider:e.provider,score:e.overallScore,factors:{availability:100*!!e.isAvailable,distance:e.distanceScore,distanceKm:e.distanceKm,reliability:e.reliabilityScore,skillMatch:e.skillScore,preferredRelationship:e.preferredScore},recommended:0===t&&e.isAvailable&&e.overallScore>=60,rank:t+1})):[],[k,O,S]),eg=async(e,t)=>{R(e);try{await new Promise(e=>setTimeout(e,500)),k&&u&&(u(k.id,e,t),ex())}catch(e){console.error("Failed to assign technician:",e)}finally{R(null)}},ef=()=>{W(null)},ev=(e,t)=>{let r=[...S],a=r.indexOf(t);if(-1!==a&&a!==e){let n=r[e];r[e]=t,r[a]=n}else r[e]=t;T(r)},eb=()=>{if(S.length>=3)return;let e=["availability","distance","score"].find(e=>!S.includes(e));e&&T([...S,e])},ey=e=>{if(S.length<=1)return;let t=[...S];t.splice(e,1),T(t)},ew="rankings"===w&&k?[k]:t,ej="rankings"===w&&k?eh.map(e=>e.provider):O,eN=(0,a.jsx)(a.Fragment,{children:"pending"===w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.aR,{className:"py-4 px-4 md:px-0! space-y-3 gap-0! md:relative sticky top-0 z-50 md:z-10 bg-background",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(m.H3,{className:"text-lg border-0",children:y?"Pending Assignments":"Pending Jobs"}),(0,a.jsxs)(m.QX,{className:"text-xs",children:[ep.length," ",1===ep.length?"job":"jobs"]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(et.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(ee.p,{placeholder:"Search by address, client name...",value:z,onChange:e=>C(e.target.value),className:"pl-9 h-9"})]})]}),(0,a.jsx)(x.Wu,{className:"relative flex-1 p-0! min-h-0 overflow-hidden flex flex-col w-full min-w-0 max-w-full ".concat(h?"py-4 px-4 md:px-0!":""),children:(0,a.jsx)(q.F,{className:"size-full min-w-0 max-w-full overflow-x-hidden",children:(0,a.jsx)("div",{className:"px-4 pb-4 md:px-0! md:pb-0 space-y-3 min-w-0 w-full max-w-full box-border",children:0===em.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[(0,a.jsx)(Q.A,{className:"size-12 text-muted-foreground mb-4"}),(0,a.jsx)(m.H3,{className:"text-lg mb-2",children:"All caught up!"}),(0,a.jsx)(m.QX,{children:y?"No pending assignments":"No pending jobs"})]}):em.map(e=>(0,a.jsx)("div",{className:"w-full min-w-0 max-w-full box-border",children:(0,a.jsx)(X.o,{job:e,horizontal:!0,hideRequirements:!0,onClick:()=>{if("EDITOR"!==ec&&"TECHNICIAN"!==ec)B(null),A(e),j("rankings");else d(e)},onViewInProjectManagement:c?()=>c(e):void 0,selected:(null==o?void 0:o.id)===e.id})},e.id))})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.aR,{className:"py-4 px-4 md:px-0! space-y-3 gap-0! md:relative sticky top-0 z-50 md:z-10 bg-background",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(N.$,{variant:"ghost",size:"icon",onClick:ex,className:"h-8 w-8",children:(0,a.jsx)(U.A,{className:"h-4 w-4"})}),(0,a.jsx)(m.H3,{className:"text-lg border-0",children:"Ranked Technicians"})]}),k&&(0,a.jsx)(m.QX,{className:"text-xs mb-2",children:k.propertyAddress}),(0,a.jsx)("div",{children:(0,a.jsxs)(m.QX,{className:"text-xs",children:[eh.length," available"]})}),(0,a.jsx)("div",{className:"bg-background py-4 px-0! md:hidden block",children:(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.Oc,{className:"text-xs font-semibold text-muted-foreground",children:"Sort Priority"}),S.length<3&&(0,a.jsxs)("button",{onClick:eb,className:"flex items-center gap-1 text-xs text-primary hover:text-primary/80 transition-colors",type:"button",children:[(0,a.jsx)($.A,{className:"h-3 w-3"}),"Add"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:S.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center rounded bg-muted text-xs font-semibold w-6 h-6",children:t+1}),(0,a.jsxs)(ea.l6,{value:e,onValueChange:e=>ev(t,e),children:[(0,a.jsx)(ea.bq,{className:"text-xs flex-1 h-8",children:(0,a.jsx)(ea.yv,{})}),(0,a.jsxs)(ea.gC,{children:[(0,a.jsx)(ea.eb,{value:"availability",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"h-3 w-3"}),"Availability"]})}),(0,a.jsx)(ea.eb,{value:"distance",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-3 w-3"}),"Distance"]})}),(0,a.jsx)(ea.eb,{value:"score",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-3 w-3"}),"Overall Score"]})})]})]}),S.length>1&&(0,a.jsx)("button",{onClick:()=>ey(t),className:"flex items-center justify-center w-6 h-6 rounded hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",type:"button","aria-label":"Remove priority",children:(0,a.jsx)(V.A,{className:"h-3 w-3"})})]},t))})]})})})]}),(0,a.jsx)(x.Wu,{className:"relative flex-1 p-0! min-h-0 overflow-hidden flex flex-col ".concat(h?"py-4 px-4 md:px-0!":""),children:k&&(0,a.jsx)("div",{className:"flex-1 min-h-0",children:(0,a.jsx)(q.F,{className:"h-full",children:(0,a.jsxs)("div",{className:"space-y-0",children:[(0,a.jsx)("div",{className:"bg-background py-4 px-4 md:px-0! md:block hidden",children:(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(m.Oc,{className:"text-xs font-semibold text-muted-foreground",children:"Sort Priority"}),S.length<3&&(0,a.jsxs)("button",{onClick:eb,className:"flex items-center gap-1 text-xs text-primary hover:text-primary/80 transition-colors",type:"button",children:[(0,a.jsx)($.A,{className:"h-3 w-3"}),"Add"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:S.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center rounded bg-muted text-xs font-semibold w-6 h-6",children:t+1}),(0,a.jsxs)(ea.l6,{value:e,onValueChange:e=>ev(t,e),children:[(0,a.jsx)(ea.bq,{className:"text-xs flex-1 h-8",children:(0,a.jsx)(ea.yv,{})}),(0,a.jsxs)(ea.gC,{children:[(0,a.jsx)(ea.eb,{value:"availability",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"h-3 w-3"}),"Availability"]})}),(0,a.jsx)(ea.eb,{value:"distance",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-3 w-3"}),"Distance"]})}),(0,a.jsx)(ea.eb,{value:"score",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(I.A,{className:"h-3 w-3"}),"Overall Score"]})})]})]}),S.length>1&&(0,a.jsx)("button",{onClick:()=>ey(t),className:"flex items-center justify-center w-6 h-6 rounded hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",type:"button","aria-label":"Remove priority",children:(0,a.jsx)(V.A,{className:"h-3 w-3"})})]},t))})]})})}),(0,a.jsx)("div",{className:"py-4 px-4 md:px-0! space-y-3",children:0===eh.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)(m.QX,{children:"No technicians available"})}):eh.map(e=>{let t=D===e.provider.userId,r=_===e.provider.userId;return(0,a.jsx)(K,{technician:e.provider,ranking:e.factors,score:e.score,recommended:e.recommended,selected:t,isAssigning:r,allowOverride:eu,onClick:()=>B(e.provider.userId),onCollapse:()=>{D===e.provider.userId&&B(null)},onAssign:()=>((e,t)=>{let r=eh.find(t=>t.provider.userId===e);if((null==r?void 0:r.factors.availability)!==100&&eu)return void W({technicianId:e,technicianName:(null==r?void 0:r.provider.name)||"this technician",score:t});eg(e,t)})(e.provider.userId,e.score)},e.provider.userId)})})]})},"technician-list-".concat((null==k?void 0:k.id)||"none"))})})]})}),ek=(0,l.a)(),eA=(0,a.jsxs)("div",{className:"flex size-full overflow-hidden relative",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0 overflow-hidden ".concat(h?"":"rounded-md"),children:(0,a.jsx)(b,{jobs:ew,technicians:ej,selectedJob:"rankings"===w?k:o,selectedTechnician:"rankings"===w&&D&&ej.find(e=>e.id===D)||null,disablePopovers:ek})}),ek?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(er._s,{open:L,onOpenChange:E,children:[(0,a.jsx)(er.Uz,{asChild:!0,children:(0,a.jsx)(N.$,{variant:"default",size:"icon",className:"fixed bottom-[calc(var(--dock-h)+0.5rem)] right-2 z-50 rounded-full size-12 p-0",children:(0,a.jsx)(J.A,{className:"size-5"})})}),(0,a.jsxs)(er.zj,{className:"max-h-[90vh]",children:[(0,a.jsx)(er.gk,{className:"sr-only",children:"pending"===w?y?"Pending Assignments":"Pending Jobs":"Ranked Technicians"}),(0,a.jsx)("div",{className:"overflow-y-auto size-full",children:(0,a.jsx)(x.Zp,{className:"border-0 shadow-none",children:eN})})]})]})}):(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)(N.$,{variant:"secondary",size:"icon",onClick:()=>F(!P),className:(0,Z.cn)("absolute top-4 z-20 h-8 w-8 rounded-full shadow-md transition-[right] duration-200 ease-in-out",P?"right-4":"right-[calc(20rem+1rem)] xl:right-[calc(24rem+1rem)]"),title:P?"Show sidebar":"Hide sidebar",children:P?(0,a.jsx)(G.A,{className:"h-4 w-4"}):(0,a.jsx)(Y.A,{className:"h-4 w-4"})}),(0,a.jsx)(s.N,{initial:!1,children:!P&&(0,a.jsx)(i.P.div,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"h-full overflow-hidden",children:(0,a.jsx)(x.Zp,{className:"relative w-80 xl:w-96 bg-background border-l border-border flex flex-col shrink-0 rounded-none border-x-0! border-y-0! gap-0 h-full overflow-hidden ".concat(h?"px-4":"pl-4"),children:eN})})})]}),(0,a.jsx)(en.Lt,{open:!!H,onOpenChange:e=>!e&&ef(),children:(0,a.jsxs)(en.EO,{children:[(0,a.jsxs)(en.wd,{children:[(0,a.jsx)(en.r7,{children:"Assign Unavailable Technician?"}),(0,a.jsxs)(en.$v,{children:[(0,a.jsx)("strong",{children:null==H?void 0:H.technicianName})," is currently marked as unavailable for this date. Are you sure you want to override and assign them to this job?"]})]}),(0,a.jsxs)(en.ck,{children:[(0,a.jsx)(en.Zr,{onClick:ef,children:"Cancel"}),(0,a.jsx)(en.Rx,{onClick:()=>{H&&(eg(H.technicianId,H.score),W(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Assign Anyway"})]})]})})]});return h?(0,a.jsx)("div",{className:"".concat(p||"size-full"," overflow-hidden flex flex-col h-full"),children:eA}):(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:p||"w-full aspect-video max-h-[65vh]",children:eA})}},90908:(e,t,r)=>{r.d(t,{BE:()=>u,Uz:()=>l,_s:()=>i,gk:()=>p,zj:()=>c});var a=r(95155);r(12115);var n=r(83161),s=r(64936);function i(e){let{direction:t="bottom",...r}=e;return(0,a.jsx)(n._s.Root,{"data-slot":"drawer",...r})}function l(e){let{...t}=e;return(0,a.jsx)(n._s.Trigger,{"data-slot":"drawer-trigger",...t})}function o(e){let{...t}=e;return(0,a.jsx)(n._s.Portal,{"data-slot":"drawer-portal",...t})}function d(e){let{className:t,...r}=e;return(0,a.jsx)(n._s.Overlay,{"data-slot":"drawer-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function c(e){let{className:t,children:r,...i}=e;return(0,a.jsxs)(o,{"data-slot":"drawer-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(n._s.Content,{"data-slot":"drawer-content",className:(0,s.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...i,children:[(0,a.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),r]})]})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"drawer-header",className:(0,s.cn)("flex flex-col gap-1.5 p-4",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)(n._s.Title,{"data-slot":"drawer-title",className:(0,s.cn)("text-foreground font-semibold",t),...r})}}}]);