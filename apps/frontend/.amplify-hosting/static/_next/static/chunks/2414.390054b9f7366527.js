"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2414],{3223:(e,t,r)=>{let s;r.d(t,{_:()=>R});let n=()=>{let e=[];return{stack:e,promiseReadJpegChunks:t=>new Promise((r,s)=>{let n=2,i=(e,t)=>{let r=new FileReader;r.addEventListener("load",()=>{t(new DataView(r.result))}),r.addEventListener("error",e=>{s(`Reader error: ${e}`)}),r.readAsArrayBuffer(e)},o=()=>i(t.slice(n,n+128),e=>{let t,r,s;for(t=r=0,s=e.byteLength;s>=0?r<s:r>s;t=s>=0?++r:--r)if(255===e.getUint8(t)){n+=t;break}a()}),a=()=>{let a=n;return i(t.slice(n,n+=4),l=>{if(4!==l.byteLength||255!==l.getUint8(0))return void s("Corrupted");let u=l.getUint8(1);if(218===u)return void r(!0);let c=l.getUint16(2)-2;return i(t.slice(n,n+=c),t=>{if(t.byteLength!==c)return void s("Corrupted");e.push({startPos:a,length:c,marker:u,view:t}),o()})})};FileReader&&DataView||s("Not Support"),i(t.slice(0,2),e=>{65496!==e.getUint16(0)&&s("Not jpeg"),o()})})}},i=async e=>{let t=[],{promiseReadJpegChunks:r,stack:s}=n();return await r(e),s.forEach(({marker:e,view:r})=>{226===e&&0x4943435f===r.getUint32(0)&&0x50524f46===r.getUint32(4)&&0x494c4500===r.getUint32(8)&&t.push(r)}),t},o=async(e,t,r)=>{{let s=[],i=[],{promiseReadJpegChunks:o,stack:a}=n();await o(e),a.forEach(e=>{if(e.marker===t)return s.push(e.startPos),i.push(e.length)});let l=[e.slice(0,2)];for(let e of r){let r=new DataView(new ArrayBuffer(4));r.setUint16(0,65280+t),r.setUint16(2,e.byteLength+2),l.push(r.buffer),l.push(e)}let u=2;for(let t=0;t<s.length;t++)s[t]>u&&l.push(e.slice(u,s[t])),u=s[t]+i[t]+4;return l.push(e.slice(u,e.size)),new Blob(l,{type:e.type})}},a=(e,t)=>o(e,226,t.map(e=>e.buffer)),l=async e=>{try{return await a(e,[])}catch(e){throw Error(`Failed to strip ICC profile: ${e}`)}},u=()=>{let e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:e,ctx:t}},c=async e=>{let t=null,{promiseReadJpegChunks:r,stack:s}=n();return await r(e),s.forEach(({marker:e,view:r})=>{if(!t&&225===e&&r.byteLength>=14&&0x45786966===r.getUint32(0)&&0===r.getUint16(4)){t=r;return}}),t},h=async(e,t,r)=>(r&&((e,t)=>{((e,t)=>{let r,s,n;if(!e||e.byteLength<14||0x45786966!==e.getUint32(0)||0!==e.getUint16(4))return;if(18761===e.getUint16(6))s=!0;else{if(19789!==e.getUint16(6))return;s=!1}if(42!==e.getUint16(8,s))return;n=8+e.getUint32(10,s);let i=e.getUint16(n-2,s);for(r=0;i>=0?r<i:r>i;i>=0?++r:--r){if(e.byteLength<n+10)return;274===e.getUint16(n,s)&&t(n+8,s),n+=12}})(e,(t,r)=>e.setUint16(t,1,r))})(t,0),o(e,225,[t.buffer])),d=[1,3],p=[192,193,194,195,197,198,199,201,202,203,205,206,207],f={squareSide:[Math.floor(Math.sqrt(5e6)),4096,8192,11180,10836,11402,14188,16384],dimension:[4096,8192,16384,32767,65535]},m=async e=>{let t=!1,{promiseReadJpegChunks:r,stack:s}=n();return await r(e).then(()=>(s.forEach(({marker:e,view:r})=>{if(!t&&p.indexOf(e)>=0){let e=r.getUint8(5);0>d.indexOf(e)&&(t=!0)}}),t)).catch(()=>t)},_=(e,t)=>{let r={};return(...s)=>{let n=t(s,r);return n in r?r[n]:r[n]=e(...s)}},g=(e,t)=>{let[r]=e,s=Object.keys(t).map(e=>parseInt(e,10)).sort((e,t)=>e-t);for(let e=0;e<s.length;e++){let n=s[e],i=!!t[n];if(n>r&&i||n<r&&!i)return n}return r},b={R:55,G:110,B:165,A:255},y=`rgba(${b.R}, ${b.G}, ${b.B}, ${b.A/255})`,w=(e,t)=>{try{let r=[e-1,t-1,1,1],{canvas:s,ctx:n}=u();s.width=1,s.height=1;let{canvas:i,ctx:o}=u();i.width=e,i.height=t,o&&(o.fillStyle=y,o.fillRect(...r),n.drawImage(i,e-1,t-1,1,1,0,0,1,1));let a=n&&n.getImageData(0,0,1,1).data,l=!1;return a&&(l=a[0]===b.R&&a[1]===b.G&&a[2]===b.B&&a[3]===b.A),i.width=i.height=1,l}catch(r){return console.error(`Failed to test for max canvas size of ${e}x${t}.`),!1}};function A(e){return(...t)=>new Promise(r=>{setTimeout(()=>{r(e(...t))},0)})}let v=A(_(w,g)),E=A(_(w,g)),T=async(e,t)=>{let r=f.squareSide.find(r=>r*r>=e*t),s=f.dimension.find(r=>r>=e&&r>=t);if(!r||!s)throw Error("Not supported");let[n,i]=await Promise.all([v(r,r),E(s,1)]);if(n&&i)return!0;throw Error("Not supported")},C=async(e,t,r)=>{try{let{ctx:s,canvas:n}=u();return n.width=t,n.height=r,s.imageSmoothingQuality="high",s.drawImage(e,0,0,t,r),e instanceof HTMLImageElement&&(e.src="//:0"),e instanceof HTMLCanvasElement&&(e.width=e.height=1),n}catch(e){throw Error("Canvas resize error",{cause:e})}},S=function({sourceW:e,targetW:t,targetH:r,step:s}){let n=[],i=t,o=r;do n.push([i,o]),i=Math.round(i/s),o=Math.round(o/s);while(i<e*s);return n.reverse()},P=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),R=async(e,t)=>{try{let r;if(await m(e))throw Error("Should skipped");let n=await Promise.allSettled([c(e),new Promise(e=>{if(void 0!==s)e(s);else{let t=new Image;t.addEventListener("load",()=>{s=t.naturalWidth<t.naturalHeight,t.src="//:0",e(s)}),t.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k="}}),i(e)]),o=!n.some(e=>"rejected"===e.status),[d,p,f]=n,_=await l(e).catch(()=>e),g=await (r=URL.createObjectURL(_),((e,t)=>new Promise((r,s)=>{t&&(e.src=t),e.complete?r(e):(e.addEventListener("load",()=>{r(e)}),e.addEventListener("error",()=>{s(Error("Failed to load image. Probably not an image."))}))}))(new Image,r));URL.revokeObjectURL(g.src);let b=await ((e,t)=>{if(.71*e.width*e.height*.71<t.size)throw Error("Not required");let r=e.width,s=r/e.height,n=Math.floor(Math.sqrt(t.size*s)),i=Math.floor(t.size/Math.sqrt(t.size*s));return T(n,i).then(()=>{let{ctx:t}=u();return"imageSmoothingQuality"in t&&!(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform))&&!P?(({img:e,targetW:t,targetH:r})=>C(e,t,r))({img:e,targetW:n,targetH:i}):(({img:e,sourceW:t,targetW:r,targetH:s,step:n})=>{let i=S({sourceW:t,targetW:r,targetH:s,step:n});return i.reduce((e,[t,r],s)=>e.then(e=>T(t,r).then(()=>C(e,t,r)).catch(()=>{if(s===i.length-1)throw Error("Not supported");return e})),Promise.resolve(e))})({img:e,sourceW:r,targetW:n,targetH:i,step:.71})}).catch(()=>Promise.reject("Not supported"))})(g,t),y="image/jpeg",w=t?.quality||.8;!o&&(e=>{let{ctx:t,canvas:r}=u();r.width=r.height=50,t.drawImage(e,0,0,50,50);let s=t.getImageData(0,0,50,50).data;r.width=r.height=1;for(let e=3;e<s.length;e+=4)if(s[e]<254)return!0;return!1})(b)&&(y="image/png",w=void 0);let A=await ((e,t,r)=>new Promise((s,n)=>{e.toBlob(e=>{if(!e)return void n("Failed to convert canvas to blob");s(e)},t,r),e.width=e.height=1}))(b,y,w);if(o&&"fulfilled"===d.status&&d.value){let e=d.value,t="fulfilled"===p.status&&p.value;A=await h(A,e,t)}return o&&"fulfilled"===f.status&&f.value.length>0&&(A=await a(A,f.value)),A}catch(t){let e;throw t instanceof Error&&(e=t.message),"string"==typeof t&&(e=t),Error(`Failed to shrink image. ${e?`Message: "${e}".`:""}`,{cause:t})}}},5109:(e,t,r)=>{r.d(t,{o:()=>a});let s={button:["toolbar"],checkbox:["toolbar"],menuitem:["menu","menubar"],option:["listbox"],tab:["tablist"]};function n(e,t){t.tabIndex=0,t.focus(),e.tabIndex=-1}function i(e){let t=e.role||e.type||e.tagName;if(!t)return null;let r=s[t.toLowerCase()];if(!r)return null;for(let t of r){let r=e.closest(`[role=${t}]`);if(r)return r}}function o(e,t){return"toolbar"===t.role?[...t.querySelectorAll("*")].filter(e=>"button"===e.role||"button"===e.type||"checkbox"===e.role||"checkbox"===e.type):t.querySelectorAll(`[role=${e.role}]`)}function a(e){return t=>{let r=!1,s=e?.searchDelayMs||300,a=0,l="";function u(e){let r=i(e.target);if(!r)return void c();let u=o(e.target,r),h=Array.from(u).indexOf(e.target),d="ArrowDown",p="ArrowUp";if(function(e){let t=e.getAttribute("aria-orientation");if("vertical"===t)return!1;if("horizontal"===t)return!0;let r=e.role;return"menubar"===r||"tablist"===r||"toolbar"===r}(r)&&("rtl"===t.document.dir?(d="ArrowLeft",p="ArrowRight"):(d="ArrowRight",p="ArrowLeft")),e.key===d)e.preventDefault(),n(e.target,u[h+1]||u[0]);else if(e.key===p)e.preventDefault(),n(e.target,u[h-1]||u[u.length-1]);else if("Home"===e.key)e.preventDefault(),n(e.target,u[0]);else if("End"===e.key)e.preventDefault(),n(e.target,u[u.length-1]);else if(1===e.key.length&&"tablist"!==r.role){let t=Date.now();t-a<=s?l+=e.key.toLowerCase():l=e.key.toLowerCase(),a=t;let r=Array.from(u).find(e=>e.textContent?.trim()?.toLowerCase()?.startsWith(l));r&&(e.preventDefault(),n(e.target,r))}}function c(){r=!1,t.removeEventListener("keydown",u)}function h(e){let s=i(e.target);if(s)for(let n of(r||(r=!0,t.addEventListener("keydown",u)),o(e.target,s)))n!==e.target&&n.setAttribute("tabindex",-1);else r&&c()}function d(e){e.relatedTarget&&e.relatedTarget!==t.document||c()}function p(e){let t=i(e.target);if(t){for(let r of o(e.target,t))r!==e.target&&r.setAttribute("tabindex",-1);e.target.setAttribute("tabindex",0)}}return t.addEventListener("click",p),t.addEventListener("focusin",h),t.addEventListener("focusout",d),()=>{c(),t.removeEventListener("click",p),t.removeEventListener("focusin",h),t.removeEventListener("focusout",d)}}}},15648:(e,t,r)=>{r.d(t,{A:()=>s});function s(e){let t,r,s=e.split(" ");function n(e){"Enter"===e.key&&("BUTTON"===e.target.tagName||"A"===e.target.tagName)&&(i(),e.target.classList.add(...s),t=e.target,r=e.target)}function i(){t&&t.classList.remove(...s),r=null}function o(e){0===e.clientX&&0===e.clientY&&r!==e.target&&(i(),e.target.classList.add(...s),t=e.target)}return e=>(e.addEventListener("click",o),e.addEventListener("keydown",n),e.addEventListener("keyup",i),()=>{e.removeEventListener("click",o),e.removeEventListener("keydown",n),e.removeEventListener("keyup",i)})}},18582:(e,t,r)=>{r.d(t,{$G:()=>b,B_:()=>i,V0:()=>u,ZM:()=>w,vt:()=>function e(t={tag:"div"}){let r=document.createElement(t.tag);if(t.attributes&&function(e,t){for(let r in t)t[r].constructor===Boolean?t[r]?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,t[r])}(r,t.attributes),t.styles&&w(r,t.styles),t.properties)for(let e in t.properties)r[e]=t.properties[e];return t.processors&&t.processors.forEach(e=>{e(r)}),t.children&&t.children.forEach(t=>{let s=e(t);r.appendChild(s)}),r}});var s=Object.defineProperty,n=(e,t,r)=>(((e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),r),i=class{constructor(e){e.constructor===Object?this.store=function(e){let t=e=>{var r;for(let s in e)(null==(r=e[s])?void 0:r.constructor)===Object&&(e[s]=t(e[s]));return{...e}};return t(e)}(e):(this._storeIsProxy=!0,this.store=e),this.callbackMap=Object.create(null)}static warn(e,t){console.warn(`Symbiote Data: cannot ${e}. Prop name: `+t)}read(e){return this._storeIsProxy||this.store.hasOwnProperty(e)?this.store[e]:(i.warn("read",e),null)}has(e){return this._storeIsProxy?void 0!==this.store[e]:this.store.hasOwnProperty(e)}add(e,t,r=!1){!r&&Object.keys(this.store).includes(e)||(this.store[e]=t,this.notify(e))}pub(e,t){if(!this._storeIsProxy&&!this.store.hasOwnProperty(e))return void i.warn("publish",e);this.store[e]=t,this.notify(e)}multiPub(e){for(let t in e)this.pub(t,e[t])}notify(e){this.callbackMap[e]&&this.callbackMap[e].forEach(t=>{t(this.store[e])})}sub(e,t,r=!0){return this._storeIsProxy||this.store.hasOwnProperty(e)?(this.callbackMap[e]||(this.callbackMap[e]=new Set),this.callbackMap[e].add(t),r&&t(this.store[e]),{remove:()=>{this.callbackMap[e].delete(t),this.callbackMap[e].size||delete this.callbackMap[e]},callback:t}):(i.warn("subscribe",e),null)}static registerCtx(e,t=Symbol()){let r=i.globalStore.get(t);return r?console.warn('State: context UID "'+t+'" already in use'):(r=new i(e),i.globalStore.set(t,r)),r}static deleteCtx(e){i.globalStore.delete(e)}static getCtx(e,t=!0){return i.globalStore.get(e)||(t&&console.warn('State: wrong context UID - "'+e+'"'),null)}};i.globalStore=new Map;var o=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),a="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",l=a.length-1,u=class{static generate(e="XXXXXXXXX-XXX"){let t="";for(let r=0;r<e.length;r++)t+="-"===e[r]?e[r]:a.charAt(Math.random()*l);return t}};function c(e,t,r){let s,n=!0,i=t.split(".");return i.forEach((t,r)=>{r<i.length-1?e=e[t]:s=t}),e?e[s]=r:n=!1,n}var h="__default__",d=[function(e,t){[...e.querySelectorAll(`[${o.REPEAT_ATTR}]`)].forEach(e=>{let r,s=e.getAttribute(o.REPEAT_ITEM_TAG_ATTR);if(s&&(r=window.customElements.get(s)),!r){r=class extends t.BaseComponent{constructor(){super(),s||(this.style.display="contents")}};let n=e.innerHTML;r.template=n,r.reg(s)}for(;e.firstChild;)e.firstChild.remove();let n=e.getAttribute(o.REPEAT_ATTR);t.sub(n,t=>{let s;if(!t){for(;e.firstChild;)e.firstChild.remove();return}let n=[...e.children],i=t=>{for(let i of(t.forEach((e,t)=>{if(n[t])if(n[t].set$)setTimeout(()=>{n[t].set$(e)});else for(let r in e)n[t][r]=e[r];else{s||(s=new DocumentFragment);let t=new r;Object.assign(t.init$,e),s.appendChild(t)}}),s&&e.appendChild(s),n.slice(t.length,n.length)))i.remove()};if(t.constructor===Array)i(t);else if(t.constructor===Object){let e=[];for(let r in t){let s=t[r];Object.defineProperty(s,"_KEY_",{value:r,enumerable:!0}),e.push(s)}i(e)}else console.warn("Symbiote repeat data type error:"),console.log(t)}),e.removeAttribute(o.REPEAT_ATTR),e.removeAttribute(o.REPEAT_ITEM_TAG_ATTR)})},function(e,t){if(t.shadowRoot)return;let r=[...e.querySelectorAll("slot")];if(!r.length)return;let s={};r.forEach(e=>{s[e.getAttribute("name")||h]={slot:e,fr:document.createDocumentFragment()}}),t.initChildren.forEach(e=>{var t;let r=h;e instanceof Element&&e.hasAttribute("slot")&&(r=e.getAttribute("slot"),e.removeAttribute("slot")),null==(t=s[r])||t.fr.appendChild(e)}),Object.values(s).forEach(e=>{if(e.fr.childNodes.length)e.slot.parentNode.replaceChild(e.fr,e.slot);else if(e.slot.childNodes.length){let t=document.createDocumentFragment();t.append(...e.slot.childNodes),e.slot.parentNode.replaceChild(t,e.slot)}else e.slot.remove()})},function(e,t){[...e.querySelectorAll(`[${o.EL_REF_ATTR}]`)].forEach(e=>{let r=e.getAttribute(o.EL_REF_ATTR);t.ref[r]=e,e.removeAttribute(o.EL_REF_ATTR)})},function(e,t){[...e.querySelectorAll(`[${o.BIND_ATTR}]`)].forEach(e=>{let r=e.getAttribute(o.BIND_ATTR).split(";");[...e.attributes].forEach(t=>{if(t.name.startsWith("-")&&t.value){let s=t.name.replace("-","").split("-").map((e,t)=>e&&t?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,t)=>e&&t?e.toUpperCase():e).join("");r.push(s+":"+t.value),e.removeAttribute(t.name)}}),r.forEach(r=>{let s;if(!r)return;let n=r.split(":").map(e=>e.trim()),i=n[0];for(let r of(0===i.indexOf(o.ATTR_BIND_PRFX)&&(s=!0,i=i.replace(o.ATTR_BIND_PRFX,"")),n[1].split(",").map(e=>e.trim()))){let n;r.startsWith("!!")?(n="double",r=r.replace("!!","")):r.startsWith("!")&&(n="single",r=r.replace("!","")),t.sub(r,t=>{"double"===n?t=!!t:"single"===n&&(t=!t),s?(null==t?void 0:t.constructor)===Boolean?t?e.setAttribute(i,""):e.removeAttribute(i):e.setAttribute(i,t):c(e,i,t)||(e[o.SET_LATER_KEY]||(e[o.SET_LATER_KEY]=Object.create(null)),e[o.SET_LATER_KEY][i]=t)})}}),e.removeAttribute(o.BIND_ATTR)})},function(e,t){(function(e){let t,r=[],s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>{var t;return!(null==(t=e.parentElement)?void 0:t.hasAttribute("skip-text"))&&e.textContent.includes("{{")&&e.textContent.includes("}}")&&1}});for(;t=s.nextNode();)r.push(t);return r})(e).forEach(e=>{let r,s=[];for(;e.textContent.includes("}}");)e.textContent.startsWith("{{")?(r=e.textContent.indexOf("}}")+2,e.splitText(r),s.push(e)):(r=e.textContent.indexOf("{{"),e.splitText(r)),e=e.nextSibling;s.forEach(e=>{let r=e.textContent.replace("{{","").replace("}}","");e.textContent="",t.sub(r,t=>{e.textContent=t})})})}],p=/\\([0-9a-fA-F]{1,6} ?)/g,f=0,m=null,_=null,g=class extends HTMLElement{constructor(){super(),n(this,"updateCssData",()=>{var e;this.dropCssDataCache(),null==(e=this.__boundCssProps)||e.forEach(e=>{let t=this.getCssData(this.__extractCssName(e),!0);null!==t&&this.$[e]!==t&&(this.$[e]=t)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return g}initCallback(){}__initCallback(){var e;this.__initialized||(this.__initialized=!0,null==(e=this.initCallback)||e.call(this))}render(e,t=this.renderShadow){let r;if((t||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let t=this.getAttribute(o.USE_TPL);if(t){let r=this.getRootNode(),s=(null==r?void 0:r.querySelector(t))||document.querySelector(t);s?e=s.content.cloneNode(!0):console.warn(`Symbiote template "${t}" is not found...`)}}if(this.processInnerHtml)for(let e of this.tplProcessors)e(this,this);if(e||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(null==e?void 0:e.constructor)===DocumentFragment)r=e;else if((null==e?void 0:e.constructor)===String){let t=document.createElement("template");t.innerHTML=e,r=t.content.cloneNode(!0)}else this.constructor.__tpl&&(r=this.constructor.__tpl.content.cloneNode(!0));for(let e of this.tplProcessors)e(r,this)}let s=()=>{r&&(t&&this.shadowRoot.appendChild(r)||this.appendChild(r)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){t=!0;let e=document.createElement("link");e.rel="stylesheet",e.href=this.constructor.__shadowStylesUrl,e.onload=s,this.shadowRoot.prepend(e)}else s()}addTemplateProcessor(e){this.tplProcessors.add(e)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=u.generate(),this.style.setProperty(o.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(o.CSS_CTX_PROP,!0)}get ctxName(){var e;let t=(null==(e=this.getAttribute(o.CTX_NAME_ATTR))?void 0:e.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=t,t}get localCtx(){return this.__localCtx||(this.__localCtx=i.registerCtx({},this)),this.__localCtx}get nodeCtx(){return i.getCtx(this.ctxName,!1)||i.registerCtx({},this.ctxName)}static __parseProp(e,t){let r,s;if(e.startsWith(o.EXT_DATA_CTX_PRFX))r=t.nodeCtx,s=e.replace(o.EXT_DATA_CTX_PRFX,"");else if(e.includes(o.NAMED_DATA_CTX_SPLTR)){let t=e.split(o.NAMED_DATA_CTX_SPLTR);r=i.getCtx(t[0]),s=t[1]}else r=t.localCtx,s=e;return{ctx:r,name:s}}sub(e,t,r=!0){let s=e=>{this.isConnected&&t(e)},n=g.__parseProp(e,this);n.ctx.has(n.name)?this.allSubs.add(n.ctx.sub(n.name,s,r)):window.setTimeout(()=>{this.allSubs.add(n.ctx.sub(n.name,s,r))})}notify(e){let t=g.__parseProp(e,this);t.ctx.notify(t.name)}has(e){let t=g.__parseProp(e,this);return t.ctx.has(t.name)}add(e,t,r=!1){let s=g.__parseProp(e,this);s.ctx.add(s.name,t,r)}add$(e,t=!1){for(let r in e)this.add(r,e[r],t)}get $(){if(!this.__stateProxy){let e=Object.create(null);this.__stateProxy=new Proxy(e,{set:(e,t,r)=>{let s=g.__parseProp(t,this);return s.ctx.pub(s.name,r),!0},get:(e,t)=>{let r=g.__parseProp(t,this);return r.ctx.read(r.name)}})}return this.__stateProxy}set$(e,t=!1){for(let r in e){let s=e[r],n=[String,Number,Boolean];t||!n.includes(null==s?void 0:s.constructor)?this.$[r]=s:this.$[r]!==s&&(this.$[r]=s)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(o.CTX_OWNER_ATTR)&&"false"!==this.getAttribute(o.CTX_OWNER_ATTR)}__initDataCtx(){let e=this.constructor.__attrDesc;if(e)for(let t of Object.values(e))Object.keys(this.init$).includes(t)||(this.init$[t]="");for(let e in this.init$)if(e.startsWith(o.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(o.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(o.NAMED_DATA_CTX_SPLTR)){let t=e.split(o.NAMED_DATA_CTX_SPLTR),r=t[0].trim(),s=t[1].trim();if(r&&s){let t=i.getCtx(r,!1);t||(t=i.registerCtx({},r)),t.add(s,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var e;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let t=null==(e=this.getAttribute(o.CTX_NAME_ATTR))?void 0:e.trim();if(t&&this.style.setProperty(o.CSS_CTX_PROP,`'${t}'`),this.__initDataCtx(),this[o.SET_LATER_KEY]){for(let e in this[o.SET_LATER_KEY])c(this,e,this[o.SET_LATER_KEY][e]);delete this[o.SET_LATER_KEY]}for(let e of(this.initChildren=[...this.childNodes],d))this.addTemplateProcessor(e);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let e=this.getRootNode();if(!e)return;if(null==e?void 0:e.querySelector(`link[${o.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`))return void this.render();let t=this.constructor.__rootStylesLink.cloneNode(!0);t.setAttribute(o.ROOT_STYLE_ATTR_NAME,this.constructor.is),t.onload=()=>{this.render()},e.nodeType===Node.DOCUMENT_NODE?e.head.appendChild(t):e.prepend(t)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){this.connectedOnce&&(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{for(let e of(this.destroyCallback(),this.allSubs))e.remove(),this.allSubs.delete(e);for(let e of this.tplProcessors)this.tplProcessors.delete(e);null==_||_.delete(this.updateCssData),(null==_?void 0:_.size)||(null==m||m.disconnect(),m=null,_=null)},100)))}static reg(e,t=!1){e||(f++,e=`${o.AUTO_TAG_PRFX}-${f}`),this.__tag=e;let r=window.customElements.get(e);if(r){t||r===this||console.warn(`Element with tag name "${e}" already registered.
You're trying to override it with another class "${this.name}".
This is most likely a mistake.
New element will not be registered.`);return}window.customElements.define(e,t?class extends this{}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(e){this.observedAttributes=Object.keys(e),this.__attrDesc=e}attributeChangedCallback(e,t,r){var s;if(t===r)return;let n=null==(s=this.constructor.__attrDesc)?void 0:s[e];n?this.__dataCtxInitialized?this.$[n]=r:this.init$[n]=r:this[e]=r}getCssData(e,t=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(e)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let r=this.__computedStyle.getPropertyValue(e).trim();try{this.__cssDataCache[e]=function(e){var t;let r=e;('"'===e[0]||"'"===e[0])&&('"'===e[e.length-1]||"'"===e[e.length-1])&&(('"'===(t=r)[0]||"'"===t[0])&&(t=t.slice(1)),('"'===t[t.length-1]||"'"===t[t.length-1])&&(t=t.slice(0,-1)),r='"'+(r=function(e){let t="",r="";for(var s=0;s<e.length;s++){let n=e[s+1];"\\"===e[s]&&'"'===n?(t+='\\"',s++):'"'===e[s]&&"\\"!==r?t+='\\"':t+=e[s],r=e[s]}return t}(r=(r=(r=t).replace(p,(e,t)=>String.fromCodePoint(parseInt(t.trim(),16)))).replaceAll("\\\n","\\n")))+'"');try{return JSON.parse(r)}catch(t){throw Error(`Failed to parse CSS property value: ${r}. Original input: ${e}`)}}(r)}catch(r){t||console.warn(`CSS Data error: ${e}`),this.__cssDataCache[e]=null}}return this.__cssDataCache[e]}__extractCssName(e){return e.split("--").map((e,t)=>0===t?"":e).join("--")}__initStyleAttrObserver(){_||(_=new Set),_.add(this.updateCssData),m||(m=new MutationObserver(e=>{"attributes"===e[0].type&&_.forEach(e=>{e()})})).observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]})}bindCssData(e,t=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(e);let r=this.getCssData(this.__extractCssName(e),!0);null===r&&(r=t),this.add(e,r),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(e,t,r){let s="__"+e;this[s]=this[e],Object.defineProperty(this,e,{set:e=>{this[s]=e,r?window.setTimeout(()=>{null==t||t(e)}):null==t||t(e)},get:()=>this[s]}),this[e]=this[s]}static set shadowStyles(e){let t=new Blob([e],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(t)}static set rootStyles(e){if(!this.__rootStylesLink){let t=new Blob([e],{type:"text/css"}),r=URL.createObjectURL(t),s=document.createElement("link");s.href=r,s.rel="stylesheet",this.__rootStylesLink=s}}},b=g;n(b,"template");var y=class{static _print(e){console.warn(e)}static setDefaultTitle(e){this.defaultTitle=e}static setRoutingMap(e){for(let t in Object.assign(this.appMap,e),this.appMap)this.defaultRoute||!0!==this.appMap[t].default?this.errorRoute||!0!==this.appMap[t].error||(this.errorRoute=t):this.defaultRoute=t}static set routingEventName(e){this.__routingEventName=e}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let e={route:null,options:{}};return window.location.search.split(this.separator).forEach(t=>{if(t.includes("?"))e.route=t.replace("?","");else if(t.includes("=")){let r=t.split("=");e.options[r[0]]=decodeURI(r[1])}else e.options[t]=!0}),e}static notify(){let e=this.readAddressBar(),t=this.appMap[e.route];if(t&&t.title&&(document.title=t.title),null===e.route&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!t&&this.errorRoute)return void this.applyRoute(this.errorRoute);if(!t&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!t)return void this._print(`Route "${e.route}" not found...`);let r=new CustomEvent(y.routingEventName,{detail:{route:e.route,options:Object.assign(t||{},e.options)}});window.dispatchEvent(r)}static reflect(e,t={}){let r=this.appMap[e];if(!r)return void this._print("Wrong route: "+e);let s="?"+e;for(let e in t)!0===t[e]?s+=this.separator+e:s+=this.separator+e+`=${t[e]}`;let n=r.title||this.defaultTitle||"";window.history.pushState(null,n,s),document.title=n}static applyRoute(e,t={}){this.reflect(e,t),this.notify()}static setSeparator(e){this._separator=e}static get separator(){return this._separator||"&"}static createRouterData(e,t){this.setRoutingMap(t);let r=i.registerCtx({route:null,options:null,title:null},e);return window.addEventListener(this.routingEventName,e=>{var t;r.multiPub({route:e.detail.route,options:e.detail.options,title:(null==(t=e.detail.options)?void 0:t.title)||this.defaultTitle||""})}),y.notify(),this.initPopstateListener(),r}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};function w(e,t){for(let r in t)r.includes("-")?e.style.setProperty(r,t[r]):e.style[r]=t[r]}y.appMap=Object.create(null);var A="idb-store-ready",v="symbiote-db",E=class{_notifyWhenReady(e=null){window.dispatchEvent(new CustomEvent(A,{detail:{dbName:this.name,storeName:this.storeName,event:e}}))}get _updEventName(){return"symbiote-idb-update_"+this.name}_getUpdateEvent(e){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:e}})}_notifySubscribers(e){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,e),window.dispatchEvent(this._getUpdateEvent(e))}constructor(e,t){this.name=e,this.storeName=t,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=e=>{this.db=e.target.result,this.objStore=this.db.createObjectStore(t,{keyPath:"_key"}),this.objStore.transaction.oncomplete=e=>{this._notifyWhenReady(e)}},this.request.onsuccess=e=>{this.db=e.target.result,this._notifyWhenReady(e)},this.request.onerror=e=>{console.error(e)},this._subscriptionsMap={},this._updateHandler=e=>{e.key===this.name&&this._subscriptionsMap[e.newValue]&&this._subscriptionsMap[e.newValue].forEach(async t=>{t(await this.read(e.newValue))})},this._localUpdateHandler=e=>{this._updateHandler(e.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(e){let t=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(e);return new Promise((r,s)=>{t.onsuccess=t=>{var s;(null==(s=t.target.result)?void 0:s._value)?r(t.target.result._value):(r(null),console.warn(`IDB: cannot read "${e}"`))},t.onerror=e=>{s(e)}})}write(e,t,r=!1){let s=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put({_key:e,_value:t});return new Promise((t,n)=>{s.onsuccess=s=>{r||this._notifySubscribers(e),t(s.target.result)},s.onerror=e=>{n(e)}})}delete(e,t=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);return new Promise((s,n)=>{r.onsuccess=r=>{t||this._notifySubscribers(e),s(r)},r.onerror=e=>{n(e)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((t,r)=>{e.onsuccess=e=>{t(e.target.result.map(e=>e._value))},e.onerror=e=>{r(e)}})}subscribe(e,t){this._subscriptionsMap[e]||(this._subscriptionsMap[e]=new Set);let r=this._subscriptionsMap[e];return r.add(t),{remove:()=>{r.delete(t),r.size||delete this._subscriptionsMap[e]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,T.clear(this.name)}},T=class{static get readyEventName(){return A}static open(e=v,t="store"){let r=e+"/"+t;return this._reg[r]||(this._reg[r]=new E(e,t)),this._reg[r]}static clear(e){for(let t in window.indexedDB.deleteDatabase(e),this._reg)t.split("/")[0]===e&&delete this._reg[t]}};n(T,"_reg",Object.create(null))},26029:(e,t,r)=>{r.d(t,{j:()=>s});function s(){return e=>{let t,r;function s(e){if("true"===e.target.getAttribute("aria-hidden")){(t=e.target).setAttribute("aria-hidden","false"),(r=t.hidden)&&(t.hidden=!1);let s=e.target.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');s&&(s.tabIndex=0)}}function n(e){t&&t.contains(e.target)&&(!e.relatedTarget||!t.contains(e.relatedTarget))&&(e.target.tabIndex=-1,t.setAttribute("aria-hidden","true"),r&&(t.hidden=!0),t=null)}return e.addEventListener("keyuxJump",s),e.addEventListener("focusout",n),()=>{e.removeEventListener("keyuxJump",s),e.removeEventListener("focusout",n)}}}},28382:(e,t,r)=>{r.d(t,{A:()=>p,C:()=>u,a:()=>d,b:()=>f,c:()=>l,g:()=>h,u:()=>c});var s=r(12115),n=r(45620);let i=new Set(["children","ref","style","className"]),o=new WeakMap,a=({node:e,nameProp:t,valueProp:r,prevValueProp:s,event:n})=>{if(void 0!==n){if(r!==s){let t=(e=>{let t=o.get(e);return void 0===t&&(t=new Map,o.set(e,t)),t})(e),s=t.has(n),i=t.get(n);void 0!==r?s?i.handleEvent=r:(i={handleEvent:r},t.set(n,i),e.addEventListener(n,e=>i.handleEvent(e.detail))):s&&(t.delete(n),e.removeEventListener(n,i))}return}e[t]=r,null==r&&t in HTMLElement.prototype&&e.removeAttribute(t)},l=({react:e,tag:t,elClass:r,schemaEvents:s})=>{let n=((e={})=>null==Object?void 0:Object.keys(e).reduce((t,r)=>{var s,n;let i=null==e?void 0:e[r];return t[`on${null==(n=null==(s=null==i?void 0:i.split("-"))?void 0:s.map(e=>e.charAt(0).toUpperCase()+e.slice(1)))?void 0:n.join("")}`]=i,t},{}))(s),o=new Set(Object.keys(n??{})),l=e.forwardRef((s,l)=>{let u=e.useRef(new Map),c=e.useRef(null),{reactProps:h,customElProps:d}=((e,t,r)=>{let s={},n={};return Object.entries(e).forEach(([e,o])=>{i.has(e)?s["className"===e?"class":e]=o:t.has(e)||e in r.prototype?n[e]=o:s[e]=o}),{reactProps:s,customElProps:n}})(s,o,r);return e.useLayoutEffect(()=>{if(null===c.current)return;let e=new Map;for(let t in d)a({node:c.current,nameProp:t,valueProp:d[t],prevValueProp:u.current.get(t),event:n[t]}),u.current.delete(t),e.set(t,s[t]);for(let[e,t]of u.current)a({node:c.current,nameProp:e,valueProp:void 0,prevValueProp:t,event:n[e]});u.current=e}),e.createElement(t??r.__tag,{...h,ref:e.useCallback(e=>{c.current=e,"function"==typeof l?l(e):null!==l&&(l.current=e)},[l])})});return l.displayName=r.name,l},u=({children:e})=>e,c=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{"u">typeof window&&t(!0)},[]),e},h=e=>{let t={},r={},s={};for(let[n,i]of Object.entries(e)){if(n.startsWith("on")){t[n]=i;continue}if("headless"===n){s[n]=i;continue}r[n]=i}return{eventHandlers:t,uploader:s,config:r}},d=()=>"React-Uploader/1.11.0",p=l({react:s,tag:"uc-config",elClass:n.Config}),f=l({react:s,tag:"uc-upload-ctx-provider",elClass:n.UploadCtxProvider,schemaEvents:n.UploadCtxProvider.EventType})},49984:(e,t,r)=>{r.d(t,{k:()=>o});var s=r(55972);let n=async e=>{let t=new TextEncoder().encode(e),r=Array.from(new Uint8Array(await window.crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("");return BigInt(`0x${r}`)},i=async e=>{let t=await n(e);return(0,s.b)(t).slice(0,10)},o=async(e,t)=>{let r=await i(e);return(0,s.a)(r,t)}},55659:(e,t,r)=>{function s(e){return"[object Object]"===Object.prototype.toString.call(e)}r.d(t,{$t:()=>a,Be:()=>u,Dr:()=>c,Lw:()=>O,QM:()=>Y,fB:()=>G,oW:()=>T,op:()=>V,p3:()=>d});let n=/\W|_/g;function i(e,{ignoreKeys:t}={ignoreKeys:[]}){return Array.isArray(e)?e.map(e=>o(e,{ignoreKeys:t})):e}function o(e,{ignoreKeys:t}={ignoreKeys:[]}){if(Array.isArray(e))return i(e,{ignoreKeys:t});if(!s(e))return e;let r={};for(let a of Object.keys(e)){let l=e[a];if(t.includes(a)){r[a]=l;continue}s(l)?l=o(l,{ignoreKeys:t}):Array.isArray(l)&&(l=i(l,{ignoreKeys:t})),r[a.split(n).map((e,t)=>e.charAt(0)[t>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")]=l}return r}function a({libraryName:e,libraryVersion:t,userAgent:r,publicKey:s="",integration:n=""}){let i="JavaScript";if("string"==typeof r)return r;if("function"==typeof r)return r({publicKey:s,libraryName:e,libraryVersion:t,languageName:i,integration:n});let o=[e,t,s].filter(Boolean).join("/"),a=[i,n].filter(Boolean).join("; ");return`${o} (${a})`}let l={factor:2,time:100};class u extends Error{}class c extends u{originalProgressEvent;constructor(e){super(),this.name="NetworkError",this.message="Network error",Object.setPrototypeOf(this,c.prototype),this.originalProgressEvent=e}}let h=(e,t)=>{e&&(e.aborted?Promise.resolve().then(t):e.addEventListener("abort",()=>t(),{once:!0}))};class d extends u{isCancel=!0;constructor(e="Request canceled"){super(e),this.name="CancelError",Object.setPrototypeOf(this,d.prototype)}}let p=500,f=({check:e,interval:t=p,timeout:r,signal:s})=>new Promise((n,i)=>{let o,a;h(s,()=>{o&&clearTimeout(o),i(new d("Poll cancelled"))}),r&&(a=setTimeout(()=>{o&&clearTimeout(o),i(new d("Timed out"))},r));let l=()=>{try{Promise.resolve(e(s)).then(e=>{e?(a&&clearTimeout(a),n(e)):o=setTimeout(l,t)}).catch(e=>{a&&clearTimeout(a),i(e)})}catch(e){a&&clearTimeout(a),i(e)}};o=setTimeout(l,0)}),m={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",retryThrottledRequestMaxTimes:1,retryNetworkErrorMaxTimes:3,multipartMinFileSize:0x1900000,multipartChunkSize:5242880,maxConcurrentRequests:4,pusherKey:"79ae88bd931ea68464d9"},_="application/octet-stream",g="original",b=({method:e,url:t,data:r,headers:s={},signal:n,onProgress:i})=>new Promise((o,a)=>{let l=new XMLHttpRequest,u=e?.toUpperCase()||"GET",p=!1;l.open(u,t,!0),s&&Object.entries(s).forEach(e=>{let[t,r]=e;void 0===r||Array.isArray(r)||l.setRequestHeader(t,r)}),l.responseType="text",h(n,()=>{p=!0,l.abort(),a(new d)}),l.onload=()=>{if(200!=l.status)a(Error(`Error ${l.status}: ${l.statusText}`));else{let e=l.getAllResponseHeaders().trim().split(/[\r\n]+/),a={};e.forEach(function(e){let t=e.split(": "),r=t.shift(),s=t.join(": ");r&&void 0!==r&&(a[r]=s)}),o({request:{method:u,url:t,data:r,headers:s||void 0,signal:n,onProgress:i},data:l.response,headers:a,status:l.status})}},l.onerror=e=>{p||a(new c(e))},i&&"function"==typeof i&&(l.upload.onprogress=e=>{e.lengthComputable?i({isComputable:!0,value:e.loaded/e.total}):i({isComputable:!1})}),r?l.send(r):l.send()}),y=e=>"undefined"!=typeof Blob&&e instanceof Blob,w=e=>"undefined"!=typeof File&&e instanceof File,A=e=>!!e&&"object"==typeof e&&!Array.isArray(e)&&"uri"in e&&"string"==typeof e.uri,v=e=>y(e)||w(e)||A(e);function E(e){let t=new FormData;for(let r of function(e){let t=[];for(let[r,s]of Object.entries(e))!function e(t,r,s){if(Array.isArray(s))for(let n of s)e(t,`${r}[]`,n);else if(s&&"object"==typeof s&&"data"in s&&v(s.data)){var n;let{name:e,contentType:i}=s,o=(n=s.data,i??_,n),a=(({name:e})=>e?[e]:[])({name:e,contentType:i});t.push([r,o,...a])}else if(!s||"object"!=typeof s||Array.isArray(s))("string"==typeof s||"number"==typeof s||void 0===s)&&s&&t.push([r,s.toString()]);else for(let[e,n]of Object.entries(s))void 0!==n&&t.push([`${r}[${e}]`,String(n)])}(t,r,s);return t}(e)){let[e,s,...n]=r;t.append(e,s,...n)}return t}class T extends u{code;request;response;headers;constructor(e,t,r,s,n){super(),this.name="UploadError",this.message=e,this.code=t,this.request=r,this.response=s,this.headers=n,Object.setPrototypeOf(this,T.prototype)}}let C=(e,t,r)=>{let s=new URL(e);return s.pathname=(s.pathname+t).replace("//","/"),r&&(s.search=(e=>{let t=new URLSearchParams;for(let[r,s]of Object.entries(e))s&&"object"==typeof s&&!Array.isArray(s)?Object.entries(s).filter(e=>e[1]??!1).forEach(e=>t.set(`${r}[${e[0]}]`,String(e[1]))):Array.isArray(s)?s.forEach(e=>{t.append(`${r}[]`,e)}):"string"==typeof s&&s?t.set(r,s):"number"==typeof s&&t.set(r,s.toString());return t.toString()})(r)),s.toString()};function S(e){return a({libraryName:"UploadcareUploadClient",libraryVersion:"6.18.2",...e})}function P(e,t){let{retryThrottledRequestMaxTimes:r,retryNetworkErrorMaxTimes:s}=t;return function(e,t=l){let r=0;return function e(s){let n=Math.round(t.time*t.factor**r);return s({attempt:r,retry:t=>{let i;return(i=t??n,new Promise(e=>setTimeout(e,i))).then(()=>(r+=1,e(s)))}})}(e)}(({attempt:t,retry:n})=>e().catch(e=>{if("response"in e&&e?.code==="RequestThrottledError"&&t<r)return n(function(e){let{headers:t}=e||{};if(!t||"string"!=typeof t["retry-after"])return 15e3;let r=parseInt(t["retry-after"],10);return Number.isFinite(r)?1e3*r:15e3}(e));if(e instanceof c&&t<s)return n((t+1)*1e3);throw e}))}let R=e=>{let t="";return(y(e)||w(e)||A(e))&&(t=e.type),t||_},x=e=>{let t="";return w(e)&&e.name?t=e.name:y(e)?t="":A(e)&&e.name&&(t=e.name),t||g};function k(e){return void 0===e||"auto"===e?"auto":e?"1":"0"}function N(e,{publicKey:t,baseURL:r=m.baseURL,signal:s,source:n,integration:i,userAgent:a,retryThrottledRequestMaxTimes:l=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:u=m.retryNetworkErrorMaxTimes}){return P(()=>b({method:"GET",headers:{"X-UC-User-Agent":S({publicKey:t,integration:i,userAgent:a})},url:C(r,"/info/",{jsonerrors:1,pub_key:t,file_id:e,source:n}),signal:s}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:u})}function L(e,{publicKey:t,baseURL:r,source:s,integration:n,userAgent:i,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a,signal:l,onProgress:u}){return f({check:l=>N(e,{publicKey:t,baseURL:r,signal:l,source:s,integration:n,userAgent:i,retryThrottledRequestMaxTimes:o,retryNetworkErrorMaxTimes:a}).then(e=>e.isReady?e:(u&&u({isComputable:!0,value:1}),!1)),signal:l})}!function(e){e.Token="token",e.FileInfo="file_info"}(U||(U={})),!function(e){e.Unknown="unknown",e.Waiting="waiting",e.Progress="progress",e.Error="error",e.Success="success"}(j||(j={}));class O{uuid;name;size;isStored;isImage;mimeType;cdnUrl;s3Url;originalFilename;imageInfo;videoInfo;contentInfo;metadata;s3Bucket;defaultEffects=null;constructor(e,{baseCDN:t=m.baseCDN,fileName:r}={}){let{uuid:s,s3Bucket:n}=e,i=C(t,`${s}/`),o=n?C(`https://${n}.s3.amazonaws.com/`,`${s}/${e.filename}`):null;this.uuid=s,this.name=r||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=i,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=n||null,this.s3Url=o,"defaultEffects"in e&&(this.defaultEffects=e.defaultEffects)}}var U,j,M=window.WebSocket;class D{events=Object.create({});emit(e,t){this.events[e]?.forEach(e=>e(t))}on(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){t?this.events[e]=this.events[e].filter(e=>e!==t):this.events[e]=[]}}class ${key;disconnectTime;ws=void 0;queue=[];isConnected=!1;subscribers=0;emmitter=new D;disconnectTimeoutId=null;constructor(e,t=3e4){this.key=e,this.disconnectTime=t}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){let e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new M(e),this.ws.addEventListener("error",e=>{this.emmitter.emit("error",Error(e.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(e=>this.send(e.event,e.data)),this.queue=[]}),this.ws.addEventListener("message",e=>{let t=JSON.parse(e.data.toString());switch(t.event){case"pusher:connection_established":this.emmitter.emit("connected",void 0);break;case"pusher:ping":this.send("pusher:pong",{});break;case"progress":case"success":case"fail":var r,s;this.emmitter.emit(t.channel,(r=t.event,s=JSON.parse(t.data),"success"===r?{status:j.Success,...s}:"progress"===r?{status:j.Progress,...s}:{status:j.Error,...s}))}})}}disconnect(){let e=()=>{this.ws?.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,t){let r=JSON.stringify({event:e,data:t});this.ws?.send(r)}subscribe(e,t){this.subscribers+=1,this.connect();let r=`task-status-${e}`,s={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,t),this.isConnected?this.send(s.event,s.data):this.queue.push(s)}unsubscribe(e){this.subscribers-=1;let t=`task-status-${e}`;this.emmitter.off(t),this.isConnected?this.send("pusher:unsubscribe",{channel:t}):this.queue=this.queue.filter(e=>e.data.channel!==t),0===this.subscribers&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let I=null,X=e=>(I||(I=new $(e,3e4*("undefined"!=typeof window))),I),B=new WeakMap,q=async e=>{if(B.has(e))return B.get(e);let t=await fetch(e.uri).then(e=>e.blob());return B.set(e,t),t},F=async e=>{if(w(e)||y(e))return e.size;if(A(e))return(await q(e)).size;throw Error("Unknown file type. Cannot determine file size.")},z=e=>!v(e)&&/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/.test(e),W=e=>{let t=RegExp("^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$");return!v(e)&&t.test(e)},H=async(e,t,r)=>s=>((e,t,r,s)=>{let n=s*t,i=Math.min(n+s,r);return e.slice(n,i)})(e,s,t,r),J=async(e,{publicKey:t,fileName:r,fileSize:s,baseURL:n,secureSignature:i,secureExpire:a,store:l,signal:u,onProgress:c,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y,contentType:w,multipartChunkSize:A=m.multipartChunkSize,maxConcurrentRequests:v=m.maxConcurrentRequests,baseCDN:N,metadata:U})=>{let j,M=s??await F(e);return(function(e,{publicKey:t,contentType:r,fileName:s,multipartChunkSize:n=m.multipartChunkSize,baseURL:i="",secureSignature:a,secureExpire:l,store:u,signal:c,source:h="local",integration:d,userAgent:p,retryThrottledRequestMaxTimes:f=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:y=m.retryNetworkErrorMaxTimes,metadata:w}){return P(()=>b({method:"POST",url:C(i,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":S({publicKey:t,integration:d,userAgent:p})},data:E({filename:s||g,size:e,content_type:r||_,part_size:n,UPLOADCARE_STORE:k(u),UPLOADCARE_PUB_KEY:t,signature:a,expire:l,source:h,metadata:w}),signal:c}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s.parts=Object.keys(s.parts).map(e=>s.parts[Number(e)]),s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y})})(M,{publicKey:t,contentType:w||=R(e),fileName:r||x(e),baseURL:n,secureSignature:i,secureExpire:a,store:l,signal:u,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y,metadata:U,multipartChunkSize:A}).then(async({uuid:r,parts:s})=>{let n=await H(e,M,A);return Promise.all([r,((e,t)=>new Promise((r,s)=>{let n=[],i=!1,o=t.length,a=[...t],l=()=>{let e=t.length-a.length,u=a.shift();u&&u().then(t=>{i||(n[e]=t,(o-=1)?l():r(n))}).catch(e=>{i=!0,s(e)})};for(let t=0;t<e;t++)l()}))(v,s.map((e,r)=>()=>((e,t,{publicKey:r,contentType:s,onProgress:n,signal:i,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l})=>(function(e,t,{contentType:r,signal:s,onProgress:n,retryThrottledRequestMaxTimes:i=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:o=m.retryNetworkErrorMaxTimes}){return P(()=>b({method:"PUT",url:t,data:e,onProgress:n,signal:s,headers:{"Content-Type":r||_}}).then(e=>(n&&n({isComputable:!0,value:1}),e)).then(({status:e})=>({code:e})),{retryThrottledRequestMaxTimes:i,retryNetworkErrorMaxTimes:o})})(e,t,{publicKey:r,contentType:s,onProgress:n,signal:i,integration:o,retryThrottledRequestMaxTimes:a,retryNetworkErrorMaxTimes:l}))(n(r),e,{publicKey:t,contentType:w,onProgress:((e,t)=>c?(j||(j=Array(e).fill(0)),r=>{r.isComputable&&(j[t]=r.value,c({isComputable:!0,value:j.reduce((e,t)=>e+t,0)/e}))}):void 0)(s.length,r),signal:u,integration:d,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y})))])}).then(([e])=>(function(e,{publicKey:t,baseURL:r=m.baseURL,source:s="local",signal:n,integration:i,userAgent:a,retryThrottledRequestMaxTimes:l=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:u=m.retryNetworkErrorMaxTimes}){return P(()=>b({method:"POST",url:C(r,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":S({publicKey:t,integration:i,userAgent:a})},data:E({uuid:e,UPLOADCARE_PUB_KEY:t,source:s}),signal:n}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryThrottledRequestMaxTimes:l,retryNetworkErrorMaxTimes:u})})(e,{publicKey:t,baseURL:n,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y})).then(e=>e.isReady?e:L(e.uuid,{publicKey:t,baseURL:n,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:y,onProgress:c,signal:u})).then(e=>new O(e,{baseCDN:N}))};async function Y(e,{publicKey:t,fileName:r,baseURL:s=m.baseURL,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u,source:c,integration:p,userAgent:_,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,contentType:w,multipartMinFileSize:A,multipartChunkSize:M,maxConcurrentRequests:D,baseCDN:$=m.baseCDN,checkForUrlDuplicates:I,saveUrlForRecurrentUploads:B,pusherKey:q,metadata:H}){if(v(e)){let h=await F(e);return((e,t=m.multipartMinFileSize)=>e>=t)(h,A)?J(e,{publicKey:t,contentType:w,multipartChunkSize:M,fileSize:h,fileName:r,baseURL:s,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u,source:c,integration:p,userAgent:_,maxConcurrentRequests:D,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,baseCDN:$,metadata:H}):((e,{publicKey:t,fileName:r,baseURL:s,secureSignature:n,secureExpire:i,store:a,contentType:l,signal:u,onProgress:c,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:_,baseCDN:g,metadata:y})=>(function(e,{publicKey:t,fileName:r,contentType:s,baseURL:n=m.baseURL,secureSignature:i,secureExpire:a,store:l,signal:u,onProgress:c,source:h="local",integration:d,userAgent:p,retryThrottledRequestMaxTimes:f=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:_=m.retryNetworkErrorMaxTimes,metadata:g}){return P(()=>b({method:"POST",url:C(n,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":S({publicKey:t,integration:d,userAgent:p})},data:E({file:{data:e,name:r||x(e),contentType:s||R(e)},UPLOADCARE_PUB_KEY:t,UPLOADCARE_STORE:k(l),signature:i,expire:a,source:h,metadata:g}),signal:u,onProgress:c}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryNetworkErrorMaxTimes:_,retryThrottledRequestMaxTimes:f})})(e,{publicKey:t,fileName:r,contentType:l,baseURL:s,secureSignature:n,secureExpire:i,store:a,signal:u,onProgress:c,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:_,metadata:y}).then(({file:e})=>L(e,{publicKey:t,baseURL:s,source:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f,retryNetworkErrorMaxTimes:_,onProgress:c,signal:u})).then(e=>new O(e,{baseCDN:g})))(e,{publicKey:t,fileName:r,contentType:w,baseURL:s,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u,source:c,integration:p,userAgent:_,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,baseCDN:$,metadata:H})}if(W(e))return((e,{publicKey:t,fileName:r,baseURL:s,baseCDN:n,checkForUrlDuplicates:i,saveUrlForRecurrentUploads:a,secureSignature:l,secureExpire:u,store:c,signal:p,onProgress:_,source:g,integration:y,userAgent:w,retryThrottledRequestMaxTimes:A,pusherKey:v=m.pusherKey,metadata:E})=>Promise.resolve(void X(v).connect()).then(()=>(function(e,{publicKey:t,baseURL:r=m.baseURL,store:s,fileName:n,checkForUrlDuplicates:i,saveUrlForRecurrentUploads:a,secureSignature:l,secureExpire:u,source:c="url",signal:h,integration:d,userAgent:p,retryThrottledRequestMaxTimes:f=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:_=m.retryNetworkErrorMaxTimes,metadata:g}){return P(()=>b({method:"POST",headers:{"X-UC-User-Agent":S({publicKey:t,integration:d,userAgent:p})},url:C(r,"/from_url/",{jsonerrors:1,pub_key:t,source_url:e,store:k(s),filename:n,check_URL_duplicates:i?1:void 0,save_URL_duplicates:a?1:void 0,signature:l,expire:u,source:c,metadata:g}),signal:h}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryNetworkErrorMaxTimes:_,retryThrottledRequestMaxTimes:f})})(e,{publicKey:t,fileName:r,baseURL:s,checkForUrlDuplicates:i,saveUrlForRecurrentUploads:a,secureSignature:l,secureExpire:u,store:c,signal:p,source:g,integration:y,userAgent:w,retryThrottledRequestMaxTimes:A,metadata:E})).catch(e=>{let t=X(v);return t?.disconnect(),Promise.reject(e)}).then(e=>e.type===U.FileInfo?e:((e,{signal:t}={})=>{let r=null,s=null,n=e.map(()=>new AbortController);return h(t,()=>{n.forEach(e=>e.abort())}),Promise.all(e.map((e,t)=>{let i,o=(i=t,()=>{s=i,n.forEach((e,t)=>t!==i&&e.abort())});return Promise.resolve().then(()=>e({stopRace:o,signal:n[t].signal})).then(e=>(o(),e)).catch(e=>(r=e,null))})).then(e=>{if(null!==s)return e[s];throw r})})([({signal:r})=>(function({token:e,publicKey:t,baseURL:r,integration:s,userAgent:n,retryThrottledRequestMaxTimes:i,retryNetworkErrorMaxTimes:a,onProgress:l,signal:u}){return f({check:u=>(function(e,{publicKey:t,baseURL:r=m.baseURL,signal:s,integration:n,userAgent:i,retryThrottledRequestMaxTimes:a=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:l=m.retryNetworkErrorMaxTimes}={}){return P(()=>b({method:"GET",headers:t?{"X-UC-User-Agent":S({publicKey:t,integration:n,userAgent:i})}:void 0,url:C(r,"/from_url/status/",{jsonerrors:1,token:e}),signal:s}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s)||"status"in s&&s.status===j.Error)return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryNetworkErrorMaxTimes:l,retryThrottledRequestMaxTimes:a})})(e,{publicKey:t,baseURL:r,integration:s,userAgent:n,retryThrottledRequestMaxTimes:i,retryNetworkErrorMaxTimes:a,signal:u}).then(t=>{switch(t.status){case j.Error:return new T(t.error,t.errorCode);case j.Waiting:return!1;case j.Unknown:return new T(`Token "${e}" was not found.`);case j.Progress:return l&&("unknown"===t.total?l({isComputable:!1}):l({isComputable:!0,value:t.done/t.total})),!1;case j.Success:return l&&l({isComputable:!0,value:t.done/t.total}),t;default:throw Error("Unknown status")}}),signal:u})})({token:e.token,publicKey:t,baseURL:s,integration:y,userAgent:w,retryThrottledRequestMaxTimes:A,onProgress:_,signal:r}),({signal:t})=>(({token:e,pusherKey:t,signal:r,onProgress:s})=>new Promise((n,i)=>{let o=X(t),a=o.onError(i),l=()=>{a(),o.unsubscribe(e)};h(r,()=>{l(),i(new d("pusher cancelled"))}),o.subscribe(e,e=>{switch(e.status){case j.Progress:s&&("unknown"===e.total?s({isComputable:!1}):s({isComputable:!0,value:e.done/e.total}));break;case j.Success:l(),s&&s({isComputable:!0,value:e.done/e.total}),n(e);break;case j.Error:l(),i(new T(e.msg,e.error_code))}})}))({token:e.token,pusherKey:v,signal:t,onProgress:_})],{signal:p})).then(e=>{if(e instanceof T)throw e;return e}).then(e=>L(e.uuid,{publicKey:t,baseURL:s,integration:y,userAgent:w,retryThrottledRequestMaxTimes:A,onProgress:_,signal:p})).then(e=>new O(e,{baseCDN:n})))(e,{publicKey:t,fileName:r,baseURL:s,baseCDN:$,checkForUrlDuplicates:I,saveUrlForRecurrentUploads:B,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u,source:c,integration:p,userAgent:_,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,pusherKey:q,metadata:H});if(z(e))return((e,{publicKey:t,fileName:r,baseURL:s,signal:n,onProgress:i,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:c,baseCDN:h})=>N(e,{publicKey:t,baseURL:s,signal:n,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:u,retryNetworkErrorMaxTimes:c}).then(e=>new O(e,{baseCDN:h,fileName:r})).then(e=>(i&&i({isComputable:!0,value:1}),e)))(e,{publicKey:t,fileName:r,baseURL:s,signal:l,onProgress:u,source:c,integration:p,userAgent:_,retryThrottledRequestMaxTimes:g,retryNetworkErrorMaxTimes:y,baseCDN:$});throw TypeError(`File uploading from "${e}" is not supported`)}class K{uuid;filesCount;totalSize;isStored;isImage;cdnUrl;files;createdAt;storedAt=null;constructor(e,{baseCDN:t=m.baseCDN}={}){this.uuid=e.id,this.filesCount=e.filesCount;let r=e.files.filter(Boolean);this.totalSize=Object.values(r).reduce((e,t)=>e+t.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(r).filter(e=>e.isImage).length,this.cdnUrl=e.cdnUrl,this.files=r.map(e=>new O(e,{baseCDN:t})),this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}}function G(e,{publicKey:t,fileName:r,baseURL:s=m.baseURL,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u,source:c,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,contentType:_,multipartChunkSize:g=m.multipartChunkSize,baseCDN:y=m.baseCDN,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:A,jsonpCallback:R}){let x;if(!(e=>{for(let t of e)if(!v(t))return!1;return!0})(e)&&!(e=>{for(let t of e)if(!W(t))return!1;return!0})(e)&&!(e=>{for(let t of e)if(!z(t))return!1;return!0})(e))throw TypeError(`Group uploading from "${e}" is not supported`);let k=!0,N=e.length;return Promise.all(e.map((e,o)=>v(e)||W(e)?Y(e,{publicKey:t,fileName:r,baseURL:s,secureSignature:n,secureExpire:i,store:a,signal:l,onProgress:u?(x||(x=Array(N).fill(0)),e=>{if(!e.isComputable||!k){k=!1,u({isComputable:!1});return}x[o]=e.value,u({isComputable:!0,value:x.reduce((e,t)=>e+t)/N})}):void 0,source:c,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f,contentType:_,multipartChunkSize:g,baseCDN:y,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:A}).then(e=>e.uuid):e)).then(e=>(function(e,{publicKey:t,baseURL:r=m.baseURL,jsonpCallback:s,secureSignature:n,secureExpire:i,signal:a,source:l,integration:u,userAgent:c,retryThrottledRequestMaxTimes:h=m.retryThrottledRequestMaxTimes,retryNetworkErrorMaxTimes:d=m.retryNetworkErrorMaxTimes}){return P(()=>b({method:"POST",headers:{"X-UC-User-Agent":S({publicKey:t,integration:u,userAgent:c})},url:C(r,"/group/",{jsonerrors:1}),data:E({files:e,callback:s,pub_key:t,signature:n,expire:i,source:l}),signal:a}).then(({data:e,headers:t,request:r})=>{let s=o(JSON.parse(e));if(!("error"in s))return s;throw new T(s.error.content,s.error.errorCode,r,s,t)}),{retryNetworkErrorMaxTimes:d,retryThrottledRequestMaxTimes:h})})(e,{publicKey:t,baseURL:s,jsonpCallback:R,secureSignature:n,secureExpire:i,signal:l,source:c,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p,retryNetworkErrorMaxTimes:f}).then(e=>new K(e,{baseCDN:y})).then(e=>(u&&u({isComputable:!0,value:1}),e)))}class V{_concurrency=1;_pending=[];_running=0;_resolvers=new Map;_rejectors=new Map;constructor(e){this._concurrency=e}run(){let e=this._concurrency-this._running;for(let t=0;t<e;t++){let e=this._pending.shift();if(!e)return;let t=this._resolvers.get(e),r=this._rejectors.get(e);if(!t||!r)throw Error("Unexpected behavior: resolver or rejector is undefined");this._running+=1,e().finally(()=>{this._resolvers.delete(e),this._rejectors.delete(e),this._running-=1,this.run()}).then(e=>t(e)).catch(e=>r(e))}}add(e,{autoRun:t}={autoRun:!0}){return new Promise((r,s)=>{this._resolvers.set(e,r),this._rejectors.set(e,s),this._pending.push(e),t&&this.run()})}get pending(){return this._pending.length}get running(){return this._running}set concurrency(e){this._concurrency=e,this.run()}get concurrency(){return this._concurrency}}},55972:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>n,i:()=>i});let s=(e,t)=>{let r=new URL(t);return r.hostname=`${e}.${r.hostname}`,r.toString().replace(/\/$/,"")},n=e=>{if(e<=0n)return"0";let t="";for(;e>0n;)t="0123456789abcdefghijklmnopqrstuvwxyz"[Number(e%36n)]+t,e/=36n;return t},i=(e,t)=>{try{let r=new URL(e),s=new URL(t);return r.hostname.endsWith(s.hostname)}catch{return!1}}},61799:(e,t,r)=>{r.d(t,{J5:()=>s});function s(e,t){let r=t.map(t=>t(e));return()=>{r.forEach(e=>e())}}},71361:(e,t,r)=>{r.d(t,{V:()=>s});function s(){return e=>{let t,r=[],s=0;function n(n){var i;let o;n.target.getAttribute("aria-controls")&&"Enter"===n.key&&(i=n.target,clearInterval(t),o=i.getAttribute("aria-controls"),t=setInterval(()=>{if(s++>50)return void clearInterval(t);let n=e.document.getElementById(o);if(n){let s=n.querySelector('a, button, select, textarea, input:not([type=radio]), [type=radio]:checked, [tabindex]:not([tabindex="-1"])');if(s){let i;clearInterval(t),n.dispatchEvent(new e.CustomEvent("keyuxJump",{bubbles:!0})),(i=e.document.activeElement)&&i!==e.document.body&&r.push(new WeakRef(i)),s.focus({focusVisible:!0})}}},50)),"Escape"===n.key&&function t(){let s=r.pop();if(!s)return void e.document.activeElement.blur();let n=s.deref();n&&n.isConnected?n.focus():t()}()}return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}}}},73756:(e,t,r)=>{function s(e){return{ok:!1,error:e}}r.d(t,{T:()=>o});class n{constructor(e="https://tlm.uploadcare.com/api/"){this.baseUrl=e}async base(e,t={}){let r=`${this.baseUrl}${e}`;try{let e=await fetch(r,t);if(!e.ok)return s(Error(`Got non-200 response from "${r}". Status: ${e.status.toString()}`));try{var n;return n=await e.json(),{ok:!0,value:n}}catch(e){return s(Error(`Error parsing JSON from "${r}". Error: ${e}`))}}catch(e){return s(Error(`Error fetching data from "${r}". Error: ${e}`))}}async post(e,t,r={}){return await this.base(e,{...r,method:"POST",body:JSON.stringify(function e(t){return Array.isArray(t)?t.map(t=>"object"==typeof t&&null!==t?e(t):t):"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map(([t,r])=>{let s=t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`).replace(/__/g,"_");return"object"==typeof r&&null!==r?[s,e(r)]:[s,r]}))}(t)),headers:{"Content-Type":"application/json",...r.headers||{}}})}async get(e,t={}){return await this.base(e,{method:"GET",...t})}}let i=async(e,t)=>({success:!0,data:t});class o extends n{constructor(){super()}async sendEvent(e,t){let r=await i(void 0,e);if(!r.success)throw console.error("TelemetryAPIService: events: body is invalid",r.error),Error("TelemetryAPIService: events: body is invalid");return this.post("v1/events",e,t)}}}}]);