"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4960],{7415:(e,t,s)=>{s.d(t,{c:()=>j});var a=s(95155),n=s(12115),r=s(64936);function l(e){let{event:t,technicianColor:s,onClick:n,className:l}=e,i=s||("External"===t.type?"#8b5cf6":"#6b7280");return(0,a.jsxs)("div",{onClick:n,className:(0,r.cn)("flex items-center gap-1.5 px-2 py-1 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity truncate",l),style:{backgroundColor:"".concat(i,"20"),color:i},children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:i}}),(0,a.jsx)("span",{className:"truncate",children:t.title})]})}var i=s(27806),c=s(78674),d=s(88901),o=s(82192),m=s(51321),x=s(6180),u=s(47141),h=s(35405),p=s(71163),g=s(12725),f=s(97003);function j(e){let{currentDate:t,events:s,technicians:j,technicianColors:N,onEventClick:v,onDayClick:b,compact:w=!1}=e,y=(0,n.useMemo)(()=>(0,c.w)(t),[t]),C=(0,n.useMemo)(()=>(0,d.p)(t),[t]),k=(0,n.useMemo)(()=>(0,o.k)(y,{weekStartsOn:0}),[y]),S=(0,n.useMemo)(()=>(0,m.$)(C,{weekStartsOn:0}),[C]),A=(0,n.useMemo)(()=>(0,x.k)({start:k,end:S}),[k,S]);return(0,a.jsxs)("div",{className:(0,r.cn)("flex-1 flex flex-col",w?"h-auto":"h-full overflow-hidden"),children:[(0,a.jsx)("div",{className:(0,r.cn)("grid grid-cols-7 border-b bg-muted",w&&"text-xs"),children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:(0,r.cn)("text-center font-semibold border-r last:border-r-0",w?"p-3 text-sm":"p-2 text-sm"),children:e},e))}),(0,a.jsx)("div",{className:(0,r.cn)("grid grid-cols-7",w?"":"flex-1 auto-rows-fr"),children:A.map((e,n)=>{let c=(0,g.Jm)(s,e).sort((e,t)=>new Date(e.start).getTime()-new Date(t.start).getTime()),d=c.slice(0,3),o=c.length-3,m=(0,u.t)(e,t),x=(0,h.r)(e,new Date),y=n%7==6;return(0,a.jsxs)("div",{className:(0,r.cn)("border-b flex flex-col",!y&&"border-r",!m&&"bg-muted/20",x&&"bg-muted/50 ring-1 ring-primary ring-inset",w?"p-1 min-h-[90px]":"p-2 min-h-[120px]"),children:[(0,a.jsx)(f.$,{variant:"ghost",size:"sm",className:(0,r.cn)("p-0 font-semibold mb-1 self-start",w?"h-5 w-5 text-xs":"h-6 w-6",x&&"bg-primary text-primary-foreground"),onClick:()=>b(e),children:(0,p.GP)(e,"d")}),(0,a.jsxs)("div",{className:(0,r.cn)("flex-1 space-y-0.5 overflow-hidden",w&&"space-y-0"),children:[d.map(e=>{let t=(e=>{if(e)return j.find(t=>t.id===e)})(e.technicianId),s=(e=>{var t;if(e)return null==(t=N.find(t=>t.technicianId===e))?void 0:t.color})(e.technicianId);return"External"===e.type||"Unscheduled"===e.type?(0,a.jsx)(i.Y,{event:e,technician:t,technicianColor:s,onOpenJob:()=>e.jobId&&v(e),onAssignTechnician:()=>e.jobId&&v(e),children:(0,a.jsx)("div",{children:(0,a.jsx)(l,{event:e,technicianColor:s,onClick:()=>v(e),className:w?"text-[10px] px-1 py-0.5":void 0})})},e.id):(0,a.jsx)(l,{event:e,technicianColor:s,onClick:()=>v(e),className:w?"text-[10px] px-1 py-0.5":void 0},e.id)}),o>0&&(0,a.jsxs)(f.$,{variant:"ghost",size:"sm",className:(0,r.cn)("text-muted-foreground hover:text-foreground",w?"h-4 text-[10px]":"h-6 text-xs"),onClick:()=>b(e),children:["+",o," more"]})]})]},n)})})]})}},12725:(e,t,s)=>{s.d(t,{A1:()=>h,Jm:()=>x,Ve:()=>m,WA:()=>u,XE:()=>g,sH:()=>p});var a=s(71163),n=s(93366),r=s(26467),l=s(82192),i=s(51321),c=s(78674),d=s(88901);function o(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),i=-e.getTimezoneOffset(),c=String(Math.floor(Math.abs(i)/60)).padStart(2,"0"),d=String(Math.abs(i)%60).padStart(2,"0"),o=i>=0?"+":"-";return"".concat(t,"-").concat(s,"-").concat(a,"T").concat(n,":").concat(r,":").concat(l).concat(o).concat(c,":").concat(d)}function m(e){let[t,s,n]=(e.scheduledDate||(0,a.GP)(new Date,"yyyy-MM-dd")).split("-").map(Number);if(!e.scheduledTime){let a=new Date(t,s-1,n,0,0,0,0),r=new Date(t,s-1,n+1,0,0,0,0);return{id:e.id,title:e.propertyAddress||e.clientName,start:o(a),end:o(r),jobId:e.id,orderNumber:e.orderNumber,technicianId:e.assignedTechnicianId,type:"Unscheduled",allDay:!0,description:"".concat(e.clientName," - ").concat(e.propertyAddress)}}let[r,l]=e.scheduledTime.split(":").map(Number),i=new Date(t,s-1,n,r||0,l||0,0,0),c=e.estimatedDuration||60,d=new Date(i.getTime()+60*c*1e3);return{id:e.id,title:e.propertyAddress||e.clientName,start:o(i),end:o(d),jobId:e.id,orderNumber:e.orderNumber,technicianId:e.assignedTechnicianId,type:"Scheduled",allDay:!1,description:"".concat(e.clientName," - ").concat(e.propertyAddress)}}function x(e,t){let s=(0,n.o)(t),a=s.getFullYear(),l=s.getMonth(),i=s.getDate();return e.filter(e=>{let t=(0,r.H)(e.start),s=(0,r.H)(e.end),n=t.getFullYear(),c=t.getMonth(),d=t.getDate(),o=s.getFullYear(),m=s.getMonth(),x=s.getDate(),u=new Date(n,c,d),h=new Date(o,m,x),p=new Date(a,l,i);return n===a&&c===l&&d===i||o===a&&m===l&&x===i||u<=p&&h>=p})}function u(e){return{start:(0,l.k)(e,{weekStartsOn:0}),end:(0,i.$)(e,{weekStartsOn:0})}}function h(e){return{start:(0,c.w)(e),end:(0,d.p)(e)}}function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,r.H)(e),l=(0,r.H)(t),i="".concat((0,a.GP)(n,"h:mm a")," - ").concat((0,a.GP)(l,"h:mm a"));if(s){let e=new Date().toLocaleTimeString("en-US",{timeZoneName:"short"}).split(" ").pop()||"";return"".concat(i," ").concat(e)}return i}function g(e){let t=new Map,s=[...e].sort((e,t)=>{let s=(0,r.H)(e.start).getTime()-(0,r.H)(t.start).getTime();return 0!==s?s:(0,r.H)(t.end).getTime()-(0,r.H)(e.end).getTime()}),a=[],n=[],l=0;return s.forEach(e=>{let t=(0,r.H)(e.start).getTime(),s=(0,r.H)(e.end).getTime();0===n.length?(n.push(e),l=s):t<l?(n.push(e),l=Math.max(l,s)):(a.push(n),n=[e],l=s)}),n.length>0&&a.push(n),a.forEach(e=>{let s=[];e.forEach(e=>{let t=!1;for(let a=0;a<s.length;a++){let n=s[a],l=n[n.length-1];if((0,r.H)(e.start).getTime()>=(0,r.H)(l.end).getTime()){n.push(e),t=!0;break}}t||s.push([e])});let a=100/s.length;s.forEach((e,s)=>{e.forEach(e=>{t.set(e.id,{left:s*a,width:a})})})}),t}},22623:(e,t,s)=>{s.d(t,{q:()=>a});function a(e){let t=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];return e.map((e,s)=>({technicianId:e.id,color:t[s%t.length]}))}},24960:(e,t,s)=>{s.d(t,{N:()=>b});var a=s(95155),n=s(12115),r=s(62816),l=s(86784),i=s(7415),c=s(97003),d=s(81130),o=s(29633),m=s(73344),x=s(94876),u=s(12725),h=s(22623),p=s(48432),g=s(61362),f=s(39347),j=s(1524),N=s(84433),v=s(25703);function b(e){let{jobs:t,technicians:s,selectedJob:b,stats:w,onSelectJob:y,onNavigateToJobsView:C,onNavigateToMapView:k,onNavigateToCalendarView:S,onNavigateToJobInProjectManagement:A,onJobClick:M,currentUserId:T,selfTechnicianOverride:D}=e,I=t.filter(e=>"assigned"===e.status),[E]=(0,n.useState)(new Date),H=I.slice(0,4),z=(0,n.useMemo)(()=>t.map(e=>(0,u.Ve)(e)),[t]),J=null!=s?s:[],O=(0,n.useMemo)(()=>J.filter(e=>{if(!(null==e?void 0:e.homeLocation)||"number"!=typeof e.homeLocation.lat||"number"!=typeof e.homeLocation.lng)return!1;let t=e.homeLocation.address||{};return[t.street,t.city,t.stateProvince,t.postalCode,t.country].some(Boolean)}),[J]),G=(0,n.useMemo)(()=>D||(T?O.find(e=>e.id===T):void 0),[O,T,D]),W=O.length>0?O:J,$=(0,n.useMemo)(()=>{let e=new Set(t.map(e=>e.assignedTechnicianId||e.assignedTechnicianId).filter(e=>!!e)),s=O.filter(t=>e.has(t.id));return s.length>0?s:G?[G]:O.length>0?[O[0]]:[]},[t,O,G]),B=(0,n.useMemo)(()=>(0,h.q)($),[$]),{shouldShowGuide:P}=(0,v.Mw)();return(0,a.jsx)("main",{className:"container relative mx-auto",children:(0,a.jsxs)("article",{className:"flex flex-col gap-2xl md:gap-3xl px-md","data-tour":"dashboard-article",children:[P&&(0,a.jsx)("div",{className:"@container w-full mt-md","data-tour":"setup-guide",children:(0,a.jsx)(N.K,{})}),(0,a.jsx)("div",{className:"@container w-full ".concat(P?"":"mt-md"),"data-tour":"dashboard-metrics",children:(0,a.jsx)(p.MD,{stats:[{icon:o.A,value:w.upcoming,label:"Upcoming Jobs",iconBgColor:"bg-accent",iconColor:"text-primary"},{icon:g.A,value:w.completed,label:"Total Completed",iconBgColor:"bg-emerald-100",iconColor:"text-emerald-600"},{icon:f.A,value:w.rating.toFixed(1),label:"Rating",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600"},{icon:j.A,value:w.onTimeRate,label:"On-Time Rate",valueSuffix:"%",iconBgColor:"bg-accent",iconColor:"text-primary"}]})}),(0,a.jsxs)("div",{className:"@container w-full","data-tour":"dashboard-calendar",children:[(0,a.jsxs)("div",{className:"mb-md flex items-baseline justify-between",children:[(0,a.jsx)(m.H2,{className:"text-lg border-0",children:"Schedule"}),(0,a.jsx)(c.$,{variant:"flat",className:"px-0",onClick:S,children:"View calendar"})]}),(0,a.jsx)("div",{className:"border rounded-md overflow-hidden",children:(0,a.jsx)(i.c,{currentDate:E,events:z,technicians:W,technicianColors:B,onEventClick:e=>{if(e.jobId&&M){let s=t.find(t=>t.id===e.jobId);s&&M(s)}},onDayClick:e=>{S&&S()},compact:!0})})]}),(0,a.jsxs)("div",{className:"@container w-full","data-tour":"dashboard-map",children:[(0,a.jsxs)("div",{className:"mb-md flex items-baseline justify-between",children:[(0,a.jsx)(m.H2,{className:"text-lg border-0",children:"Live Job Map"}),(0,a.jsx)(c.$,{variant:"flat",className:"px-0",onClick:k,children:"View map"})]}),(0,a.jsx)(l.n,{jobs:t,providers:$,selectedJob:b,onSelectJob:y,onNavigateToJobInProjectManagement:A,onJobAssign:void 0,isDispatcherView:!1})]}),(0,a.jsxs)("div",{className:"@container w-full mb-md","data-tour":"dashboard-jobs",children:[(0,a.jsxs)("div",{className:"mb-md flex items-baseline justify-between",children:[(0,a.jsx)(m.H2,{className:"text-lg",children:"Active Jobs"}),I.length>0&&C&&(0,a.jsx)(c.$,{variant:"flat",className:"px-0",onClick:C,children:"View all"})]}),I.length>0?(0,a.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:H.map(e=>{let t=s.find(t=>t.id===e.assignedTechnicianId);return(0,a.jsx)(r.oe,{job:e,technician:t,onClick:M?()=>M(e):void 0},e.id)})})}):(0,a.jsx)(x.pp,{icon:o.A,title:"No Active Jobs",description:"There are currently no active jobs assigned to you.",action:C?{label:"View All Jobs",onClick:C}:void 0})]})]})})}},27806:(e,t,s)=>{s.d(t,{Y:()=>u});var a=s(95155),n=s(97450),r=s(97003),l=s(67812),i=s(12725),c=s(26983),d=s(20508),o=s(21873),m=s(93499),x=s(73344);function u(e){let{event:t,technician:s,technicianColor:u,children:h,onOpenJob:p,onAssignTechnician:g}=e,f="Unscheduled"===t.type,j="External"===t.type;return(0,a.jsxs)(n.AM,{children:[(0,a.jsx)(n.Wv,{asChild:!0,children:h}),(0,a.jsx)(n.hl,{className:"w-80",align:"start",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:t.title}),t.orderNumber&&(0,a.jsxs)(x.P,{className:"text-xs text-muted-foreground font-mono mt-1",children:["Order #",t.orderNumber]}),t.description&&(0,a.jsx)(x.P,{className:"text-xs text-muted-foreground mt-1",children:t.description})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[!t.allDay&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:(0,i.sH)(t.start,t.end,!0)})]}),s&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:s.name}),u&&(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u}})]}),t.territory&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t.territory})]}),j&&t.externalSource&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t.externalSource})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.E,{variant:"External"===t.type?"outline":"default",children:t.type}),t.hasConflict&&(0,a.jsx)(l.E,{variant:"destructive",children:"Conflict"})]}),!j&&(0,a.jsxs)("div",{className:"flex gap-2 pt-2 border-t",children:[f&&g&&(0,a.jsx)(r.$,{size:"sm",variant:"outline",onClick:g,className:"flex-1",children:"Assign Technician"}),p&&(0,a.jsx)(r.$,{size:"sm",onClick:p,className:f&&g?"flex-1":"w-full",children:"Open Job"})]})]})})]})}},48432:(e,t,s)=>{s.d(t,{CN:()=>c,MD:()=>d});var a=s(95155),n=s(51089),r=s(83209),l=s(1524),i=s(26921);function c(e){let{icon:t,value:s,type:c="card",label:d,iconBgColor:o="bg-accent",iconColor:m="text-primary",valuePrefix:x="",valueSuffix:u="",description:h="",trendPercentage:p=0,previousValue:g=0,chart:f,chartConfig:j}=e;return(0,a.jsx)(r.Zp,{variant:"muted",children:"card"===c?(0,a.jsx)(r.Wu,{className:"p-6 gap-0",children:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 ".concat(o," rounded-xl self-start"),children:(0,a.jsx)(t,{className:"size-5 ".concat(m)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:d}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-foreground mb-1 flex items-baseline gap-1",children:[x,(0,a.jsxs)("span",{className:"flex items-baseline gap-1",children:[s,0!==p&&(p>0?(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[(0,a.jsx)(l.A,{className:"size-4"}),(0,a.jsxs)("span",{children:[p,"%"]})]}):(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-red-600",children:[(0,a.jsx)(i.A,{className:"size-4"}),(0,a.jsxs)("span",{children:[p,"%"]})]}))]}),u]}),h&&(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:h}),0!==g&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Previous month: ",g]})]})]})}):(0,a.jsx)(r.Wu,{className:"p-6 gap-0",children:(0,a.jsxs)("div",{className:"flex flex-col items-start gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-4 w-full",children:[(0,a.jsx)("div",{className:"p-3 ".concat(o," rounded-xl self-start"),children:(0,a.jsx)(t,{className:"size-5 ".concat(m)})}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:d})]}),(0,a.jsx)(n.at,{config:j||{},className:"h-[300px] w-full",children:(0,a.jsx)("div",{className:"w-full",children:f})})]})})})}function d(e){let{stats:t,columns:s=4,className:n=""}=e;return(0,a.jsx)("div",{className:"grid ".concat({1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-3",4:"grid-cols-1 md:grid-cols-4"}[s]," gap-4 ").concat(n),children:t.map((e,t)=>(0,a.jsx)(c,{icon:e.icon,value:e.value,label:e.label,iconBgColor:e.iconBgColor,iconColor:e.iconColor,valueSuffix:e.valueSuffix},t))})}s(12115),s(67812),s(97003),s(73344),s(75548),s(94876)},84433:(e,t,s)=>{s.d(t,{K:()=>b});var a=s(95155),n=s(12115),r=s(20017),l=s(48314),i=s(65229),c=s(12108),d=s(24033),o=s(5917),m=s(83209),x=s(97003),u=s(55850),h=s(35561),p=s(51539),g=s(7220),f=s(25703),j=s(25016);function N(e){let{borderWidth:t=1,duration:s=14,shineColor:n="#000000",className:r,style:l,...i}=e;return(0,a.jsx)("div",{style:{"--border-width":"".concat(t,"px"),"--duration":"".concat(s,"s"),backgroundImage:"radial-gradient(transparent,transparent, ".concat(Array.isArray(n)?n.join(","):n,",transparent,transparent)"),backgroundSize:"300% 300%",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude",padding:"var(--border-width)",...l},className:(0,j.cn)("motion-safe:animate-shine pointer-events-none absolute inset-0 size-full rounded-[inherit] will-change-[background-position]",r),...i})}let v=["DASHBOARD_OVERVIEW","JOB_MANAGEMENT","MESSAGING_CHAT","SETTINGS_INTEGRATIONS"];function b(e){let{className:t}=e,{status:s,isLoading:b,error:w,isTourActive:y,tourStepContext:C,getTrackProgress:k,startTourFromStep:S,dismissGuide:A,resetProgress:M}=(0,f.Mw)(),[T,D]=(0,n.useState)(!0),[I,E]=(0,n.useState)("");if((null==s?void 0:s.dismissedGuide)||(null==s?void 0:s.hasCompletedSetup))return null;if(b)return(0,a.jsxs)(m.Zp,{className:(0,j.cn)("animate-pulse",t),children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)("div",{className:"h-5 w-32 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-3 w-48 bg-muted rounded mt-2"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsx)("div",{className:"h-2 w-full bg-muted rounded"})})]});if(w)return null;let H=v.reduce((e,t)=>{var s;let a=(0,f.ue)(t,C);if(0===a.length)return e;let n=k(t);return{completed:e.completed+(null!=(s=null==n?void 0:n.completed)?s:0),total:e.total+a.length}},{completed:0,total:0}),z={...H,percentage:H.total>0?Math.round(H.completed/H.total*100):0};return(0,a.jsxs)(m.Zp,{className:(0,j.cn)("relative overflow-hidden rounded-lg",t),"data-tour":"setup-guide",children:[(0,a.jsx)(N,{shineColor:["#6366f1","#a855f7","#ec4899"],borderWidth:1,duration:10}),(0,a.jsxs)(h.Nt,{open:T,onOpenChange:D,children:[(0,a.jsx)(m.aR,{className:"p-4!",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(m.ZB,{className:"text-base font-semibold",children:"Setup Guide"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Get started with a quick tour of the platform"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1.5",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[z.completed," / ",z.total," completed"]}),(0,a.jsx)(u.k,{value:z.percentage,className:"h-1.5 w-24",indicatorClassName:100===z.percentage?"bg-green-500":void 0})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(g.rI,{children:[(0,a.jsx)(g.ty,{asChild:!0,children:(0,a.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(r.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(g.SQ,{align:"end",children:[(0,a.jsxs)(g._2,{onClick:()=>M(),children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Reset progress"]}),(0,a.jsxs)(g._2,{onClick:()=>A(),children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Dismiss guide"]})]})]}),(0,a.jsx)(h.R6,{asChild:!0,children:(0,a.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:T?(0,a.jsx)(c.A,{className:"h-4 w-4"}):(0,a.jsx)(d.A,{className:"h-4 w-4"})})})]})]})}),(0,a.jsx)(h.Ke,{children:(0,a.jsx)(m.Wu,{className:"p-0!",children:(0,a.jsx)(p.nD,{type:"single",collapsible:!0,value:I,onValueChange:E,className:"w-full",children:v.map(e=>{var t,s;let n=k(e),r=f.Wo[e],l=null!=(t=null==n?void 0:n.finished)&&t,i=null!=(s=null==n?void 0:n.completed)?s:0,c=(0,f.ue)(e,C);return 0===c.length?null:(0,a.jsxs)(p.As,{value:e,className:"border-b-0 border-t",children:[(0,a.jsx)(p.$m,{className:"py-3 px-3 hover:no-underline bg-muted/50 rounded-none items-center",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:(0,j.cn)("text-sm font-medium",l&&"text-muted-foreground"),children:r.title})})})}),(0,a.jsx)(p.ub,{className:"border-t p-0",children:(0,a.jsx)("div",{className:"flex flex-col gap-1",children:c.map((t,s)=>{let n=s<i,r=s===i,l=s>i;return(0,a.jsxs)("button",{onClick:()=>S(e,s),disabled:y||l,className:(0,j.cn)("w-full text-left px-4 py-2.5 text-sm transition-colors","flex items-center gap-3 rounded-none",l?"opacity-40":"hover:bg-primary/10 cursor-pointer",r&&!l&&"text-primary font-medium"),children:[(0,a.jsx)("div",{className:(0,j.cn)("flex size-5 items-center justify-center rounded-full shrink-0",n?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-400":r?"border-2 border-primary border-dashed":"border-2 border-muted-foreground/20 border-dashed"),children:n&&(0,a.jsx)(o.A,{className:"h-3 w-3"})}),(0,a.jsx)("span",{className:(0,j.cn)(n&&"text-muted-foreground"),children:t.title})]},t.id)})})})]},e)})})})})]})]})}}}]);