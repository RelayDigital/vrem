(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2118],{4129:(e,r,t)=>{"use strict";t.d(r,{N:()=>n});var a=t(12115),n=globalThis?.document?a.useLayoutEffect:()=>{}},8810:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>N});var a=t(95155),n=t(12115),s=t(24632),i=t(80492),o=t(18720),l=t(68122),d=t(95657),c=t(80408),u=t(97003),m=t(33884),p=t(33789),h=t(90235),v=t(73344),x=t(23664),f=t(69141),g=t(19408);function b(e){let{user:r,onSave:t}=e,[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)({name:r.name||"",phone:""}),[d,c]=(0,n.useState)(!1),b=async()=>{c(!0);try{await t(o),i(!1)}finally{c(!1)}};return(0,a.jsx)("main",{className:"container relative mx-auto",children:(0,a.jsx)("article",{className:"flex flex-col gap-2xl md:gap-3xl px-md",children:(0,a.jsxs)("div",{className:"@container w-full mt-md mb-md",children:[(0,a.jsxs)("div",{className:"mb-md flex items-baseline justify-between",children:[(0,a.jsx)(v.H2,{className:"text-lg border-0",children:"My Profile"}),s?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.$,{variant:"outline",onClick:()=>{i(!1),l({name:r.name||"",phone:""})},children:"Cancel"}),(0,a.jsx)(u.$,{variant:"default",disabled:d,onClick:b,children:d?"Saving...":"Save Changes"})]}):(0,a.jsx)(u.$,{variant:"flat",className:"px-0",onClick:()=>i(!0),children:"Edit Profile"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsxs)(m.eu,{className:"size-24",children:[(0,a.jsx)(m.BK,{src:r.avatarUrl}),(0,a.jsx)(m.q5,{className:"bg-primary text-primary-foreground text-2xl",children:(r.name||"A").split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(p.p,{id:"name",value:o.name,onChange:e=>l({...o,name:e.target.value}),placeholder:"Your name"})]}):(0,a.jsx)(v.H3,{className:"text-xl",children:r.name||"Agent"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)(v.Oc,{children:r.email})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsx)(h.J,{children:"Contact Information"}),s?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(p.p,{id:"phone",type:"tel",value:o.phone,onChange:e=>l({...o,phone:e.target.value}),placeholder:"+1 (555) 123-4567"})]})}):(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:o.phone||"No phone added"})]})})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsx)(h.J,{children:"Account"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:"Real Estate Agent"})]}),(0,a.jsx)(v.QX,{className:"text-xs",children:"Your account is set up as a real estate agent. You can create photo shoot orders for your listings."})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsx)(h.J,{children:"Need Help?"}),(0,a.jsx)(v.QX,{className:"text-sm",children:"If you need to update your email or have questions about your account, please contact support."})]})]})]})})})}function N(){let{user:e,memberships:r,organizationId:t,isLoading:u}=(0,s.l)(["AGENT","PROVIDER","TECHNICIAN","COMPANY"]),m=(0,n.useMemo)(()=>(0,c.EL)(e,r,t),[e,r,t]),p=(0,n.useMemo)(()=>r.find(e=>{var r,t;return(null==(r=e.organization)?void 0:r.type)==="PERSONAL"||(null==e?void 0:e.organizationType)==="PERSONAL"||(null==e||null==(t=e.personalOrg)?void 0:t.type)==="PERSONAL"}),[r]),h=(null==p?void 0:p.organization)||(null==p?void 0:p.personalOrg)||null,v=(null==p?void 0:p.orgId)||(null==h?void 0:h.id)||null,x=(0,n.useMemo)(()=>{if(!e)return null;let a=r.find(e=>e.orgId===t)||r[0],n=null==a?void 0:a.organization,s=h||n;return{id:e.id,userId:e.id,orgMemberId:(null==a?void 0:a.id)||"",orgId:(null==a?void 0:a.orgId)||t||v||"",role:(null==a?void 0:a.orgRole)||(null==a?void 0:a.role)||"TECHNICIAN",name:e.name||"Provider",email:e.email||"",phone:(null==s?void 0:s.phone)||"",isIndependent:!n||"PERSONAL"===n.type,companyId:(null==n?void 0:n.type)==="COMPANY"?n.id:void 0,companyName:(null==n?void 0:n.type)==="COMPANY"?n.name:void 0,homeLocation:{lat:51.0447,lng:-114.0719,address:{street:(null==s?void 0:s.addressLine1)||"",city:(null==s?void 0:s.city)||"",stateProvince:(null==s?void 0:s.region)||"",country:(null==s?void 0:s.countryCode)||"",postalCode:(null==s?void 0:s.postalCode)||""}},availability:[],reliability:{totalJobs:0,noShows:0,lateDeliveries:0,onTimeRate:0,averageDeliveryTime:0},skills:{residential:0,commercial:0,aerial:0,twilight:0,video:0},rating:{overall:0,count:0,recent:[]},preferredClients:[],status:"active",createdAt:new Date,avatar:e.avatarUrl,bio:"",services:{photography:!0,video:!1,aerial:!1,floorplan:!1,measurement:!1,twilight:!1,editing:!1,virtualStaging:!1},portfolio:[],certifications:[]}},[e,r,t,h,v]),[f,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{x&&g(e=>e&&e.userId===x.userId&&e.orgId===x.orgId?e:x)},[x]);let N=v?"/organization/".concat(v,"/settings"):t?"/organization/".concat(t,"/settings"):void 0,y=async e=>{var r,t;if(!f)return;let a={...f,...e,services:e.services?{...f.services,...e.services}:f.services,homeLocation:e.homeLocation?{...f.homeLocation,...e.homeLocation,address:{...f.homeLocation.address,...e.homeLocation.address||{}}}:f.homeLocation,phone:null!=(r=e.phone)?r:f.phone,bio:null!=(t=e.bio)?t:f.bio};if(g(a),v)try{await d.F.organizations.updateSettings(v,{phone:a.phone||void 0,addressLine1:a.homeLocation.address.street||void 0,city:a.homeLocation.address.city||void 0,region:a.homeLocation.address.stateProvince||void 0,postalCode:a.homeLocation.address.postalCode||void 0,countryCode:a.homeLocation.address.country||void 0}),o.oR.success("Profile and location updated")}catch(e){g(f),o.oR.error(e instanceof Error?e.message:"Failed to update organization settings")}else o.oR.success("Profile updated. Update your address in organization settings.")};return u||!f?(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)(l.E,{className:"h-8 w-40 mb-4"}),(0,a.jsx)(l.E,{className:"h-48 w-full"})]}):(null==m?void 0:m.accountType)==="AGENT"?(0,a.jsx)("div",{className:"size-full overflow-x-hidden space-y-6",children:(0,a.jsx)(b,{user:e,onSave:async e=>{if(v&&e.phone)try{await d.F.organizations.updateSettings(v,{phone:e.phone}),o.oR.success("Profile updated")}catch(e){o.oR.error(e instanceof Error?e.message:"Failed to update profile")}else o.oR.success("Profile updated")}})}):(0,a.jsx)("div",{className:"size-full overflow-x-hidden space-y-6",children:(0,a.jsx)(i.p,{provider:f,organizationSettingsPath:N,onSave:y})})}},19408:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},23664:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},24632:(e,r,t)=>{"use strict";t.d(r,{l:()=>l});var a=t(12115),n=t(20063),s=t(65939),i=t(75701),o=t(80408);function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,n.useRouter)(),{user:l,isLoading:d,activeOrganizationId:c,memberships:u}=(0,s.A)(),{redirectTo:m,enforceRedirect:p}=r,h=(0,a.useCallback)(()=>(0,i.in)(u,c),[u,c]);return(0,a.useEffect)(()=>{if(d)return;if(!l)return void t.push("/");let r=e.map(e=>(0,o.FK)(e)),a=(0,o.FK)(l.accountType),n=u.find(e=>e.orgId===c),s=(0,i.hq)(n,a);if(!r.includes(s)){if(!1===p)return;if(m)t.push(m);else{let e=(0,i.zE)(s);t.push(e)}}},[l,d,e,t,m,p,u,c]),{user:l,organizationId:c,memberships:u,isLoading:d,getActiveOrgRole:h}}},25016:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s,e:()=>i,w:()=>o});var a=t(2821),n=t(75889);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}let i=!1;function o(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r){let r=[];return e.street&&r.push(e.street),r.push(e.city),r.push(e.stateProvince),e.postalCode&&r.push(e.postalCode),r.push(e.country),r.join(", ")}return"".concat(e.city,", ").concat(e.stateProvince,", ").concat(e.country)}},32894:(e,r,t)=>{"use strict";t.d(r,{b:()=>l});var a=t(12115);t(47650);var n=t(32467),s=t(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,n.TL)(`Primitive.${r}`),i=a.forwardRef((e,a)=>{let{asChild:n,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?t:r,{...i,ref:a})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),o=a.forwardRef((e,r)=>(0,s.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var l=o},33789:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});var a=t(95155);t(12115);var n=t(83101),s=t(64936);let i=(0,n.F)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex w-full min-w-0 rounded-md transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"border-input bg-input-background dark:bg-input/30 border px-3 py-1",outline:"border-2 bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border px-3 py-1",ghost:"border-0 bg-transparent hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-3 py-1",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 px-3 py-1",muted:"border-transparent bg-muted text-foreground hover:bg-muted/80 px-3 py-1",flat:"border-0 bg-transparent px-3 py-1"},size:{default:"h-9 text-base md:text-sm",sm:"h-8 text-sm px-2.5 py-1",lg:"h-10 text-base px-4 py-2"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,type:t,variant:n,size:o,...l}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,s.cn)(i({variant:n,size:o}),r),...l})}},33884:(e,r,t)=>{"use strict";t.d(r,{BK:()=>o,eu:()=>i,q5:()=>l});var a=t(95155);t(12115);var n=t(63366),s=t(64936);function i(e){let{className:r,...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"avatar",className:(0,s.cn)("relative flex size-10 shrink-0 overflow-hidden rounded-full",r),...t})}function o(e){let{className:r,...t}=e;return(0,a.jsx)(n._V,{"data-slot":"avatar-image",className:(0,s.cn)("aspect-square size-full",r),...t})}function l(e){let{className:r,...t}=e;return(0,a.jsx)(n.H4,{"data-slot":"avatar-fallback",className:(0,s.cn)("bg-muted flex size-full items-center justify-center rounded-full",r),...t})}},63366:(e,r,t)=>{"use strict";t.d(r,{H4:()=>w,_V:()=>A,bL:()=>j});var a=t(12115),n=t(95155),s=t(70222),i=t(4129);t(47650);var o=t(32467),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,o.TL)(`Primitive.${r}`),s=a.forwardRef((e,a)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?t:r,{...i,ref:a})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),d=t(14806);function c(){return()=>{}}var u="Avatar",[m,p]=function(e,r=[]){let t=[],s=()=>{let r=t.map(e=>a.createContext(e));return function(t){let n=t?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:n}}),[t,n])}};return s.scopeName=e,[function(r,s){let i=a.createContext(s);i.displayName=r+"Context";let o=t.length;t=[...t,s];let l=r=>{let{scope:t,children:s,...l}=r,d=t?.[e]?.[o]||i,c=a.useMemo(()=>l,Object.values(l));return(0,n.jsx)(d.Provider,{value:c,children:s})};return l.displayName=r+"Provider",[l,function(t,n){let l=n?.[e]?.[o]||i,d=a.useContext(l);if(d)return d;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=t.reduce((r,{useScope:t,scopeName:a})=>{let n=t(e)[`__scope${a}`];return{...r,...n}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:n}),[n])}};return t.scopeName=r.scopeName,t}(s,...r)]}(u),[h,v]=m(u),x=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...s}=e,[i,o]=a.useState("idle");return(0,n.jsx)(h,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:(0,n.jsx)(l.span,{...s,ref:r})})});x.displayName=u;var f="AvatarImage",g=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:o,onLoadingStatusChange:u=()=>{},...m}=e,p=v(f,t),h=function(e,r){let{referrerPolicy:t,crossOrigin:n}=r,s=(0,d.useSyncExternalStore)(c,()=>!0,()=>!1),o=a.useRef(null),l=s?(o.current||(o.current=new window.Image),o.current):null,[u,m]=a.useState(()=>y(l,e));return(0,i.N)(()=>{m(y(l,e))},[l,e]),(0,i.N)(()=>{let e=e=>()=>{m(e)};if(!l)return;let r=e("loaded"),a=e("error");return l.addEventListener("load",r),l.addEventListener("error",a),t&&(l.referrerPolicy=t),"string"==typeof n&&(l.crossOrigin=n),()=>{l.removeEventListener("load",r),l.removeEventListener("error",a)}},[l,n,t]),u}(o,m),x=(0,s.c)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==h&&x(h)},[h,x]),"loaded"===h?(0,n.jsx)(l.img,{...m,ref:r,src:o}):null});g.displayName=f;var b="AvatarFallback",N=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:s,...i}=e,o=v(b,t),[d,c]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),d&&"loaded"!==o.imageLoadingStatus?(0,n.jsx)(l.span,{...i,ref:r}):null});function y(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}N.displayName=b;var j=x,A=g,w=N},64936:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(2821),n=t(75889);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}},67812:(e,r,t)=>{"use strict";t.d(r,{E:()=>l});var a=t(95155);t(12115);var n=t(32467),s=t(83101),i=t(25016);let o=(0,s.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",flat:"text-foreground bg-none [a&]:hover:text-accent-foreground border-none",muted:"text-primary bg-muted border-none"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,asChild:s=!1,...l}=e,d=s?n.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(o({variant:t}),r),...l})}},68122:(e,r,t)=>{"use strict";t.d(r,{E:()=>s});var a=t(95155),n=t(64936);function s(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,n.cn)("bg-accent animate-pulse rounded-md",r),...t})}},69141:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},70222:(e,r,t)=>{"use strict";t.d(r,{c:()=>n});var a=t(12115);function n(e){let r=a.useRef(e);return a.useEffect(()=>{r.current=e}),a.useMemo(()=>(...e)=>r.current?.(...e),[])}},71847:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(12115);let n=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...i,width:n,height:n,stroke:t,strokeWidth:l?24*Number(o)/Number(n):o,className:s("lucide",d),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),l=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:l,...d}=t;return(0,a.createElement)(o,{ref:i,iconNode:r,className:s("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...d})});return t.displayName=n(e),t}},73344:(e,r,t)=>{"use strict";t.d(r,{H1:()=>s,H2:()=>i,H3:()=>o,H4:()=>l,Oc:()=>u,P:()=>d,QX:()=>m,yE:()=>c});var a=t(95155);t(12115);var n=t(64936);function s(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("h1",{className:(0,n.cn)("scroll-m-20 text-4xl font-extrabold tracking-tight text-balance",t),...s,children:r})}function i(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("h2",{className:(0,n.cn)("scroll-m-20 text-3xl font-semibold tracking-tight transition-colors first:mt-0",t),...s,children:r})}function o(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("h3",{className:(0,n.cn)("scroll-m-20 text-2xl font-semibold tracking-tight",t),...s,children:r})}function l(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("h4",{className:(0,n.cn)("scroll-m-20 text-xl font-semibold tracking-tight",t),...s,children:r})}function d(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("p",{className:(0,n.cn)("leading-[1.5em]",t),...s,children:r})}function c(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("text-lg font-semibold",t),...s,children:r})}function u(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("small",{className:(0,n.cn)("text-sm font-medium leading-none",t),...s,children:r})}function m(e){let{children:r,className:t,...s}=e;return(0,a.jsx)("p",{className:(0,n.cn)("text-sm text-muted-foreground",t),...s,children:r})}},75701:(e,r,t)=>{"use strict";t.d(r,{hq:()=>n,in:()=>s,zE:()=>i});var a=t(80408);let n=(e,r)=>{var t;if(!e)return(0,a.FK)(r);if("PERSONAL"===((null==(t=e.organization)?void 0:t.type)||e.organizationType||""))return"COMPANY";let n=e.orgRole||e.role||(null==e?void 0:e.organizationRole)||r;return(0,a.FK)(n)},s=(e,r)=>{var t,a;let n=e.find(e=>e.orgId===r),s=null!=(a=null!=(t=null==n?void 0:n.orgRole)?t:null==n?void 0:n.role)?a:null;return s?s.toUpperCase():null},i=e=>{let r=(0,a.FK)(e);return"COMPANY"===r||"AGENT"===r||"TECHNICIAN"===r?"/dashboard":"/"}},80408:(e,r,t)=>{"use strict";t.d(r,{EL:()=>u,FK:()=>l,UD:()=>c,aJ:()=>d});let a=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],n=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"Jobs",icon:"Briefcase"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],s=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"My Jobs",icon:"Briefcase"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],i=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"My Jobs",icon:"Briefcase"},{path:"/jobs/job-management",label:"Job Board",icon:"Kanban"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],o=["OWNER","ADMIN","PROJECT_MANAGER","EDITOR"],l=e=>{let r=(e||"").toUpperCase();return"COMPANY"===r||o.includes(r)?"COMPANY":"TECHNICIAN"===r||"PROVIDER"===r?"TECHNICIAN":"AGENT"},d=(e,r,t)=>{if(!e)return null;let a=u(e,r,t);return a?a.showSidebar?"COMPANY":"AGENT"===a.accountType?"AGENT":"PERSONAL"===a.orgType?"COMPANY":"TECHNICIAN":null},c=e=>"COMPANY"===e;function u(e,r,t){var o;if(!e)return null;let l=r.find(e=>e.orgId===t),d=(null==l||null==(o=l.organization)?void 0:o.type)||(null==l?void 0:l.organizationType)||"PERSONAL",c="PERSONAL"===d?"PERSONAL_OWNER":(null==l?void 0:l.orgRole)||(null==l?void 0:l.role)||null,u=e.accountType||"PROVIDER",m=(c||"").toString().toUpperCase(),p="COMPANY"===d&&["OWNER","ADMIN","PROJECT_MANAGER"].includes(m),h=[],v=!1,x="New Job",f="",g=["OWNER","ADMIN","PERSONAL_OWNER"].includes(m)||"PERSONAL"===d;return p?(v=["OWNER","ADMIN"].includes(m),x="New Job",f=""):"AGENT"===u?(h=a,v=!0,x="Create Order",f="/booking"):"COMPANY"===d&&"EDITOR"===m?(h=i,v=!1):"COMPANY"===d&&"TECHNICIAN"===m?(h=s,v=!1):("PROVIDER"===u||"COMPANY"===u)&&(h=n,v=!1),{accountType:u,orgType:d,orgRole:c,showSidebar:p,isElevatedRole:p,navItems:h,canCreateOrder:v,createActionLabel:x,createActionPath:f,canManageCustomers:g}}},80492:(e,r,t)=>{"use strict";t.d(r,{p:()=>v});var a=t(95155),n=t(52619),s=t.n(n),i=t(12115),o=t(97003),l=t(33884),d=t(67812),c=t(90235),u=t(73344),m=t(93499),p=t(95657);let h={PHOTOGRAPHY:{label:"Photography",icon:"\uD83D\uDCF7"},VIDEOGRAPHY:{label:"Videography",icon:"\uD83C\uDFAC"},DRONE_AERIAL:{label:"Drone/Aerial",icon:"\uD83D\uDE81"},VIRTUAL_TOURS:{label:"Virtual Tours",icon:"\uD83C\uDFE0"},FLOOR_PLANS:{label:"Floor Plans",icon:"\uD83D\uDCD0"},EDITING:{label:"Editing",icon:"\uD83D\uDDBC️"},STAGING:{label:"Virtual Staging",icon:"\uD83D\uDECB️"},MEASUREMENTS:{label:"Measurements",icon:"\uD83D\uDCCF"}};function v(e){var r;let{provider:t,organizationSettingsPath:n}=e,[v,x]=(0,i.useState)([]),[f,g]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{let e=await p.F.users.getUseCases();x(e)}catch(e){console.error("Failed to load use cases:",e)}finally{g(!1)}})()},[]);let b=(0,i.useMemo)(()=>{var e;let{street:r,city:a,stateProvince:n,postalCode:s,country:i}=(null==(e=t.homeLocation)?void 0:e.address)||{};return[r,a,n,s,i].filter(Boolean).join(", ")},[null==(r=t.homeLocation)?void 0:r.address]);return(0,a.jsx)("main",{className:"container relative mx-auto",children:(0,a.jsx)("article",{className:"flex flex-col gap-2xl md:gap-3xl px-md",children:(0,a.jsxs)("div",{className:"@container w-full mt-md mb-md",children:[(0,a.jsx)("div",{className:"mb-md flex items-baseline justify-between",children:(0,a.jsx)(u.H2,{className:"text-lg border-0",children:"Profile"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsxs)(l.eu,{className:"size-24",children:[(0,a.jsx)(l.BK,{src:t.avatar}),(0,a.jsx)(l.q5,{className:"bg-primary text-primary-foreground text-2xl",children:t.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(u.H3,{className:"text-xl",children:t.name}),(0,a.jsx)(u.Oc,{className:"text-muted-foreground",children:t.email}),t.isIndependent?(0,a.jsx)(d.E,{variant:"outline",className:"border-primary text-foreground/90",children:"Independent Provider"}):(0,a.jsx)(d.E,{className:"bg-primary text-primary-foreground",children:t.companyName})]})]}),t.bio&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"About"}),(0,a.jsx)(u.Oc,{className:"text-muted-foreground",children:t.bio})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.J,{children:"Location"}),n&&(0,a.jsx)(o.$,{variant:"flat",size:"sm",className:"h-8 px-2 text-xs",asChild:!0,children:(0,a.jsxs)(s(),{href:n,children:["Workspace Settings",(0,a.jsx)(m.A,{className:"size-4 ml-1"})]})})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-muted-foreground",children:[t.phone&&(0,a.jsx)("div",{className:"text-foreground",children:t.phone}),(0,a.jsx)("div",{children:b||"No address available"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.yE,{className:"mb-1",children:t.reliability.totalJobs}),(0,a.jsx)(u.Oc,{className:"text-muted-foreground",children:"Total Jobs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.yE,{className:"mb-1",children:t.rating.overall}),(0,a.jsx)(u.Oc,{className:"text-muted-foreground",children:"Rating"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)(u.yE,{className:"mb-1",children:[(100*t.reliability.onTimeRate).toFixed(0),"%"]}),(0,a.jsx)(u.Oc,{className:"text-muted-foreground",children:"On-Time"})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsx)(c.J,{children:"Services"}),f?(0,a.jsx)(u.QX,{className:"text-sm",children:"Loading services..."}):v.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(e=>{let r=h[e];return r?(0,a.jsxs)(d.E,{variant:"secondary",className:"flex items-center gap-1.5 px-3 py-1.5",children:[r.icon,(0,a.jsx)("span",{children:r.label})]},e):null})}):(0,a.jsx)(u.QX,{className:"text-sm",children:"No services listed"})]}),t.portfolio&&t.portfolio.length>0&&(0,a.jsxs)("div",{className:"space-y-3 pt-6 border-t",children:[(0,a.jsx)(c.J,{children:"Notable Works"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.portfolio.map((e,r)=>(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"group relative aspect-[4/3] rounded-lg overflow-hidden bg-muted border border-border hover:border-primary transition-colors",children:[(0,a.jsx)("img",{src:e,alt:"Portfolio item ".concat(r+1),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"h-5 w-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},r))})]})]})]})})})}},90235:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var a=t(95155);t(12115);var n=t(32894),s=t(25016);function i(e){let{className:r,...t}=e;return(0,a.jsx)(n.b,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},93499:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(71847).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},96851:(e,r,t)=>{Promise.resolve().then(t.bind(t,8810))},97003:(e,r,t)=>{"use strict";t.d(r,{$:()=>l,r:()=>o});var a=t(95155);t(12115);var n=t(32467),s=t(83101),i=t(25016);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",muted:"text-primary border-none bg-muted hover:bg-primary/20 transition-colors duration-300",flat:"text-primary border-none bg-transparent hover:text-primary/60 transition-colors duration-300",activeFlat:"text-primary border-none bg-transparent",mutedFlat:"text-primary/60 border-none bg-transparent hover:text-primary/90 transition-colors duration-300"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:s,asChild:l=!1,...d}=e,c=l?n.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:s,className:r})),...d})}}},e=>{e.O(0,[547,5707,2110,2619,5657,5939,8441,1255,7358],()=>e(e.s=96851)),_N_E=e.O()}]);