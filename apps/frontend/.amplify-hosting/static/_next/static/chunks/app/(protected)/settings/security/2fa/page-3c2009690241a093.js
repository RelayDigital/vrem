(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4311],{7235:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(95155);r(12115);var a=r(27599),s=r(25016);function i(e){let{className:t,...r}=e;return(0,n.jsx)(a.bL,{"data-slot":"switch",className:(0,s.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,n.jsx)(a.zi,{"data-slot":"switch-thumb",className:(0,s.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},24632:(e,t,r)=>{"use strict";r.d(t,{l:()=>d});var n=r(12115),a=r(20063),s=r(65939),i=r(75701),l=r(80408);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,a.useRouter)(),{user:d,isLoading:o,activeOrganizationId:c,memberships:u}=(0,s.A)(),{redirectTo:h,enforceRedirect:f}=t,p=(0,n.useCallback)(()=>(0,i.in)(u,c),[u,c]);return(0,n.useEffect)(()=>{if(o)return;if(!d)return void r.push("/");let t=e.map(e=>(0,l.FK)(e)),n=(0,l.FK)(d.accountType),a=u.find(e=>e.orgId===c),s=(0,i.hq)(a,n);if(!t.includes(s)){if(!1===f)return;if(h)r.push(h);else{let e=(0,i.zE)(s);r.push(e)}}},[d,o,e,r,h,f,u,c]),{user:d,organizationId:c,memberships:u,isLoading:o,getActiveOrgRole:p}}},25023:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(95155),a=r(12115),s=r(24632),i=r(73344),l=r(7235),d=r(90235),o=r(18720),c=r(42713);function u(){let{user:e,isLoading:t}=(0,s.l)(["COMPANY","AGENT","TECHNICIAN","EDITOR","PROJECT_MANAGER"]),[r,u]=(0,a.useState)(!1);return e?(0,n.jsx)(c.U,{id:"2fa",title:"Two-Factor Authentication",description:"Add an extra layer of security to your account.",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(d.J,{children:"2FA Settings"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.J,{htmlFor:"2fa",children:"Enable Two-Factor Authentication"}),(0,n.jsx)(i.QX,{className:"text-xs block",children:"Require a verification code in addition to your password"})]}),(0,n.jsx)(l.d,{id:"2fa",checked:r,onCheckedChange:e=>{e?o.oR.info("2FA setup wizard will open here"):o.oR.success("2FA disabled successfully"),u(e)}})]}),r&&(0,n.jsx)("div",{className:"pt-4 border-t",children:(0,n.jsx)(i.QX,{className:"text-sm",children:"2FA is enabled. Use your authenticator app to generate codes."})})]})]})}):null}},72632:(e,t,r)=>{Promise.resolve().then(r.bind(r,25023))},75701:(e,t,r)=>{"use strict";r.d(t,{hq:()=>a,in:()=>s,zE:()=>i});var n=r(80408);let a=(e,t)=>{var r;if(!e)return(0,n.FK)(t);if("PERSONAL"===((null==(r=e.organization)?void 0:r.type)||e.organizationType||""))return"COMPANY";let a=e.orgRole||e.role||(null==e?void 0:e.organizationRole)||t;return(0,n.FK)(a)},s=(e,t)=>{var r,n;let a=e.find(e=>e.orgId===t),s=null!=(n=null!=(r=null==a?void 0:a.orgRole)?r:null==a?void 0:a.role)?n:null;return s?s.toUpperCase():null},i=e=>{let t=(0,n.FK)(e);return"COMPANY"===t||"AGENT"===t||"TECHNICIAN"===t?"/dashboard":"/"}}},e=>{e.O(0,[547,5707,2110,8730,5657,5939,8698,8441,1255,7358],()=>e(e.s=72632)),_N_E=e.O()}]);