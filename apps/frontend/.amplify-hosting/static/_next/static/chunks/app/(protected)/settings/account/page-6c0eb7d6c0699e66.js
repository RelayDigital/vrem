(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6504],{6793:(e,t,r)=>{Promise.resolve().then(r.bind(r,58602))},16917:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var a=r(95155),s=r(12115),o=r(14099);r(64458);var n=r(33884),l=r(97003),i=r(35299),c=r(95664),d=r(71360),u=r(25016);let m={sm:"h-16 w-16",md:"h-24 w-24",lg:"h-32 w-32"};function p(e){let{currentUrl:t,fallback:r,onUpload:p,onRemove:g,size:h="md",className:v,disabled:f=!1}=e,[b,x]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),A=async e=>{if(!(null==e?void 0:e.allEntries))return;let t=e.allEntries.find(e=>"success"===e.status&&e.cdnUrl);if(null==t?void 0:t.cdnUrl){x(!0);try{await p(t.cdnUrl)}finally{x(!1),N(!1)}}},T=async()=>{if(g){j(!0);try{await g()}finally{j(!1)}}};return(0,a.jsxs)("div",{className:(0,u.cn)("flex flex-col items-center gap-3",v),children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)(n.eu,{className:(0,u.cn)(m[h],"border-2 border-border"),children:[(0,a.jsx)(n.BK,{src:t||void 0,alt:"Avatar"}),(0,a.jsx)(n.q5,{className:"text-xl font-semibold",children:r})]}),!f&&(0,a.jsx)("div",{className:(0,u.cn)("absolute inset-0 rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity","flex items-center justify-center cursor-pointer"),onClick:()=>N(!0),children:b?(0,a.jsx)(i.A,{className:"h-6 w-6 text-white animate-spin"}):(0,a.jsx)(c.A,{className:"h-6 w-6 text-white"})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>N(!0),disabled:f||b,children:[b?(0,a.jsx)(i.A,{className:"h-4 w-4 mr-1 animate-spin"}):(0,a.jsx)(c.A,{className:"h-4 w-4 mr-1"}),t?"Change":"Upload"]}),t&&g&&(0,a.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:T,disabled:f||y,children:y?(0,a.jsx)(i.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(d.A,{className:"h-4 w-4"})})]}),w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-background p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Upload Photo"}),(0,a.jsx)(o.vY,{pubkey:"dbf470d49c954f9f6143",classNameUploader:"uc-light uc-gray",sourceList:"local, camera, url",userAgentIntegration:"llm-nextjs",filesViewMode:"list",useCloudImageEditor:!0,multiple:!1,accept:"image/*",imgOnly:!0,onChange:A}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"})})]})})]})}},20120:(e,t,r)=>{"use strict";r.d(t,{$v:()=>h,EO:()=>u,Lt:()=>l,Rx:()=>v,Zr:()=>f,ck:()=>p,r7:()=>g,tv:()=>i,wd:()=>m});var a=r(95155);r(12115);var s=r(52498),o=r(64936),n=r(97003);function l(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"alert-dialog",...t})}function i(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"alert-dialog-trigger",...t})}function c(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"alert-dialog-portal",...t})}function d(e){let{className:t,...r}=e;return(0,a.jsx)(s.hJ,{"data-slot":"alert-dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function u(e){let{className:t,...r}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(s.UC,{"data-slot":"alert-dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function m(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function g(e){let{className:t,...r}=e;return(0,a.jsx)(s.hE,{"data-slot":"alert-dialog-title",className:(0,o.cn)("text-lg font-semibold",t),...r})}function h(e){let{className:t,...r}=e;return(0,a.jsx)(s.VY,{"data-slot":"alert-dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...r})}function v(e){let{className:t,...r}=e;return(0,a.jsx)(s.rc,{className:(0,o.cn)((0,n.r)(),t),...r})}function f(e){let{className:t,...r}=e;return(0,a.jsx)(s.ZD,{className:(0,o.cn)((0,n.r)({variant:"outline"}),t),...r})}},24632:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var a=r(12115),s=r(20063),o=r(65939),n=r(75701),l=r(80408);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,s.useRouter)(),{user:i,isLoading:c,activeOrganizationId:d,memberships:u}=(0,o.A)(),{redirectTo:m,enforceRedirect:p}=t,g=(0,a.useCallback)(()=>(0,n.in)(u,d),[u,d]);return(0,a.useEffect)(()=>{if(c)return;if(!i)return void r.push("/");let t=e.map(e=>(0,l.FK)(e)),a=(0,l.FK)(i.accountType),s=u.find(e=>e.orgId===d),o=(0,n.hq)(s,a);if(!t.includes(o)){if(!1===p)return;if(m)r.push(m);else{let e=(0,n.zE)(o);r.push(e)}}},[i,c,e,r,m,p,u,d]),{user:i,organizationId:d,memberships:u,isLoading:c,getActiveOrgRole:g}}},25703:(e,t,r)=>{"use strict";r.d(t,{AY:()=>g,Mw:()=>h,Wo:()=>d,ue:()=>m});var a=r(95155),s=r(12115),o=r(20063),n=r(84579);r(52516);var l=r(95657),i=r(18720),c=r(65939);let d={DASHBOARD_OVERVIEW:{title:"Dashboard Overview",description:"Learn how to navigate your dashboard and understand key metrics",icon:"\uD83D\uDCCA",route:"/dashboard"},JOB_MANAGEMENT:{title:"Job Management",description:"Master viewing and tracking jobs",icon:"\uD83D\uDCCB",route:"/jobs/all-jobs"},MESSAGING_CHAT:{title:"Messaging & Chat",description:"Communicate with your team and customers",icon:"\uD83D\uDCAC",route:"/jobs/all-jobs"},SETTINGS_INTEGRATIONS:{title:"Settings & Integrations",description:"Configure your account and connect external services",icon:"⚙️",route:"/settings/account"}},u=(0,s.createContext)(void 0);function m(e,t){let r=p[e];if(!(null==t?void 0:t.accountType))return r;let{accountType:a,orgType:s,orgRole:o}=t,n="PERSONAL"===s&&"COMPANY"===a?"PROVIDER":a;return r.filter(e=>!e.allowedAccountTypes||(1===e.allowedAccountTypes.length&&"COMPANY"===e.allowedAccountTypes[0]?"PERSONAL"!==s&&"COMPANY"===s&&("OWNER"===o||"ADMIN"===o):e.allowedAccountTypes.includes(n)))}let p={DASHBOARD_OVERVIEW:[{id:"agent-welcome",targetSelector:'[data-tour="dashboard-article"]',title:"Welcome to Your Dashboard!",description:"This is your central hub for ordering and tracking real estate media. Let's take a quick tour.",placement:"bottom",allowedAccountTypes:["AGENT"]},{id:"agent-create-order",targetSelector:'[data-tour="jobs-create-button"]',title:"Create New Orders",description:"Click here to order photography, videography, or other media services for your listings.",placement:"bottom",allowedAccountTypes:["AGENT"]},{id:"agent-stats",targetSelector:'[data-tour="agent-stats"]',title:"Order Status",description:"Track the status of all your orders at a glance - pending, in progress, and completed.",placement:"bottom",allowedAccountTypes:["AGENT"]},{id:"agent-jobs-tabs",targetSelector:'[data-tour="jobs-tabs"]',title:"Filter Your Orders",description:"Use these tabs to filter orders by status. Quickly find pending, assigned, in-progress, or completed jobs.",placement:"bottom",allowedAccountTypes:["AGENT"]},{id:"agent-jobs-list",targetSelector:'[data-tour="agent-jobs-list"]',title:"Your Orders",description:"View all your media orders here. Click any order to see details, track progress, or communicate with your provider.",placement:"top",allowedAccountTypes:["AGENT"]},{id:"dashboard-welcome",targetSelector:'[data-tour="dashboard-article"]',title:"Welcome to Your Dashboard!",description:"This is your central hub for managing all your real estate media projects. Let's take a quick tour.",placement:"bottom",allowedAccountTypes:["PROVIDER"]},{id:"dashboard-metrics",targetSelector:'[data-tour="dashboard-metrics"]',title:"Key Metrics",description:"Track your performance with real-time statistics including active jobs, completed projects, and ratings.",placement:"bottom",allowedAccountTypes:["PROVIDER"]},{id:"dashboard-calendar",targetSelector:'[data-tour="dashboard-calendar"]',title:"Your Schedule",description:"View your upcoming jobs on the calendar. Click any event to see job details.",placement:"top",allowedAccountTypes:["PROVIDER"]},{id:"dashboard-map",targetSelector:'[data-tour="dashboard-map"]',title:"Live Job Map",description:"See all your scheduled jobs on an interactive map. Click pins to view job details and get directions.",placement:"top",allowedAccountTypes:["PROVIDER"]},{id:"dashboard-jobs",targetSelector:'[data-tour="dashboard-jobs"]',title:"Active Jobs",description:"Quick access to your current projects. Click any job to view details or update status.",placement:"top",allowedAccountTypes:["PROVIDER"]}],JOB_MANAGEMENT:[{id:"agent-jobs-intro",targetSelector:'[data-tour="agent-jobs-list"]',title:"Your Orders",description:"Here you can see all your media orders. We've created a demo order to show you around.",placement:"top",allowedAccountTypes:["AGENT"]},{id:"agent-jobs-open-demo",targetSelector:'[data-tour="agent-jobs-list"]',title:"View Order Details",description:"Click on the demo order to see its full details, track progress, and communicate with your provider.",placement:"top",allowedAccountTypes:["AGENT"],openDemoProject:!0,requiresInteraction:!0,actionText:"Click the demo order card to continue"},{id:"agent-job-details",targetSelector:'[data-tour="job-task-view"]',title:"Order Details",description:"This panel shows all information about your order including status, scheduled time, and property details.",placement:"left",allowedAccountTypes:["AGENT"]},{id:"agent-job-status",targetSelector:'[data-tour="job-status-section"]',title:"Track Order Status",description:"Watch your order progress through each stage: Booked → Shooting → Editing → Delivered.",placement:"left",allowedAccountTypes:["AGENT"]},{id:"agent-job-chat",targetSelector:'[data-tour="messaging-section"], [data-tour="messaging-compose"]',title:"Message Your Provider",description:"Use the chat to communicate directly with your media provider about this order.",placement:"top",allowedAccountTypes:["AGENT"]},{id:"jobs-overview",targetSelector:'[data-tour="jobs-header"], [data-tour="jobs-view"]',title:"Job Management",description:"This is where you view and manage all your photography and videography jobs.",placement:"bottom",allowedAccountTypes:["PROVIDER"]},{id:"jobs-filters",targetSelector:'[data-tour="jobs-filters"]',title:"Search & Filter",description:"Search for jobs by address or client name, filter by status or priority, and sort by date or client.",placement:"bottom",allowedAccountTypes:["PROVIDER"]},{id:"jobs-list",targetSelector:'[data-tour="jobs-list"]',title:"Job Cards",description:"Each card shows key job info including address, status, and scheduled time. Click any job to see full details.",placement:"top",allowedAccountTypes:["PROVIDER"]},{id:"jobs-status-provider",targetSelector:'[data-tour="jobs-list"]',title:"Update Job Status",description:"As you complete work, update the job status to keep everyone informed. Jobs progress from Assigned → In Progress → Editing → Delivered.",placement:"top",allowedAccountTypes:["PROVIDER"]},{id:"jobs-assign",targetSelector:'[data-tour="jobs-list"]',title:"Assign Team Members",description:"Assign photographers, videographers, and editors to jobs. They'll receive automatic notifications.",placement:"top",allowedAccountTypes:["COMPANY"]}],MESSAGING_CHAT:[{id:"messaging-intro",targetSelector:'[data-tour="jobs-list"]',title:"Job Messaging",description:"Every job has built-in messaging. Click on the demo job to see the chat feature.",placement:"top",allowedAccountTypes:["PROVIDER"],openDemoProject:!0,requiresInteraction:!0,actionText:"Click the demo job card to continue"},{id:"messaging-task-view",targetSelector:'[data-tour="job-task-view"]',title:"Job Details & Chat",description:"This is the job detail view where you can see all job information and communicate via chat.",placement:"left",allowedAccountTypes:["PROVIDER"]},{id:"messaging-channels",targetSelector:'[data-tour="messaging-tabs"]',title:"Message Channels",description:"Each job has two channels: Team Chat (internal discussions) and Customer Chat (client-facing messages).",placement:"bottom",allowedAccountTypes:["COMPANY"]},{id:"messaging-customer-chat",targetSelector:'[data-tour="messaging-section"], [data-tour="messaging-compose"]',title:"Customer Chat",description:"Use the chat to communicate with your customers about this job. All messages are saved for your reference.",placement:"top",allowedAccountTypes:["PROVIDER"]},{id:"messaging-compose",targetSelector:'[data-tour="messaging-compose"]',title:"Send Messages",description:"Type your message and press Enter to send. You can also attach files and images.",placement:"top",allowedAccountTypes:["PROVIDER"]}],SETTINGS_INTEGRATIONS:[{id:"settings-welcome",targetSelector:'[data-tour="settings-header"]',title:"Settings & Preferences",description:"Configure your account, connect calendars, and manage your preferences here.",placement:"bottom",route:"/settings/account"},{id:"settings-navigation",targetSelector:'[data-tour="settings-nav"]',title:"Settings Navigation",description:"Use the sidebar to navigate between different settings sections: Personal, Organization, Security, and more.",placement:"right"},{id:"settings-account",targetSelector:'[data-tour="settings-content"]',title:"Account Settings",description:"Update your name, email, and profile information. Changes are saved automatically.",placement:"left"},{id:"settings-tour-restart",targetSelector:'[data-tour="settings-tour-section"]',title:"Restart the Tour Anytime",description:"You can always come back here to restart the setup guide and revisit any of the tutorials whenever you need a refresher.",placement:"top"},{id:"settings-calendar",targetSelector:'[data-tour="settings-calendar-link"]',title:"Calendar Integration",description:"Connect your Google or Outlook calendar to automatically sync your job schedule.",placement:"right",route:"/settings/calendar",allowedAccountTypes:["PROVIDER"]},{id:"settings-notifications",targetSelector:'[data-tour="settings-notifications-link"]',title:"Notification Preferences",description:"Control how and when you receive notifications about jobs, messages, and updates.",placement:"right"},{id:"settings-org",targetSelector:'[data-tour="settings-org-section"]',title:"Organization Settings",description:"Manage your company profile, team members, and billing information.",placement:"right",allowedAccountTypes:["COMPANY"]}]};function g(e){let{children:t}=e,r=(0,o.useRouter)(),p=(0,o.usePathname)(),{user:g,activeOrganizationId:h,memberships:v}=(0,c.A)(),f=(0,s.useMemo)(()=>{var e;if(!g||!h||!v)return{accountType:null==g?void 0:g.accountType};let t=v.find(e=>e.orgId===h);if(!t)return{accountType:g.accountType};let r=(null==(e=t.organization)?void 0:e.type)||"PERSONAL",a=t.orgRole||t.role||"MEMBER";return{accountType:g.accountType,orgType:r,orgRole:a}},[g,h,v]),[b,x]=(0,s.useState)(null),[y,j]=(0,s.useState)(!0),[w,N]=(0,s.useState)(null),[A,T]=(0,s.useState)(null),[C,E]=(0,s.useState)(0),[S,k]=(0,s.useState)(!1),R=(0,s.useRef)(null),P=(0,s.useRef)(0),O=(0,s.useRef)(!1),I=(0,s.useRef)(null),D=(0,s.useRef)(null),F=(0,s.useRef)(!1),M=(0,s.useRef)(null),G=["JOB_MANAGEMENT","MESSAGING_CHAT"],Y=(0,s.useCallback)(()=>{I.current&&window.dispatchEvent(new CustomEvent("openJobTaskView",{detail:{id:I.current}}))},[]),V=(0,s.useCallback)(async()=>{try{j(!0),N(null);let e=await l.F.tours.getStatus();if(x(e),e.hasDemoProject&&!S&&!O.current){console.log("Found orphaned demo project, cleaning up...");let t=e.demoProjectId;try{await l.F.tours.deleteDemoProject(),t&&window.dispatchEvent(new CustomEvent("jobDeleted",{detail:{jobId:t}})),window.dispatchEvent(new CustomEvent("tourDemoProjectChanged"))}catch(e){console.error("Failed to cleanup orphaned demo project:",e)}}}catch(e){console.error("Failed to fetch tour status:",e),N(e.message||"Failed to load tour status")}finally{j(!1)}},[S]);(0,s.useEffect)(()=>{V()},[V]);let z=(0,s.useRef)(!1);(0,s.useEffect)(()=>()=>{O.current&&l.F.tours.deleteDemoProject().catch(console.error)},[]);let J=(0,s.useCallback)(e=>{var t,r;return null!=(r=null==b||null==(t=b.trackProgress)?void 0:t[e])?r:null},[b]),U=["DASHBOARD_OVERVIEW","JOB_MANAGEMENT","MESSAGING_CHAT","SETTINGS_INTEGRATIONS"],_=(0,s.useCallback)(()=>{let e=U.reduce((e,t)=>{var r,a;let s=m(t,f);if(0===s.length)return e;let o=null==b||null==(r=b.trackProgress)?void 0:r[t];return{completed:e.completed+(null!=(a=null==o?void 0:o.completed)?a:0),total:e.total+s.length}},{completed:0,total:0});return{...e,percentage:e.total>0?Math.round(e.completed/e.total*100):0}},[b,f]),L=(0,s.useCallback)(e=>e.map(e=>{let t=e.requiresInteraction||e.openDemoProject,r=e.description;if(t){let t=e.actionText||"Click the highlighted element to continue";r="".concat(e.description,"\n\n\uD83D\uDC46 **").concat(t,"**")}return{element:e.targetSelector,popover:{title:e.title,description:r,side:e.placement||"bottom",align:"center",showButtons:t?["previous","close"]:["next","previous","close"],popoverClass:t?"vrem-tour-popover vrem-tour-requires-interaction":"vrem-tour-popover"}}}),[]),B=(0,s.useCallback)(()=>{window.dispatchEvent(new CustomEvent("tourDemoProjectChanged"))},[]),H=(0,s.useCallback)(async()=>{if(O.current){let e=I.current;try{await l.F.tours.deleteDemoProject(),O.current=!1,I.current=null,e&&window.dispatchEvent(new CustomEvent("jobDeleted",{detail:{jobId:e}})),B()}catch(e){console.error("Failed to delete demo project:",e)}}},[B]),q=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=m(e,f);if(!a||0===a.length)return void i.oR.error("Tour steps not configured");let s=Math.min(Math.max(0,t),a.length-1);T(e),E(s),k(!0),M.current=e,setTimeout(()=>{let t=(0,n.B)({showProgress:!0,animate:!0,allowClose:!0,overlayColor:"rgba(0, 0, 0, 0.75)",stagePadding:10,popoverClass:"vrem-tour-popover",steps:L(a),onDestroyStarted:()=>{H(),M.current=null,F.current=!1,k(!1),T(null),E(0)},onHighlightStarted:(t,r,s)=>{let o=a[s.state.activeIndex||0];o&&(l.F.tours.updateProgress({tourTrack:e,stepId:o.id,completed:!1}).catch(console.error),o.requiresInteraction||o.openDemoProject?F.current=!0:F.current=!1)},onNextClick:(s,o,c)=>{let u=c.state.activeIndex||0,m=a[u],g=a[u+1],h=u===a.length-1;if(m&&l.F.tours.updateProgress({tourTrack:e,stepId:m.id,completed:!0}).catch(console.error),h){l.F.tours.completeTrack(e).catch(console.error),H(),t.destroy(),k(!1),T(null),E(0),V(),i.oR.success("".concat(d[e].title," completed!"));return}if((null==m?void 0:m.openDemoProject)&&I.current){Y();let e=()=>{document.querySelector('[data-tour="job-task-view"]')?(E(u+1),t.moveNext()):setTimeout(e,100)};setTimeout(e,300);return}if((null==g?void 0:g.route)&&p!==g.route){t.destroy(),E(u+1),r.push(g.route),setTimeout(()=>{let t=a.slice(u+1);if(t.length>0){let r=(0,n.B)({showProgress:!0,animate:!0,allowClose:!0,overlayColor:"rgba(0, 0, 0, 0.75)",stagePadding:10,popoverClass:"vrem-tour-popover",steps:L(t),onDestroyStarted:()=>{H(),M.current=null,F.current=!1,k(!1),T(null),E(0)},onNextClick:(a,s,o)=>{let n=o.state.activeIndex||0,c=n===t.length-1,u=t[n];if(u&&l.F.tours.updateProgress({tourTrack:e,stepId:u.id,completed:!0}).catch(console.error),c){l.F.tours.completeTrack(e).catch(console.error),H(),r.destroy(),k(!1),T(null),E(0),V(),i.oR.success("".concat(d[e].title," completed!"));return}r.moveNext()}});D.current=r,r.drive()}},500);return}E(u+1),t.moveNext()},onPrevClick:(e,r,a)=>{E(Math.max(0,(a.state.activeIndex||0)-1)),t.movePrevious()},onCloseClick:()=>{t.destroy()}});D.current=t,t.drive(s)},300)},[L,p,r,null==g?void 0:g.accountType,H,V,Y]),$=(0,s.useCallback)(async function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=d[e].route;if((null==g||null==(t=g.accountType)?void 0:t.toUpperCase())==="AGENT"&&("JOB_MANAGEMENT"===e||"MESSAGING_CHAT"===e)&&(s="/dashboard"),G.includes(e))if(h)try{l.F.organizations.setActiveOrganization(h);let e=await l.F.tours.createDemoProject();O.current=!0,I.current=e.id,B(),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Failed to create demo project:",e),i.oR.error("Failed to create demo project: ".concat((null==e?void 0:e.message)||"Unknown error"))}else i.oR.error("No organization selected. Please select an organization first.");p!==s?(R.current=e,P.current=a,r.push(s)):q(e,a)},[p,r,q,B,h,null==g?void 0:g.accountType]),W=(0,s.useCallback)((e,t)=>{$(e,t)},[$]);(0,s.useEffect)(()=>{if(!z.current&&!y&&b&&"/dashboard"===p&&!b.dismissedGuide&&!b.hasCompletedSetup&&!Object.values(b.trackProgress||{}).some(e=>e&&(e.completed>0||e.finished))){z.current=!0;let e=setTimeout(()=>{$("DASHBOARD_OVERVIEW")},1e3);return()=>clearTimeout(e)}},[y,b,p,$]),(0,s.useEffect)(()=>{if(R.current){let e=R.current,t=P.current;p===d[e].route&&(R.current=null,P.current=0,setTimeout(()=>{q(e,t)},500))}},[p,q]),(0,s.useEffect)(()=>{let e=e=>{if(F.current&&D.current&&M.current){var t;if((null==(t=e.detail)?void 0:t.id)===I.current||I.current){let e=()=>{if(document.querySelector('[data-tour="job-task-view"]')){var t,r,a;F.current=!1;let e=M.current,s=m(e,f),o=(null==(r=D.current)||null==(t=r.getState())?void 0:t.activeIndex)||0,n=s[o];n&&l.F.tours.updateProgress({tourTrack:e,stepId:n.id,completed:!0}).catch(console.error),E(o+1),null==(a=D.current)||a.moveNext()}else setTimeout(e,100)};setTimeout(e,300)}}};return window.addEventListener("jobTaskViewOpened",e),()=>{window.removeEventListener("jobTaskViewOpened",e)}},[null==g?void 0:g.accountType]);let Q=(0,s.useCallback)(()=>{D.current&&D.current.moveNext()},[]),X=(0,s.useCallback)(()=>{D.current&&D.current.movePrevious()},[]),K=(0,s.useCallback)(()=>{if(D.current&&A){let e=m(A,f)[C];e&&l.F.tours.updateProgress({tourTrack:A,stepId:e.id,skipped:!0}).catch(console.error),D.current.moveNext()}},[A,C,null==g?void 0:g.accountType]),Z=(0,s.useCallback)(async()=>{D.current&&D.current.destroy(),R.current=null,P.current=0,M.current=null,F.current=!1,await H(),k(!1),T(null),E(0)},[H]),ee=(0,s.useCallback)(async e=>{try{await l.F.tours.completeTrack(e),await V(),i.oR.success("".concat(d[e].title," completed!"))}catch(e){console.error("Failed to complete track:",e),i.oR.error("Failed to mark track as complete")}},[V]),et=(0,s.useCallback)(async()=>{try{D.current&&D.current.destroy(),await H(),k(!1),T(null),E(0),M.current=null,F.current=!1,await l.F.tours.dismissGuide(),await V()}catch(e){console.error("Failed to dismiss guide:",e),i.oR.error("Failed to dismiss guide")}},[V,H]),er=(0,s.useCallback)(async()=>{try{D.current&&D.current.destroy(),k(!1),T(null),E(0),M.current=null,F.current=!1,O.current=!1,I.current=null,await l.F.tours.resetProgress(),await V(),i.oR.success("Tour progress has been reset")}catch(e){console.error("Failed to reset progress:",e),i.oR.error("Failed to reset progress")}},[V]),ea=!y&&!w&&!(null==b?void 0:b.dismissedGuide)&&!(null==b?void 0:b.hasCompletedSetup);return(0,a.jsx)(u.Provider,{value:{status:b,isLoading:y,error:w,activeTour:A,activeStepIndex:C,isTourActive:S,shouldShowGuide:ea,tourStepContext:f,getTrackProgress:J,getOverallProgress:_,startTour:$,startTourFromStep:W,nextStep:Q,prevStep:X,skipStep:K,exitTour:Z,completeTrack:ee,dismissGuide:et,resetProgress:er,refetchStatus:V},children:t})}function h(){let e=(0,s.useContext)(u);if(void 0===e)throw Error("useTour must be used within a TourProvider");return e}},33789:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(95155);r(12115);var s=r(83101),o=r(64936);let n=(0,s.F)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex w-full min-w-0 rounded-md transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"border-input bg-input-background dark:bg-input/30 border px-3 py-1",outline:"border-2 bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border px-3 py-1",ghost:"border-0 bg-transparent hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 px-3 py-1",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 px-3 py-1",muted:"border-transparent bg-muted text-foreground hover:bg-muted/80 px-3 py-1",flat:"border-0 bg-transparent px-3 py-1"},size:{default:"h-9 text-base md:text-sm",sm:"h-8 text-sm px-2.5 py-1",lg:"h-10 text-base px-4 py-2"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,type:r,variant:s,size:l,...i}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,o.cn)(n({variant:s,size:l}),t),...i})}},33884:(e,t,r)=>{"use strict";r.d(t,{BK:()=>l,eu:()=>n,q5:()=>i});var a=r(95155);r(12115);var s=r(63366),o=r(64936);function n(e){let{className:t,...r}=e;return(0,a.jsx)(s.bL,{"data-slot":"avatar",className:(0,o.cn)("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(s._V,{"data-slot":"avatar-image",className:(0,o.cn)("aspect-square size-full",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,o.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},36838:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var a=r(95155),s=r(35299),o=r(25016);function n(e){let{className:t,...r}=e;return(0,a.jsx)(s.A,{role:"status","aria-label":"Loading",className:(0,o.cn)("size-4 animate-spin",t),...r})}},55850:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var a=r(95155),s=r(12115),o=r(77450),n=r(25016);let l=s.forwardRef((e,t)=>{let{className:r,value:s,indicatorClassName:l,...i}=e;return(0,a.jsx)(o.bL,{ref:t,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...i,children:(0,a.jsx)(o.C1,{className:(0,n.cn)("h-full w-full flex-1 bg-primary transition-all",l),style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});l.displayName=o.bL.displayName},58602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var a=r(95155),s=r(12115),o=r(20063),n=r(28014),l=r(24632),i=r(73344),c=r(33789),d=r(90235),u=r(97003),m=r(18720),p=r(42713),g=r(95657),h=r(25703),v=r(65939),f=r(99265),b=r(89442),x=r(48314),y=r(52056),j=r(80501),w=r(71360),N=r(16917),A=r(29633),T=r(35299),C=r(5917),E=r(25016);let S=[{value:"PHOTOGRAPHY",label:"Photography",icon:"\uD83D\uDCF7"},{value:"VIDEOGRAPHY",label:"Videography",icon:"\uD83C\uDFAC"},{value:"DRONE_AERIAL",label:"Drone/Aerial",icon:"\uD83D\uDE81"},{value:"VIRTUAL_TOURS",label:"Virtual Tours",icon:"\uD83C\uDFE0"},{value:"FLOOR_PLANS",label:"Floor Plans",icon:"\uD83D\uDCD0"},{value:"EDITING",label:"Editing",icon:"\uD83D\uDDBC️"},{value:"STAGING",label:"Virtual Staging",icon:"\uD83D\uDECB️"},{value:"MEASUREMENTS",label:"Measurements",icon:"\uD83D\uDCCF"}];function k(e){let{className:t}=e,[r,o]=(0,s.useState)([]),[n,l]=(0,s.useState)([]),[c,p]=(0,s.useState)(!0),[h,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=await g.F.users.getUseCases();o(e),l(e)}catch(e){console.error("Failed to load use cases:",e),m.oR.error("Failed to load services")}finally{p(!1)}})()},[]);let f=JSON.stringify([...r].sort())!==JSON.stringify([...n].sort()),b=async()=>{if(0===r.length)return void m.oR.error("Please select at least one service");v(!0);let e=[...n];l([...r]);try{await g.F.users.updateUseCases(r),m.oR.success("Services updated successfully")}catch(t){console.error("Failed to update use cases:",t),l(e),m.oR.error(t instanceof Error?t.message:"Failed to update services")}finally{v(!1)}};return c?(0,a.jsxs)("div",{className:(0,E.cn)("space-y-3",t),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)(d.J,{className:"text-base",children:"Services You Offer"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(T.A,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}):(0,a.jsxs)("div",{className:(0,E.cn)("space-y-3",t),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)(d.J,{className:"text-base",children:"Services You Offer"})]}),(0,a.jsx)(i.QX,{className:"text-sm",children:"Select all the services you provide. This helps clients find you for the right jobs."}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:S.map(e=>{let t=r.includes(e.value);return(0,a.jsxs)("button",{type:"button",onClick:()=>{var t;return t=e.value,void o(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},disabled:h,className:(0,E.cn)("relative p-3 rounded-lg border-2 text-center transition-all","hover:border-primary hover:bg-primary/5","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",t?"border-primary bg-primary/10":"border-border"),children:[t&&(0,a.jsx)("div",{className:"absolute top-1 right-1 w-4 h-4 rounded-full bg-primary flex items-center justify-center",children:(0,a.jsx)(C.A,{className:"w-2.5 h-2.5 text-primary-foreground"})}),(0,a.jsx)("div",{className:"text-xl mb-1",children:e.icon}),(0,a.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.value)})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)(i.QX,{className:"text-sm",children:[r.length," service",1!==r.length?"s":""," selected"]}),f&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{o(n)},disabled:h,children:"Reset"}),(0,a.jsxs)(u.$,{type:"button",size:"sm",onClick:b,disabled:h||0===r.length,children:[h&&(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Services"]})]})]})]})}var R=r(55850),P=r(67812),O=r(36838),I=r(20120);function D(){var e,t,r;let A=(0,o.useRouter)(),{logout:T}=(0,v.A)(),{user:C}=(0,n.Jd)(),{user:E,isLoading:S}=(0,l.l)(["COMPANY","AGENT","TECHNICIAN","EDITOR","PROJECT_MANAGER"]),{status:D,getOverallProgress:F,resetProgress:M,refetchStatus:G}=(0,h.Mw)(),[Y,V]=(0,s.useState)((null==E?void 0:E.name)||""),[z,J]=(0,s.useState)((null==E?void 0:E.email)||""),[U,_]=(0,s.useState)(!1),[L,B]=(0,s.useState)(!1),[H,q]=(0,s.useState)(""),[$,W]=(0,s.useState)(""),[Q,X]=(0,s.useState)(!1),[K,Z]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1),[er,ea]=(0,s.useState)(!1);(0,s.useEffect)(()=>{V((null==E?void 0:E.name)||""),J((null==E?void 0:E.email)||"")},[E]);let es=F(),eo=null!=(t=null==D?void 0:D.hasCompletedSetup)&&t,en=null!=(r=null==D?void 0:D.dismissedGuide)&&r,el=async()=>{B(!0);try{await M(),await G(),m.oR.success("Setup guide has been reset"),A.push("/dashboard")}catch(e){m.oR.error("Failed to reset setup guide"),console.error("Failed to reset tour:",e)}finally{B(!1)}},ei=async()=>{if(!H)return void m.oR.error("Please enter your password to confirm");X(!0);try{await g.F.users.deactivateAccount(H),m.oR.success("Your account has been deactivated"),et(!1),q(""),T()}catch(e){m.oR.error(e instanceof Error?e.message:"Failed to deactivate account")}finally{X(!1)}},ec=async()=>{if(!$)return void m.oR.error("Please enter your password to confirm");Z(!0);try{await g.F.users.deleteAccount($),m.oR.success("Your account has been permanently deleted"),ea(!1),W(""),T()}catch(e){m.oR.error(e instanceof Error?e.message:"Failed to delete account")}finally{Z(!1)}};if(!E)return null;let ed=async()=>{try{if(_(!0),await g.F.users.update(E.id,{name:Y}),C&&Y!==E.name){let e=Y.trim().split(" "),t=e[0]||"",r=e.slice(1).join(" ")||"";await C.update({firstName:t,lastName:r})}m.oR.success("Account settings saved successfully")}catch(e){m.oR.error(e instanceof Error?e.message:"Failed to update account")}finally{_(!1)}};return(0,a.jsx)(p.U,{id:"account",title:"Account",description:"Manage your account settings and preferences.",onSave:ed,isSaving:U,children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-lg",children:[(0,a.jsxs)("div",{className:"space-y-3 md:col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)(d.J,{className:"text-base",children:"Profile Picture"})]}),(0,a.jsx)(N.k,{currentUrl:E.avatarUrl,fallback:(null==(e=E.name)?void 0:e.charAt(0).toUpperCase())||"U",onUpload:async e=>{if(await g.F.users.update(E.id,{avatarUrl:e}),C)try{let t=await fetch(e),r=await t.blob(),a=new File([r],"avatar.jpg",{type:r.type});await C.setProfileImage({file:a})}catch(e){console.warn("Failed to sync avatar to Clerk:",e)}m.oR.success("Profile picture updated"),window.location.reload()},onRemove:async()=>{if(await g.F.users.update(E.id,{avatarUrl:""}),C)try{await C.setProfileImage({file:null})}catch(e){console.warn("Failed to remove avatar from Clerk:",e)}m.oR.success("Profile picture removed"),window.location.reload()},size:"lg"})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2 pt-4 border-t",children:[(0,a.jsx)(d.J,{htmlFor:"name",children:"Name"}),(0,a.jsx)(c.p,{id:"name",type:"text",value:Y,onChange:e=>V(e.target.value),placeholder:"Your name"})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email address"}),(0,a.jsx)(c.p,{id:"email",type:"email",value:z,onChange:e=>J(e.target.value),disabled:!0,className:"bg-muted"}),(0,a.jsx)(i.QX,{className:"text-xs",children:"Email cannot be changed"})]}),"PROVIDER"===E.accountType&&(0,a.jsx)("div",{className:"md:col-span-2 pt-4 border-t",children:(0,a.jsx)(k,{})}),(0,a.jsxs)("div",{className:"space-y-3 md:col-span-2 pt-4 border-t","data-tour":"settings-tour-section",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(d.J,{className:"text-base",children:"Setup Guide"}),eo&&(0,a.jsx)(P.E,{variant:"secondary",className:"text-xs",children:"Complete"}),en&&!eo&&(0,a.jsx)(P.E,{variant:"outline",className:"text-xs",children:"Dismissed"})]}),!eo&&!en&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(R.k,{value:es.percentage,className:"h-2 flex-1 max-w-xs"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[es.completed,"/",es.total," steps"]})]}),(0,a.jsx)(i.QX,{className:"text-sm",children:eo?"You've completed the setup guide. You can restart it anytime to revisit the features.":en?"You dismissed the setup guide. Restart it to learn about all the features.":"Complete the setup guide to learn about all the features of the platform."}),(0,a.jsxs)(u.$,{variant:eo||en?"default":"outline",size:"sm",onClick:el,disabled:L,children:[L?(0,a.jsx)(O.y,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),eo||en?"Restart Setup Guide":"Reset Progress"]})]}),(0,a.jsxs)("div",{className:"space-y-4 md:col-span-2 pt-6 border-t border-destructive/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-5 w-5 text-destructive"}),(0,a.jsx)(d.J,{className:"text-base text-destructive",children:"Danger Zone"})]}),(0,a.jsx)(i.QX,{className:"text-sm",children:"These actions are irreversible. Please proceed with caution."}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-destructive/20 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Deactivate account"})]}),(0,a.jsx)(i.QX,{className:"text-xs mt-1",children:"Temporarily disable your account. You can reactivate it later."})]}),(0,a.jsxs)(I.Lt,{open:ee,onOpenChange:et,children:[(0,a.jsx)(I.tv,{asChild:!0,children:(0,a.jsx)(u.$,{variant:"outline",size:"sm",children:"Deactivate"})}),(0,a.jsxs)(I.EO,{children:[(0,a.jsxs)(I.wd,{children:[(0,a.jsx)(I.r7,{children:"Deactivate your account?"}),(0,a.jsx)(I.$v,{children:"Your account will be temporarily disabled. You won't be able to log in until you reactivate it. Your data will be preserved."})]}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)(d.J,{htmlFor:"deactivate-password",className:"text-sm font-medium",children:"Enter your password to confirm"}),(0,a.jsx)(c.p,{id:"deactivate-password",type:"password",placeholder:"Your password",value:H,onChange:e=>q(e.target.value),className:"mt-2"})]}),(0,a.jsxs)(I.ck,{children:[(0,a.jsx)(I.Zr,{onClick:()=>q(""),children:"Cancel"}),(0,a.jsxs)(u.$,{variant:"destructive",onClick:ei,disabled:Q||!H,children:[Q?(0,a.jsx)(O.y,{className:"h-4 w-4 mr-2"}):null,"Deactivate Account"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-destructive"}),(0,a.jsx)("span",{className:"font-medium text-sm text-destructive",children:"Delete account"})]}),(0,a.jsx)(i.QX,{className:"text-xs mt-1",children:"Permanently delete your account and all associated data. This cannot be undone."})]}),(0,a.jsxs)(I.Lt,{open:er,onOpenChange:ea,children:[(0,a.jsx)(I.tv,{asChild:!0,children:(0,a.jsx)(u.$,{variant:"destructive",size:"sm",children:"Delete"})}),(0,a.jsxs)(I.EO,{children:[(0,a.jsxs)(I.wd,{children:[(0,a.jsx)(I.r7,{className:"text-destructive",children:"Delete your account permanently?"}),(0,a.jsx)(I.$v,{children:"This action cannot be undone. Your account, personal workspace, and all associated data will be permanently deleted. You will be removed from all organizations you are a member of."})]}),(0,a.jsxs)("div",{className:"py-4 space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-destructive/10 rounded-md",children:[(0,a.jsx)("p",{className:"text-sm text-destructive font-medium",children:"Before proceeding, please note:"}),(0,a.jsxs)("ul",{className:"text-xs text-muted-foreground mt-2 space-y-1 list-disc list-inside",children:[(0,a.jsx)("li",{children:"All your projects in your personal workspace will be deleted"}),(0,a.jsx)("li",{children:"Your membership in organizations will be removed"}),(0,a.jsx)("li",{children:"You cannot be the sole owner of an organization"}),(0,a.jsx)("li",{children:"This action is immediate and irreversible"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"delete-password",className:"text-sm font-medium",children:"Enter your password to confirm"}),(0,a.jsx)(c.p,{id:"delete-password",type:"password",placeholder:"Your password",value:$,onChange:e=>W(e.target.value),className:"mt-2"})]})]}),(0,a.jsxs)(I.ck,{children:[(0,a.jsx)(I.Zr,{onClick:()=>W(""),children:"Cancel"}),(0,a.jsxs)(u.$,{variant:"destructive",onClick:ec,disabled:K||!$,children:[K?(0,a.jsx)(O.y,{className:"h-4 w-4 mr-2"}):null,"Delete Account Forever"]})]})]})]})]})]})]})]})})}},67812:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(95155);r(12115);var s=r(32467),o=r(83101),n=r(25016);let l=(0,o.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",flat:"text-foreground bg-none [a&]:hover:text-accent-foreground border-none",muted:"text-primary bg-muted border-none"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,asChild:o=!1,...i}=e,c=o?s.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(l({variant:r}),t),...i})}},75701:(e,t,r)=>{"use strict";r.d(t,{hq:()=>s,in:()=>o,zE:()=>n});var a=r(80408);let s=(e,t)=>{var r;if(!e)return(0,a.FK)(t);if("PERSONAL"===((null==(r=e.organization)?void 0:r.type)||e.organizationType||""))return"COMPANY";let s=e.orgRole||e.role||(null==e?void 0:e.organizationRole)||t;return(0,a.FK)(s)},o=(e,t)=>{var r,a;let s=e.find(e=>e.orgId===t),o=null!=(a=null!=(r=null==s?void 0:s.orgRole)?r:null==s?void 0:s.role)?a:null;return o?o.toUpperCase():null},n=e=>{let t=(0,a.FK)(e);return"COMPANY"===t||"AGENT"===t||"TECHNICIAN"===t?"/dashboard":"/"}}},e=>{e.O(0,[6143,541,547,5707,2110,8234,3409,2305,6628,5067,5657,5939,8698,8441,1255,7358],()=>e(e.s=6793)),_N_E=e.O()}]);