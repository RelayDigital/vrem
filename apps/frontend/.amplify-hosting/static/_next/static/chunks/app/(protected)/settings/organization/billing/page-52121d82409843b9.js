(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1122],{633:(e,t,r)=>{"use strict";r.d(t,{T5:()=>n.T5,hP:()=>a.hP,nO:()=>n.nO,yC:()=>o}),r(24763);var a=r(85016),n=r(57424);function o(e,t,r){let n=t.path||(null==r?void 0:r.path);return"path"===(t.routing||(null==r?void 0:r.routing)||"path")?n?{...r,...t,routing:"path"}:a.sb.throw((0,a.kd)(e)):t.path?a.sb.throw((0,a.s7)(e)):{...r,...t,path:void 0}}},6132:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19268:(e,t,r)=>{e.exports=r(44637)},21114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(95155),n=r(12115),o=r(20063),i=r(36342),s=r(74875);function l(){let{user:e,isLoading:t,isAllowed:r}=(0,i.N)(["COMPANY","PROJECT_MANAGER"]),l=(0,o.useRouter)();return((0,n.useEffect)(()=>{!t&&r&&(null==e?void 0:e.organizationId)&&l.replace("/organization/".concat(e.organizationId,"/settings"))},[t,r,l,null==e?void 0:e.organizationId]),e)?r?null:(0,a.jsx)(s.O,{title:"Access Denied",description:"You do not have permission to view organization settings. Please contact your administrator."}):null}},25016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o,e:()=>i,w:()=>s});var a=r(2821),n=r(75889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}let i=!1;function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){let t=[];return e.street&&t.push(e.street),t.push(e.city),t.push(e.stateProvince),e.postalCode&&t.push(e.postalCode),t.push(e.country),t.join(", ")}return"".concat(e.city,", ").concat(e.stateProvince,", ").concat(e.country)}},36342:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var a=r(12115),n=r(20063),o=r(65939),i=r(80408);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,n.useRouter)(),{user:s,isLoading:l,memberships:d,activeOrganizationId:u}=(0,o.A)(),{redirectOnDeny:c=!1,redirectTo:p="/dashboard"}=t;(0,a.useEffect)(()=>{if(l)return;if(!s){c&&r.replace("/");return}let t=e.map(e=>(0,i.FK)(e)),a=(0,i.aJ)(s,d,u)||(0,i.FK)(s.accountType);!t.includes(a)&&c&&r.replace(p)},[s,l,e,r,c,p,d,u]);let b=(()=>{if(l||!s)return!1;let t=e.map(e=>(0,i.FK)(e)),r=(0,i.aJ)(s,d,u)||(0,i.FK)(s.accountType);return t.includes(r)})();return{user:s,isLoading:l,isAllowed:b}}},44637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return o}});let a=r(12115),n=r(79862);function o(){return(0,a.useContext)(n.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47471:(e,t,r)=>{"use strict";r.d(t,{PromisifiedAuthProvider:()=>l,d:()=>d});var a=r(28014),n=r(633),o=r(19268),i=r(12115);let s=i.createContext(null);function l(e){let{authPromise:t,children:r}=e;return i.createElement(s.Provider,{value:t},r)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useRouter)(),r=i.useContext(s),l=r;return(r&&"then"in r&&(l=i.use(r)),"undefined"!=typeof window)?(0,a.As)({...l,...e}):t?(0,a.As)(e):(0,n.hP)({...l,...e})}},64936:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(2821),n=r(75889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:c,...p}=e;return(0,a.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:l?24*Number(s)/Number(n):s,className:o("lucide",d),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...c.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:l,...d}=r;return(0,a.createElement)(s,{ref:i,iconNode:t,className:o("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...d})});return r.displayName=n(e),r}},74875:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});var a=r(95155),n=r(20063),o=r(97003),i=r(83209),s=r(6132);function l(e){let{title:t="Access Denied",description:r="You do not have permission to access this page. Please contact your administrator.",redirectTo:l="/dashboard",redirectLabel:d="Go to Dashboard"}=e,u=(0,n.useRouter)();return(0,a.jsx)("div",{className:"size-full overflow-x-hidden flex items-center justify-center p-6",children:(0,a.jsxs)(i.Zp,{className:"max-w-md w-full",children:[(0,a.jsxs)(i.aR,{className:"mb-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-xs",children:[(0,a.jsx)(s.A,{className:"h-6 w-6 text-destructive"}),(0,a.jsx)(i.ZB,{children:t})]}),(0,a.jsx)(i.BT,{children:r})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(o.$,{onClick:()=>u.push(l),className:"w-full",children:d})})]})})}},79862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return a}});let a=r(28140)._(r(12115)).default.createContext(null)},80408:(e,t,r)=>{"use strict";r.d(t,{EL:()=>c,FK:()=>l,UD:()=>u,aJ:()=>d});let a=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],n=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"Jobs",icon:"Briefcase"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],o=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"My Jobs",icon:"Briefcase"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],i=[{path:"/dashboard",label:"Dashboard",icon:"LayoutDashboard"},{path:"/jobs/all-jobs",label:"My Jobs",icon:"Briefcase"},{path:"/jobs/job-management",label:"Job Board",icon:"Kanban"},{path:"/map",label:"Map",icon:"Map"},{path:"/calendar",label:"Calendar",icon:"Calendar"}],s=["OWNER","ADMIN","PROJECT_MANAGER","EDITOR"],l=e=>{let t=(e||"").toUpperCase();return"COMPANY"===t||s.includes(t)?"COMPANY":"TECHNICIAN"===t||"PROVIDER"===t?"TECHNICIAN":"AGENT"},d=(e,t,r)=>{if(!e)return null;let a=c(e,t,r);return a?a.showSidebar?"COMPANY":"AGENT"===a.accountType?"AGENT":"PERSONAL"===a.orgType?"COMPANY":"TECHNICIAN":null},u=e=>"COMPANY"===e;function c(e,t,r){var s;if(!e)return null;let l=t.find(e=>e.orgId===r),d=(null==l||null==(s=l.organization)?void 0:s.type)||(null==l?void 0:l.organizationType)||"PERSONAL",u="PERSONAL"===d?"PERSONAL_OWNER":(null==l?void 0:l.orgRole)||(null==l?void 0:l.role)||null,c=e.accountType||"PROVIDER",p=(u||"").toString().toUpperCase(),b="COMPANY"===d&&["OWNER","ADMIN","PROJECT_MANAGER"].includes(p),h=[],f=!1,v="New Job",g="",m=["OWNER","ADMIN","PERSONAL_OWNER"].includes(p)||"PERSONAL"===d;return b?(f=["OWNER","ADMIN"].includes(p),v="New Job",g=""):"AGENT"===c?(h=a,f=!0,v="Create Order",g="/booking"):"COMPANY"===d&&"EDITOR"===p?(h=i,f=!1):"COMPANY"===d&&"TECHNICIAN"===p?(h=o,f=!1):("PROVIDER"===c||"COMPANY"===c)&&(h=n,f=!1),{accountType:c,orgType:d,orgRole:u,showSidebar:b,isElevatedRole:b,navItems:h,canCreateOrder:f,createActionLabel:v,createActionPath:g,canManageCustomers:m}}},83209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>u,Wu:()=>c,ZB:()=>d,Zp:()=>s,aR:()=>l,wL:()=>p});var a=r(95155);r(12115);var n=r(83101),o=r(64936);let i=(0,n.F)("bg-card text-card-foreground flex flex-col gap-0 rounded-xl",{variants:{variant:{default:"border",outline:"border-2",ghost:"border-0 shadow-none",elevated:"border shadow-lg",bordered:"border-2 border-border",flat:"border-0 bg-transparent",muted:"border-none bg-muted"},size:{default:"rounded-md",sm:"rounded-lg",lg:"rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:t,variant:r,size:n,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,o.cn)(i({variant:r,size:n}),t),...s})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-0 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("h4",{"data-slot":"card-title",className:(0,o.cn)("leading-none",t),...r})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("p",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6 [&:last-child]:pb-6",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,o.cn)("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...r})}},97003:(e,t,r)=>{"use strict";r.d(t,{$:()=>l,r:()=>s});var a=r(95155);r(12115);var n=r(32467),o=r(83101),i=r(25016);let s=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",muted:"text-primary border-none bg-muted hover:bg-primary/20 transition-colors duration-300",flat:"text-primary border-none bg-transparent hover:text-primary/60 transition-colors duration-300",activeFlat:"text-primary border-none bg-transparent",mutedFlat:"text-primary/60 border-none bg-transparent hover:text-primary/90 transition-colors duration-300"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:o,asChild:l=!1,...d}=e,u=l?n.DX:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,i.cn)(s({variant:r,size:o,className:t})),...d})}},99055:(e,t,r)=>{Promise.resolve().then(r.bind(r,21114))}},e=>{e.O(0,[547,5707,5657,5939,8441,1255,7358],()=>e(e.s=99055)),_N_E=e.O()}]);